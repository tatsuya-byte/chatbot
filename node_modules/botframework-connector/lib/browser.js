'use strict';

var qce = require('botframework-schema');
var azureCoreHttpCompat = require('botbuilder-stdlib/lib/azureCoreHttpCompat');
var botbuilderStdlib = require('botbuilder-stdlib');

function _interopNamespace(e) {
  if (e && e.__esModule) return e;
  var n = Object.create(null);
  if (e) {
    Object.keys(e).forEach(function (k) {
      if (k !== 'default') {
        var d = Object.getOwnPropertyDescriptor(e, k);
        Object.defineProperty(n, k, d.get ? d : {
          enumerable: true,
          get: function () { return e[k]; }
        });
      }
    });
  }
  n.default = e;
  return Object.freeze(n);
}

var qce__namespace = /*#__PURE__*/_interopNamespace(qce);

var PM=Object.create;var Cl=Object.defineProperty,MM=Object.defineProperties,UM=Object.getOwnPropertyDescriptor,BM=Object.getOwnPropertyDescriptors,DM=Object.getOwnPropertyNames,lf=Object.getOwnPropertySymbols,LM=Object.getPrototypeOf,Ny=Object.prototype.hasOwnProperty,LT=Object.prototype.propertyIsEnumerable;var Us=(t,e)=>(e=Symbol[t])?e:Symbol.for("Symbol."+t),FM=t=>{throw TypeError(t)},Re=Math.pow,DT=(t,e,r)=>e in t?Cl(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,q=(t,e)=>{for(var r in e||(e={}))Ny.call(e,r)&&DT(t,r,e[r]);if(lf)for(var r of lf(e))LT.call(e,r)&&DT(t,r,e[r]);return t},ae=(t,e)=>MM(t,BM(e));var Bs=(t,e)=>{var r={};for(var n in t)Ny.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&lf)for(var n of lf(t))e.indexOf(n)<0&&LT.call(t,n)&&(r[n]=t[n]);return r};var Qt=(t,e)=>()=>(t&&(e=t(t=0)),e);var ce=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports),Ut=(t,e)=>{for(var r in e)Cl(t,r,{get:e[r],enumerable:!0});},uf=(t,e,r,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of DM(e))!Ny.call(t,i)&&i!==r&&Cl(t,i,{get:()=>e[i],enumerable:!(n=UM(e,i))||n.enumerable});return t},Ds=(t,e,r)=>(uf(t,e,"default"),r),Ar=(t,e,r)=>(r=t!=null?PM(LM(t)):{},uf(e||!t||!t.__esModule?Cl(r,"default",{value:t,enumerable:!0}):r,t)),ar=t=>uf(Cl({},"__esModule",{value:!0}),t);var L=(t,e,r)=>new Promise((n,i)=>{var o=u=>{try{s(r.next(u));}catch(d){i(d);}},a=u=>{try{s(r.throw(u));}catch(d){i(d);}},s=u=>u.done?n(u.value):Promise.resolve(u.value).then(o,a);s((r=r.apply(t,e)).next());}),Qo=function(t,e){this[0]=t,this[1]=e;},Oy=(t,e,r)=>{var n=(a,s,u,d)=>{try{var f=r[a](s),g=(s=f.value)instanceof Qo,C=f.done;Promise.resolve(g?s[0]:s).then(S=>g?n(a==="return"?a:"next",s[1]?{done:S.done,value:S.value}:S,u,d):u({value:S,done:C})).catch(S=>n("throw",S,u,d));}catch(S){d(S);}},i=a=>o[a]=s=>new Promise((u,d)=>n(a,s,u,d)),o={};return r=r.apply(t,e),o[Us("asyncIterator")]=()=>o,i("next"),i("throw"),i("return"),o},xy=t=>{var e=t[Us("asyncIterator")],r=!1,n,i={};return e==null?(e=t[Us("iterator")](),n=o=>i[o]=a=>e[o](a)):(e=e.call(t),n=o=>i[o]=a=>{if(r){if(r=!1,o==="throw")throw a;return a}return r=!0,{done:!1,value:new Qo(new Promise(s=>{var u=e[o](a);u instanceof Object||FM("Object expected"),s(u);}),1)}}),i[Us("iterator")]=()=>i,n("next"),"throw"in e?n("throw"):i.throw=o=>{throw o},"return"in e&&n("return"),i},df=(t,e,r)=>(e=t[Us("asyncIterator")])?e.call(t):(t=t[Us("iterator")](),e={},r=(n,i)=>(i=t[n])&&(e[n]=o=>new Promise((a,s,u)=>(o=i.call(t,o),u=o.done,Promise.resolve(o.value).then(d=>a({value:d,done:u}),s)))),r("next"),r("return"),e);var p=Qt(()=>{});var h=Qt(()=>{Ar(Qn(),1);});var HT=ce((LW,jT)=>{y();p();h();m();var Kt=jT.exports={},Xn,ei;function ky(){throw new Error("setTimeout has not been defined")}function Py(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?Xn=setTimeout:Xn=ky;}catch(t){Xn=ky;}try{typeof clearTimeout=="function"?ei=clearTimeout:ei=Py;}catch(t){ei=Py;}})();function FT(t){if(Xn===setTimeout)return setTimeout(t,0);if((Xn===ky||!Xn)&&setTimeout)return Xn=setTimeout,setTimeout(t,0);try{return Xn(t,0)}catch(e){try{return Xn.call(null,t,0)}catch(r){return Xn.call(this,t,0)}}}function qM(t){if(ei===clearTimeout)return clearTimeout(t);if((ei===Py||!ei)&&clearTimeout)return ei=clearTimeout,clearTimeout(t);try{return ei(t)}catch(e){try{return ei.call(null,t)}catch(r){return ei.call(this,t)}}}var Ii=[],Ls=!1,Xo,ff=-1;function jM(){!Ls||!Xo||(Ls=!1,Xo.length?Ii=Xo.concat(Ii):ff=-1,Ii.length&&zT());}function zT(){if(!Ls){var t=FT(jM);Ls=!0;for(var e=Ii.length;e;){for(Xo=Ii,Ii=[];++ff<e;)Xo&&Xo[ff].run();ff=-1,e=Ii.length;}Xo=null,Ls=!1,qM(t);}}Kt.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)e[r-1]=arguments[r];Ii.push(new qT(t,e)),Ii.length===1&&!Ls&&FT(zT);};function qT(t,e){this.fun=t,this.array=e;}qT.prototype.run=function(){this.fun.apply(null,this.array);};Kt.title="browser";Kt.browser=!0;Kt.env={};Kt.argv=[];Kt.version="";Kt.versions={};function Ni(){}Kt.on=Ni;Kt.addListener=Ni;Kt.once=Ni;Kt.off=Ni;Kt.removeListener=Ni;Kt.removeAllListeners=Ni;Kt.emit=Ni;Kt.prependListener=Ni;Kt.prependOnceListener=Ni;Kt.listeners=function(t){return []};Kt.binding=function(t){throw new Error("process.binding is not supported")};Kt.cwd=function(){return "/"};Kt.chdir=function(t){throw new Error("process.chdir is not supported")};Kt.umask=function(){return 0};});var A,m=Qt(()=>{A=Ar(HT(),1);});var GT=ce(pf=>{y();p();h();m();pf.byteLength=$M;pf.toByteArray=GM;pf.fromByteArray=YM;var ti=[],dn=[],HM=typeof Uint8Array!="undefined"?Uint8Array:Array,My="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(ea=0,$T=My.length;ea<$T;++ea)ti[ea]=My[ea],dn[My.charCodeAt(ea)]=ea;var ea,$T;dn[45]=62;dn[95]=63;function VT(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var r=t.indexOf("=");r===-1&&(r=e);var n=r===e?0:4-r%4;return [r,n]}function $M(t){var e=VT(t),r=e[0],n=e[1];return (r+n)*3/4-n}function VM(t,e,r){return (e+r)*3/4-r}function GM(t){var e,r=VT(t),n=r[0],i=r[1],o=new HM(VM(t,n,i)),a=0,s=i>0?n-4:n,u;for(u=0;u<s;u+=4)e=dn[t.charCodeAt(u)]<<18|dn[t.charCodeAt(u+1)]<<12|dn[t.charCodeAt(u+2)]<<6|dn[t.charCodeAt(u+3)],o[a++]=e>>16&255,o[a++]=e>>8&255,o[a++]=e&255;return i===2&&(e=dn[t.charCodeAt(u)]<<2|dn[t.charCodeAt(u+1)]>>4,o[a++]=e&255),i===1&&(e=dn[t.charCodeAt(u)]<<10|dn[t.charCodeAt(u+1)]<<4|dn[t.charCodeAt(u+2)]>>2,o[a++]=e>>8&255,o[a++]=e&255),o}function WM(t){return ti[t>>18&63]+ti[t>>12&63]+ti[t>>6&63]+ti[t&63]}function KM(t,e,r){for(var n,i=[],o=e;o<r;o+=3)n=(t[o]<<16&16711680)+(t[o+1]<<8&65280)+(t[o+2]&255),i.push(WM(n));return i.join("")}function YM(t){for(var e,r=t.length,n=r%3,i=[],o=16383,a=0,s=r-n;a<s;a+=o)i.push(KM(t,a,a+o>s?s:a+o));return n===1?(e=t[r-1],i.push(ti[e>>2]+ti[e<<4&63]+"==")):n===2&&(e=(t[r-2]<<8)+t[r-1],i.push(ti[e>>10]+ti[e>>4&63]+ti[e<<2&63]+"=")),i.join("")}});var WT=ce(Uy=>{y();p();h();m();Uy.read=function(t,e,r,n,i){var o,a,s=i*8-n-1,u=(1<<s)-1,d=u>>1,f=-7,g=r?i-1:0,C=r?-1:1,S=t[e+g];for(g+=C,o=S&(1<<-f)-1,S>>=-f,f+=s;f>0;o=o*256+t[e+g],g+=C,f-=8);for(a=o&(1<<-f)-1,o>>=-f,f+=n;f>0;a=a*256+t[e+g],g+=C,f-=8);if(o===0)o=1-d;else {if(o===u)return a?NaN:(S?-1:1)*(1/0);a=a+Math.pow(2,n),o=o-d;}return (S?-1:1)*a*Math.pow(2,o-n)};Uy.write=function(t,e,r,n,i,o){var a,s,u,d=o*8-i-1,f=(1<<d)-1,g=f>>1,C=i===23?Math.pow(2,-24)-Math.pow(2,-77):0,S=n?0:o-1,E=n?1:-1,T=e<0||e===0&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(s=isNaN(e)?1:0,a=f):(a=Math.floor(Math.log(e)/Math.LN2),e*(u=Math.pow(2,-a))<1&&(a--,u*=2),a+g>=1?e+=C/u:e+=C*Math.pow(2,1-g),e*u>=2&&(a++,u/=2),a+g>=f?(s=0,a=f):a+g>=1?(s=(e*u-1)*Math.pow(2,i),a=a+g):(s=e*Math.pow(2,g-1)*Math.pow(2,i),a=0));i>=8;t[r+S]=s&255,S+=E,s/=256,i-=8);for(a=a<<i|s,d+=i;d>0;t[r+S]=a&255,S+=E,a/=256,d-=8);t[r+S-E]|=T*128;};});var Qn=ce(js=>{y();p();h();m();var By=GT(),zs=WT(),KT=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;js.Buffer=ie;js.SlowBuffer=t1;js.INSPECT_MAX_BYTES=50;var hf=2147483647;js.kMaxLength=hf;ie.TYPED_ARRAY_SUPPORT=JM();!ie.TYPED_ARRAY_SUPPORT&&typeof console!="undefined"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function JM(){try{let t=new Uint8Array(1),e={foo:function(){return 42}};return Object.setPrototypeOf(e,Uint8Array.prototype),Object.setPrototypeOf(t,e),t.foo()===42}catch(t){return !1}}Object.defineProperty(ie.prototype,"parent",{enumerable:!0,get:function(){if(ie.isBuffer(this))return this.buffer}});Object.defineProperty(ie.prototype,"offset",{enumerable:!0,get:function(){if(ie.isBuffer(this))return this.byteOffset}});function Oi(t){if(t>hf)throw new RangeError('The value "'+t+'" is invalid for option "size"');let e=new Uint8Array(t);return Object.setPrototypeOf(e,ie.prototype),e}function ie(t,e,r){if(typeof t=="number"){if(typeof e=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return zy(t)}return QT(t,e,r)}ie.poolSize=8192;function QT(t,e,r){if(typeof t=="string")return QM(t,e);if(ArrayBuffer.isView(t))return XM(t);if(t==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t);if(ri(t,ArrayBuffer)||t&&ri(t.buffer,ArrayBuffer)||typeof SharedArrayBuffer!="undefined"&&(ri(t,SharedArrayBuffer)||t&&ri(t.buffer,SharedArrayBuffer)))return Ly(t,e,r);if(typeof t=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');let n=t.valueOf&&t.valueOf();if(n!=null&&n!==t)return ie.from(n,e,r);let i=e1(t);if(i)return i;if(typeof Symbol!="undefined"&&Symbol.toPrimitive!=null&&typeof t[Symbol.toPrimitive]=="function")return ie.from(t[Symbol.toPrimitive]("string"),e,r);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t)}ie.from=function(t,e,r){return QT(t,e,r)};Object.setPrototypeOf(ie.prototype,Uint8Array.prototype);Object.setPrototypeOf(ie,Uint8Array);function XT(t){if(typeof t!="number")throw new TypeError('"size" argument must be of type number');if(t<0)throw new RangeError('The value "'+t+'" is invalid for option "size"')}function ZM(t,e,r){return XT(t),t<=0?Oi(t):e!==void 0?typeof r=="string"?Oi(t).fill(e,r):Oi(t).fill(e):Oi(t)}ie.alloc=function(t,e,r){return ZM(t,e,r)};function zy(t){return XT(t),Oi(t<0?0:qy(t)|0)}ie.allocUnsafe=function(t){return zy(t)};ie.allocUnsafeSlow=function(t){return zy(t)};function QM(t,e){if((typeof e!="string"||e==="")&&(e="utf8"),!ie.isEncoding(e))throw new TypeError("Unknown encoding: "+e);let r=ew(t,e)|0,n=Oi(r),i=n.write(t,e);return i!==r&&(n=n.slice(0,i)),n}function Dy(t){let e=t.length<0?0:qy(t.length)|0,r=Oi(e);for(let n=0;n<e;n+=1)r[n]=t[n]&255;return r}function XM(t){if(ri(t,Uint8Array)){let e=new Uint8Array(t);return Ly(e.buffer,e.byteOffset,e.byteLength)}return Dy(t)}function Ly(t,e,r){if(e<0||t.byteLength<e)throw new RangeError('"offset" is outside of buffer bounds');if(t.byteLength<e+(r||0))throw new RangeError('"length" is outside of buffer bounds');let n;return e===void 0&&r===void 0?n=new Uint8Array(t):r===void 0?n=new Uint8Array(t,e):n=new Uint8Array(t,e,r),Object.setPrototypeOf(n,ie.prototype),n}function e1(t){if(ie.isBuffer(t)){let e=qy(t.length)|0,r=Oi(e);return r.length===0||t.copy(r,0,0,e),r}if(t.length!==void 0)return typeof t.length!="number"||Hy(t.length)?Oi(0):Dy(t);if(t.type==="Buffer"&&Array.isArray(t.data))return Dy(t.data)}function qy(t){if(t>=hf)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+hf.toString(16)+" bytes");return t|0}function t1(t){return +t!=t&&(t=0),ie.alloc(+t)}ie.isBuffer=function(e){return e!=null&&e._isBuffer===!0&&e!==ie.prototype};ie.compare=function(e,r){if(ri(e,Uint8Array)&&(e=ie.from(e,e.offset,e.byteLength)),ri(r,Uint8Array)&&(r=ie.from(r,r.offset,r.byteLength)),!ie.isBuffer(e)||!ie.isBuffer(r))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===r)return 0;let n=e.length,i=r.length;for(let o=0,a=Math.min(n,i);o<a;++o)if(e[o]!==r[o]){n=e[o],i=r[o];break}return n<i?-1:i<n?1:0};ie.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return !0;default:return !1}};ie.concat=function(e,r){if(!Array.isArray(e))throw new TypeError('"list" argument must be an Array of Buffers');if(e.length===0)return ie.alloc(0);let n;if(r===void 0)for(r=0,n=0;n<e.length;++n)r+=e[n].length;let i=ie.allocUnsafe(r),o=0;for(n=0;n<e.length;++n){let a=e[n];if(ri(a,Uint8Array))o+a.length>i.length?(ie.isBuffer(a)||(a=ie.from(a)),a.copy(i,o)):Uint8Array.prototype.set.call(i,a,o);else if(ie.isBuffer(a))a.copy(i,o);else throw new TypeError('"list" argument must be an Array of Buffers');o+=a.length;}return i};function ew(t,e){if(ie.isBuffer(t))return t.length;if(ArrayBuffer.isView(t)||ri(t,ArrayBuffer))return t.byteLength;if(typeof t!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof t);let r=t.length,n=arguments.length>2&&arguments[2]===!0;if(!n&&r===0)return 0;let i=!1;for(;;)switch(e){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":return Fy(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return r*2;case"hex":return r>>>1;case"base64":return lw(t).length;default:if(i)return n?-1:Fy(t).length;e=(""+e).toLowerCase(),i=!0;}}ie.byteLength=ew;function r1(t,e,r){let n=!1;if((e===void 0||e<0)&&(e=0),e>this.length||((r===void 0||r>this.length)&&(r=this.length),r<=0)||(r>>>=0,e>>>=0,r<=e))return "";for(t||(t="utf8");;)switch(t){case"hex":return f1(this,e,r);case"utf8":case"utf-8":return rw(this,e,r);case"ascii":return u1(this,e,r);case"latin1":case"binary":return d1(this,e,r);case"base64":return c1(this,e,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return p1(this,e,r);default:if(n)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),n=!0;}}ie.prototype._isBuffer=!0;function ta(t,e,r){let n=t[e];t[e]=t[r],t[r]=n;}ie.prototype.swap16=function(){let e=this.length;if(e%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let r=0;r<e;r+=2)ta(this,r,r+1);return this};ie.prototype.swap32=function(){let e=this.length;if(e%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let r=0;r<e;r+=4)ta(this,r,r+3),ta(this,r+1,r+2);return this};ie.prototype.swap64=function(){let e=this.length;if(e%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let r=0;r<e;r+=8)ta(this,r,r+7),ta(this,r+1,r+6),ta(this,r+2,r+5),ta(this,r+3,r+4);return this};ie.prototype.toString=function(){let e=this.length;return e===0?"":arguments.length===0?rw(this,0,e):r1.apply(this,arguments)};ie.prototype.toLocaleString=ie.prototype.toString;ie.prototype.equals=function(e){if(!ie.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e?!0:ie.compare(this,e)===0};ie.prototype.inspect=function(){let e="",r=js.INSPECT_MAX_BYTES;return e=this.toString("hex",0,r).replace(/(.{2})/g,"$1 ").trim(),this.length>r&&(e+=" ... "),"<Buffer "+e+">"};KT&&(ie.prototype[KT]=ie.prototype.inspect);ie.prototype.compare=function(e,r,n,i,o){if(ri(e,Uint8Array)&&(e=ie.from(e,e.offset,e.byteLength)),!ie.isBuffer(e))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(r===void 0&&(r=0),n===void 0&&(n=e?e.length:0),i===void 0&&(i=0),o===void 0&&(o=this.length),r<0||n>e.length||i<0||o>this.length)throw new RangeError("out of range index");if(i>=o&&r>=n)return 0;if(i>=o)return -1;if(r>=n)return 1;if(r>>>=0,n>>>=0,i>>>=0,o>>>=0,this===e)return 0;let a=o-i,s=n-r,u=Math.min(a,s),d=this.slice(i,o),f=e.slice(r,n);for(let g=0;g<u;++g)if(d[g]!==f[g]){a=d[g],s=f[g];break}return a<s?-1:s<a?1:0};function tw(t,e,r,n,i){if(t.length===0)return -1;if(typeof r=="string"?(n=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),r=+r,Hy(r)&&(r=i?0:t.length-1),r<0&&(r=t.length+r),r>=t.length){if(i)return -1;r=t.length-1;}else if(r<0)if(i)r=0;else return -1;if(typeof e=="string"&&(e=ie.from(e,n)),ie.isBuffer(e))return e.length===0?-1:YT(t,e,r,n,i);if(typeof e=="number")return e=e&255,typeof Uint8Array.prototype.indexOf=="function"?i?Uint8Array.prototype.indexOf.call(t,e,r):Uint8Array.prototype.lastIndexOf.call(t,e,r):YT(t,[e],r,n,i);throw new TypeError("val must be string, number or Buffer")}function YT(t,e,r,n,i){let o=1,a=t.length,s=e.length;if(n!==void 0&&(n=String(n).toLowerCase(),n==="ucs2"||n==="ucs-2"||n==="utf16le"||n==="utf-16le")){if(t.length<2||e.length<2)return -1;o=2,a/=2,s/=2,r/=2;}function u(f,g){return o===1?f[g]:f.readUInt16BE(g*o)}let d;if(i){let f=-1;for(d=r;d<a;d++)if(u(t,d)===u(e,f===-1?0:d-f)){if(f===-1&&(f=d),d-f+1===s)return f*o}else f!==-1&&(d-=d-f),f=-1;}else for(r+s>a&&(r=a-s),d=r;d>=0;d--){let f=!0;for(let g=0;g<s;g++)if(u(t,d+g)!==u(e,g)){f=!1;break}if(f)return d}return -1}ie.prototype.includes=function(e,r,n){return this.indexOf(e,r,n)!==-1};ie.prototype.indexOf=function(e,r,n){return tw(this,e,r,n,!0)};ie.prototype.lastIndexOf=function(e,r,n){return tw(this,e,r,n,!1)};function n1(t,e,r,n){r=Number(r)||0;let i=t.length-r;n?(n=Number(n),n>i&&(n=i)):n=i;let o=e.length;n>o/2&&(n=o/2);let a;for(a=0;a<n;++a){let s=parseInt(e.substr(a*2,2),16);if(Hy(s))return a;t[r+a]=s;}return a}function i1(t,e,r,n){return mf(Fy(e,t.length-r),t,r,n)}function o1(t,e,r,n){return mf(g1(e),t,r,n)}function a1(t,e,r,n){return mf(lw(e),t,r,n)}function s1(t,e,r,n){return mf(v1(e,t.length-r),t,r,n)}ie.prototype.write=function(e,r,n,i){if(r===void 0)i="utf8",n=this.length,r=0;else if(n===void 0&&typeof r=="string")i=r,n=this.length,r=0;else if(isFinite(r))r=r>>>0,isFinite(n)?(n=n>>>0,i===void 0&&(i="utf8")):(i=n,n=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");let o=this.length-r;if((n===void 0||n>o)&&(n=o),e.length>0&&(n<0||r<0)||r>this.length)throw new RangeError("Attempt to write outside buffer bounds");i||(i="utf8");let a=!1;for(;;)switch(i){case"hex":return n1(this,e,r,n);case"utf8":case"utf-8":return i1(this,e,r,n);case"ascii":case"latin1":case"binary":return o1(this,e,r,n);case"base64":return a1(this,e,r,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return s1(this,e,r,n);default:if(a)throw new TypeError("Unknown encoding: "+i);i=(""+i).toLowerCase(),a=!0;}};ie.prototype.toJSON=function(){return {type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function c1(t,e,r){return e===0&&r===t.length?By.fromByteArray(t):By.fromByteArray(t.slice(e,r))}function rw(t,e,r){r=Math.min(t.length,r);let n=[],i=e;for(;i<r;){let o=t[i],a=null,s=o>239?4:o>223?3:o>191?2:1;if(i+s<=r){let u,d,f,g;switch(s){case 1:o<128&&(a=o);break;case 2:u=t[i+1],(u&192)===128&&(g=(o&31)<<6|u&63,g>127&&(a=g));break;case 3:u=t[i+1],d=t[i+2],(u&192)===128&&(d&192)===128&&(g=(o&15)<<12|(u&63)<<6|d&63,g>2047&&(g<55296||g>57343)&&(a=g));break;case 4:u=t[i+1],d=t[i+2],f=t[i+3],(u&192)===128&&(d&192)===128&&(f&192)===128&&(g=(o&15)<<18|(u&63)<<12|(d&63)<<6|f&63,g>65535&&g<1114112&&(a=g));}}a===null?(a=65533,s=1):a>65535&&(a-=65536,n.push(a>>>10&1023|55296),a=56320|a&1023),n.push(a),i+=s;}return l1(n)}var JT=4096;function l1(t){let e=t.length;if(e<=JT)return String.fromCharCode.apply(String,t);let r="",n=0;for(;n<e;)r+=String.fromCharCode.apply(String,t.slice(n,n+=JT));return r}function u1(t,e,r){let n="";r=Math.min(t.length,r);for(let i=e;i<r;++i)n+=String.fromCharCode(t[i]&127);return n}function d1(t,e,r){let n="";r=Math.min(t.length,r);for(let i=e;i<r;++i)n+=String.fromCharCode(t[i]);return n}function f1(t,e,r){let n=t.length;(!e||e<0)&&(e=0),(!r||r<0||r>n)&&(r=n);let i="";for(let o=e;o<r;++o)i+=E1[t[o]];return i}function p1(t,e,r){let n=t.slice(e,r),i="";for(let o=0;o<n.length-1;o+=2)i+=String.fromCharCode(n[o]+n[o+1]*256);return i}ie.prototype.slice=function(e,r){let n=this.length;e=~~e,r=r===void 0?n:~~r,e<0?(e+=n,e<0&&(e=0)):e>n&&(e=n),r<0?(r+=n,r<0&&(r=0)):r>n&&(r=n),r<e&&(r=e);let i=this.subarray(e,r);return Object.setPrototypeOf(i,ie.prototype),i};function fr(t,e,r){if(t%1!==0||t<0)throw new RangeError("offset is not uint");if(t+e>r)throw new RangeError("Trying to access beyond buffer length")}ie.prototype.readUintLE=ie.prototype.readUIntLE=function(e,r,n){e=e>>>0,r=r>>>0,n||fr(e,r,this.length);let i=this[e],o=1,a=0;for(;++a<r&&(o*=256);)i+=this[e+a]*o;return i};ie.prototype.readUintBE=ie.prototype.readUIntBE=function(e,r,n){e=e>>>0,r=r>>>0,n||fr(e,r,this.length);let i=this[e+--r],o=1;for(;r>0&&(o*=256);)i+=this[e+--r]*o;return i};ie.prototype.readUint8=ie.prototype.readUInt8=function(e,r){return e=e>>>0,r||fr(e,1,this.length),this[e]};ie.prototype.readUint16LE=ie.prototype.readUInt16LE=function(e,r){return e=e>>>0,r||fr(e,2,this.length),this[e]|this[e+1]<<8};ie.prototype.readUint16BE=ie.prototype.readUInt16BE=function(e,r){return e=e>>>0,r||fr(e,2,this.length),this[e]<<8|this[e+1]};ie.prototype.readUint32LE=ie.prototype.readUInt32LE=function(e,r){return e=e>>>0,r||fr(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+this[e+3]*16777216};ie.prototype.readUint32BE=ie.prototype.readUInt32BE=function(e,r){return e=e>>>0,r||fr(e,4,this.length),this[e]*16777216+(this[e+1]<<16|this[e+2]<<8|this[e+3])};ie.prototype.readBigUInt64LE=ao(function(e){e=e>>>0,qs(e,"offset");let r=this[e],n=this[e+7];(r===void 0||n===void 0)&&Sl(e,this.length-8);let i=r+this[++e]*Re(2,8)+this[++e]*Re(2,16)+this[++e]*Re(2,24),o=this[++e]+this[++e]*Re(2,8)+this[++e]*Re(2,16)+n*Re(2,24);return BigInt(i)+(BigInt(o)<<BigInt(32))});ie.prototype.readBigUInt64BE=ao(function(e){e=e>>>0,qs(e,"offset");let r=this[e],n=this[e+7];(r===void 0||n===void 0)&&Sl(e,this.length-8);let i=r*Re(2,24)+this[++e]*Re(2,16)+this[++e]*Re(2,8)+this[++e],o=this[++e]*Re(2,24)+this[++e]*Re(2,16)+this[++e]*Re(2,8)+n;return (BigInt(i)<<BigInt(32))+BigInt(o)});ie.prototype.readIntLE=function(e,r,n){e=e>>>0,r=r>>>0,n||fr(e,r,this.length);let i=this[e],o=1,a=0;for(;++a<r&&(o*=256);)i+=this[e+a]*o;return o*=128,i>=o&&(i-=Math.pow(2,8*r)),i};ie.prototype.readIntBE=function(e,r,n){e=e>>>0,r=r>>>0,n||fr(e,r,this.length);let i=r,o=1,a=this[e+--i];for(;i>0&&(o*=256);)a+=this[e+--i]*o;return o*=128,a>=o&&(a-=Math.pow(2,8*r)),a};ie.prototype.readInt8=function(e,r){return e=e>>>0,r||fr(e,1,this.length),this[e]&128?(255-this[e]+1)*-1:this[e]};ie.prototype.readInt16LE=function(e,r){e=e>>>0,r||fr(e,2,this.length);let n=this[e]|this[e+1]<<8;return n&32768?n|4294901760:n};ie.prototype.readInt16BE=function(e,r){e=e>>>0,r||fr(e,2,this.length);let n=this[e+1]|this[e]<<8;return n&32768?n|4294901760:n};ie.prototype.readInt32LE=function(e,r){return e=e>>>0,r||fr(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24};ie.prototype.readInt32BE=function(e,r){return e=e>>>0,r||fr(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]};ie.prototype.readBigInt64LE=ao(function(e){e=e>>>0,qs(e,"offset");let r=this[e],n=this[e+7];(r===void 0||n===void 0)&&Sl(e,this.length-8);let i=this[e+4]+this[e+5]*Re(2,8)+this[e+6]*Re(2,16)+(n<<24);return (BigInt(i)<<BigInt(32))+BigInt(r+this[++e]*Re(2,8)+this[++e]*Re(2,16)+this[++e]*Re(2,24))});ie.prototype.readBigInt64BE=ao(function(e){e=e>>>0,qs(e,"offset");let r=this[e],n=this[e+7];(r===void 0||n===void 0)&&Sl(e,this.length-8);let i=(r<<24)+this[++e]*Re(2,16)+this[++e]*Re(2,8)+this[++e];return (BigInt(i)<<BigInt(32))+BigInt(this[++e]*Re(2,24)+this[++e]*Re(2,16)+this[++e]*Re(2,8)+n)});ie.prototype.readFloatLE=function(e,r){return e=e>>>0,r||fr(e,4,this.length),zs.read(this,e,!0,23,4)};ie.prototype.readFloatBE=function(e,r){return e=e>>>0,r||fr(e,4,this.length),zs.read(this,e,!1,23,4)};ie.prototype.readDoubleLE=function(e,r){return e=e>>>0,r||fr(e,8,this.length),zs.read(this,e,!0,52,8)};ie.prototype.readDoubleBE=function(e,r){return e=e>>>0,r||fr(e,8,this.length),zs.read(this,e,!1,52,8)};function Fr(t,e,r,n,i,o){if(!ie.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>i||e<o)throw new RangeError('"value" argument is out of bounds');if(r+n>t.length)throw new RangeError("Index out of range")}ie.prototype.writeUintLE=ie.prototype.writeUIntLE=function(e,r,n,i){if(e=+e,r=r>>>0,n=n>>>0,!i){let s=Math.pow(2,8*n)-1;Fr(this,e,r,n,s,0);}let o=1,a=0;for(this[r]=e&255;++a<n&&(o*=256);)this[r+a]=e/o&255;return r+n};ie.prototype.writeUintBE=ie.prototype.writeUIntBE=function(e,r,n,i){if(e=+e,r=r>>>0,n=n>>>0,!i){let s=Math.pow(2,8*n)-1;Fr(this,e,r,n,s,0);}let o=n-1,a=1;for(this[r+o]=e&255;--o>=0&&(a*=256);)this[r+o]=e/a&255;return r+n};ie.prototype.writeUint8=ie.prototype.writeUInt8=function(e,r,n){return e=+e,r=r>>>0,n||Fr(this,e,r,1,255,0),this[r]=e&255,r+1};ie.prototype.writeUint16LE=ie.prototype.writeUInt16LE=function(e,r,n){return e=+e,r=r>>>0,n||Fr(this,e,r,2,65535,0),this[r]=e&255,this[r+1]=e>>>8,r+2};ie.prototype.writeUint16BE=ie.prototype.writeUInt16BE=function(e,r,n){return e=+e,r=r>>>0,n||Fr(this,e,r,2,65535,0),this[r]=e>>>8,this[r+1]=e&255,r+2};ie.prototype.writeUint32LE=ie.prototype.writeUInt32LE=function(e,r,n){return e=+e,r=r>>>0,n||Fr(this,e,r,4,4294967295,0),this[r+3]=e>>>24,this[r+2]=e>>>16,this[r+1]=e>>>8,this[r]=e&255,r+4};ie.prototype.writeUint32BE=ie.prototype.writeUInt32BE=function(e,r,n){return e=+e,r=r>>>0,n||Fr(this,e,r,4,4294967295,0),this[r]=e>>>24,this[r+1]=e>>>16,this[r+2]=e>>>8,this[r+3]=e&255,r+4};function nw(t,e,r,n,i){cw(e,n,i,t,r,7);let o=Number(e&BigInt(4294967295));t[r++]=o,o=o>>8,t[r++]=o,o=o>>8,t[r++]=o,o=o>>8,t[r++]=o;let a=Number(e>>BigInt(32)&BigInt(4294967295));return t[r++]=a,a=a>>8,t[r++]=a,a=a>>8,t[r++]=a,a=a>>8,t[r++]=a,r}function iw(t,e,r,n,i){cw(e,n,i,t,r,7);let o=Number(e&BigInt(4294967295));t[r+7]=o,o=o>>8,t[r+6]=o,o=o>>8,t[r+5]=o,o=o>>8,t[r+4]=o;let a=Number(e>>BigInt(32)&BigInt(4294967295));return t[r+3]=a,a=a>>8,t[r+2]=a,a=a>>8,t[r+1]=a,a=a>>8,t[r]=a,r+8}ie.prototype.writeBigUInt64LE=ao(function(e,r=0){return nw(this,e,r,BigInt(0),BigInt("0xffffffffffffffff"))});ie.prototype.writeBigUInt64BE=ao(function(e,r=0){return iw(this,e,r,BigInt(0),BigInt("0xffffffffffffffff"))});ie.prototype.writeIntLE=function(e,r,n,i){if(e=+e,r=r>>>0,!i){let u=Math.pow(2,8*n-1);Fr(this,e,r,n,u-1,-u);}let o=0,a=1,s=0;for(this[r]=e&255;++o<n&&(a*=256);)e<0&&s===0&&this[r+o-1]!==0&&(s=1),this[r+o]=(e/a>>0)-s&255;return r+n};ie.prototype.writeIntBE=function(e,r,n,i){if(e=+e,r=r>>>0,!i){let u=Math.pow(2,8*n-1);Fr(this,e,r,n,u-1,-u);}let o=n-1,a=1,s=0;for(this[r+o]=e&255;--o>=0&&(a*=256);)e<0&&s===0&&this[r+o+1]!==0&&(s=1),this[r+o]=(e/a>>0)-s&255;return r+n};ie.prototype.writeInt8=function(e,r,n){return e=+e,r=r>>>0,n||Fr(this,e,r,1,127,-128),e<0&&(e=255+e+1),this[r]=e&255,r+1};ie.prototype.writeInt16LE=function(e,r,n){return e=+e,r=r>>>0,n||Fr(this,e,r,2,32767,-32768),this[r]=e&255,this[r+1]=e>>>8,r+2};ie.prototype.writeInt16BE=function(e,r,n){return e=+e,r=r>>>0,n||Fr(this,e,r,2,32767,-32768),this[r]=e>>>8,this[r+1]=e&255,r+2};ie.prototype.writeInt32LE=function(e,r,n){return e=+e,r=r>>>0,n||Fr(this,e,r,4,2147483647,-2147483648),this[r]=e&255,this[r+1]=e>>>8,this[r+2]=e>>>16,this[r+3]=e>>>24,r+4};ie.prototype.writeInt32BE=function(e,r,n){return e=+e,r=r>>>0,n||Fr(this,e,r,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),this[r]=e>>>24,this[r+1]=e>>>16,this[r+2]=e>>>8,this[r+3]=e&255,r+4};ie.prototype.writeBigInt64LE=ao(function(e,r=0){return nw(this,e,r,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});ie.prototype.writeBigInt64BE=ao(function(e,r=0){return iw(this,e,r,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function ow(t,e,r,n,i,o){if(r+n>t.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function aw(t,e,r,n,i){return e=+e,r=r>>>0,i||ow(t,e,r,4),zs.write(t,e,r,n,23,4),r+4}ie.prototype.writeFloatLE=function(e,r,n){return aw(this,e,r,!0,n)};ie.prototype.writeFloatBE=function(e,r,n){return aw(this,e,r,!1,n)};function sw(t,e,r,n,i){return e=+e,r=r>>>0,i||ow(t,e,r,8),zs.write(t,e,r,n,52,8),r+8}ie.prototype.writeDoubleLE=function(e,r,n){return sw(this,e,r,!0,n)};ie.prototype.writeDoubleBE=function(e,r,n){return sw(this,e,r,!1,n)};ie.prototype.copy=function(e,r,n,i){if(!ie.isBuffer(e))throw new TypeError("argument should be a Buffer");if(n||(n=0),!i&&i!==0&&(i=this.length),r>=e.length&&(r=e.length),r||(r=0),i>0&&i<n&&(i=n),i===n||e.length===0||this.length===0)return 0;if(r<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("Index out of range");if(i<0)throw new RangeError("sourceEnd out of bounds");i>this.length&&(i=this.length),e.length-r<i-n&&(i=e.length-r+n);let o=i-n;return this===e&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(r,n,i):Uint8Array.prototype.set.call(e,this.subarray(n,i),r),o};ie.prototype.fill=function(e,r,n,i){if(typeof e=="string"){if(typeof r=="string"?(i=r,r=0,n=this.length):typeof n=="string"&&(i=n,n=this.length),i!==void 0&&typeof i!="string")throw new TypeError("encoding must be a string");if(typeof i=="string"&&!ie.isEncoding(i))throw new TypeError("Unknown encoding: "+i);if(e.length===1){let a=e.charCodeAt(0);(i==="utf8"&&a<128||i==="latin1")&&(e=a);}}else typeof e=="number"?e=e&255:typeof e=="boolean"&&(e=Number(e));if(r<0||this.length<r||this.length<n)throw new RangeError("Out of range index");if(n<=r)return this;r=r>>>0,n=n===void 0?this.length:n>>>0,e||(e=0);let o;if(typeof e=="number")for(o=r;o<n;++o)this[o]=e;else {let a=ie.isBuffer(e)?e:ie.from(e,i),s=a.length;if(s===0)throw new TypeError('The value "'+e+'" is invalid for argument "value"');for(o=0;o<n-r;++o)this[o+r]=a[o%s];}return this};var Fs={};function jy(t,e,r){Fs[t]=class extends r{constructor(){super(),Object.defineProperty(this,"message",{value:e.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${t}]`,this.stack,delete this.name;}get code(){return t}set code(i){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:i,writable:!0});}toString(){return `${this.name} [${t}]: ${this.message}`}};}jy("ERR_BUFFER_OUT_OF_BOUNDS",function(t){return t?`${t} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError);jy("ERR_INVALID_ARG_TYPE",function(t,e){return `The "${t}" argument must be of type number. Received type ${typeof e}`},TypeError);jy("ERR_OUT_OF_RANGE",function(t,e,r){let n=`The value of "${t}" is out of range.`,i=r;return Number.isInteger(r)&&Math.abs(r)>Re(2,32)?i=ZT(String(r)):typeof r=="bigint"&&(i=String(r),(r>Re(BigInt(2),BigInt(32))||r<-Re(BigInt(2),BigInt(32)))&&(i=ZT(i)),i+="n"),n+=` It must be ${e}. Received ${i}`,n},RangeError);function ZT(t){let e="",r=t.length,n=t[0]==="-"?1:0;for(;r>=n+4;r-=3)e=`_${t.slice(r-3,r)}${e}`;return `${t.slice(0,r)}${e}`}function h1(t,e,r){qs(e,"offset"),(t[e]===void 0||t[e+r]===void 0)&&Sl(e,t.length-(r+1));}function cw(t,e,r,n,i,o){if(t>r||t<e){let a=typeof e=="bigint"?"n":"",s;throw e===0||e===BigInt(0)?s=`>= 0${a} and < 2${a} ** ${(o+1)*8}${a}`:s=`>= -(2${a} ** ${(o+1)*8-1}${a}) and < 2 ** ${(o+1)*8-1}${a}`,new Fs.ERR_OUT_OF_RANGE("value",s,t)}h1(n,i,o);}function qs(t,e){if(typeof t!="number")throw new Fs.ERR_INVALID_ARG_TYPE(e,"number",t)}function Sl(t,e,r){throw Math.floor(t)!==t?(qs(t,r),new Fs.ERR_OUT_OF_RANGE("offset","an integer",t)):e<0?new Fs.ERR_BUFFER_OUT_OF_BOUNDS:new Fs.ERR_OUT_OF_RANGE("offset",`>= ${0} and <= ${e}`,t)}var m1=/[^+/0-9A-Za-z-_]/g;function y1(t){if(t=t.split("=")[0],t=t.trim().replace(m1,""),t.length<2)return "";for(;t.length%4!==0;)t=t+"=";return t}function Fy(t,e){e=e||1/0;let r,n=t.length,i=null,o=[];for(let a=0;a<n;++a){if(r=t.charCodeAt(a),r>55295&&r<57344){if(!i){if(r>56319){(e-=3)>-1&&o.push(239,191,189);continue}else if(a+1===n){(e-=3)>-1&&o.push(239,191,189);continue}i=r;continue}if(r<56320){(e-=3)>-1&&o.push(239,191,189),i=r;continue}r=(i-55296<<10|r-56320)+65536;}else i&&(e-=3)>-1&&o.push(239,191,189);if(i=null,r<128){if((e-=1)<0)break;o.push(r);}else if(r<2048){if((e-=2)<0)break;o.push(r>>6|192,r&63|128);}else if(r<65536){if((e-=3)<0)break;o.push(r>>12|224,r>>6&63|128,r&63|128);}else if(r<1114112){if((e-=4)<0)break;o.push(r>>18|240,r>>12&63|128,r>>6&63|128,r&63|128);}else throw new Error("Invalid code point")}return o}function g1(t){let e=[];for(let r=0;r<t.length;++r)e.push(t.charCodeAt(r)&255);return e}function v1(t,e){let r,n,i,o=[];for(let a=0;a<t.length&&!((e-=2)<0);++a)r=t.charCodeAt(a),n=r>>8,i=r%256,o.push(i),o.push(n);return o}function lw(t){return By.toByteArray(y1(t))}function mf(t,e,r,n){let i;for(i=0;i<n&&!(i+r>=e.length||i>=t.length);++i)e[i+r]=t[i];return i}function ri(t,e){return t instanceof e||t!=null&&t.constructor!=null&&t.constructor.name!=null&&t.constructor.name===e.name}function Hy(t){return t!==t}var E1=function(){let t="0123456789abcdef",e=new Array(256);for(let r=0;r<16;++r){let n=r*16;for(let i=0;i<16;++i)e[n+i]=t[r]+t[i];}return e}();function ao(t){return typeof BigInt=="undefined"?C1:t}function C1(){throw new Error("BigInt not supported")}});var R,y=Qt(()=>{R=Ar(Qn());});var na=ce(($y,dw)=>{y();p();h();m();var gf=Qn(),ni=gf.Buffer;function uw(t,e){for(var r in t)e[r]=t[r];}ni.from&&ni.alloc&&ni.allocUnsafe&&ni.allocUnsafeSlow?dw.exports=gf:(uw(gf,$y),$y.Buffer=ra);function ra(t,e,r){return ni(t,e,r)}ra.prototype=Object.create(ni.prototype);uw(ni,ra);ra.from=function(t,e,r){if(typeof t=="number")throw new TypeError("Argument must not be a number");return ni(t,e,r)};ra.alloc=function(t,e,r){if(typeof t!="number")throw new TypeError("Argument must be a number");var n=ni(t);return e!==void 0?typeof r=="string"?n.fill(e,r):n.fill(e):n.fill(0),n};ra.allocUnsafe=function(t){if(typeof t!="number")throw new TypeError("Argument must be a number");return ni(t)};ra.allocUnsafeSlow=function(t){if(typeof t!="number")throw new TypeError("Argument must be a number");return gf.SlowBuffer(t)};});function bt(){bt.init.call(this);}function vf(t){if(typeof t!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t)}function Sw(t){return t._maxListeners===void 0?bt.defaultMaxListeners:t._maxListeners}function mw(t,e,r,n){var i,o,a,s;if(vf(r),(o=t._events)===void 0?(o=t._events=Object.create(null),t._eventsCount=0):(o.newListener!==void 0&&(t.emit("newListener",e,r.listener?r.listener:r),o=t._events),a=o[e]),a===void 0)a=o[e]=r,++t._eventsCount;else if(typeof a=="function"?a=o[e]=n?[r,a]:[a,r]:n?a.unshift(r):a.push(r),(i=Sw(t))>0&&a.length>i&&!a.warned){a.warned=!0;var u=new Error("Possible EventEmitter memory leak detected. "+a.length+" "+String(e)+" listeners added. Use emitter.setMaxListeners() to increase limit");u.name="MaxListenersExceededWarning",u.emitter=t,u.type=e,u.count=a.length,s=u,console&&console.warn&&console.warn(s);}return t}function S1(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function yw(t,e,r){var n={fired:!1,wrapFn:void 0,target:t,type:e,listener:r},i=S1.bind(n);return i.listener=r,n.wrapFn=i,i}function gw(t,e,r){var n=t._events;if(n===void 0)return [];var i=n[e];return i===void 0?[]:typeof i=="function"?r?[i.listener||i]:[i]:r?function(o){for(var a=new Array(o.length),s=0;s<a.length;++s)a[s]=o[s].listener||o[s];return a}(i):Tw(i,i.length)}function vw(t){var e=this._events;if(e!==void 0){var r=e[t];if(typeof r=="function")return 1;if(r!==void 0)return r.length}return 0}function Tw(t,e){for(var r=new Array(e),n=0;n<e;++n)r[n]=t[n];return r}var Ew,Cw,Hs,fw,pw,hw,zt,ia=Qt(()=>{y();p();h();m();Hs=typeof Reflect=="object"?Reflect:null,fw=Hs&&typeof Hs.apply=="function"?Hs.apply:function(t,e,r){return Function.prototype.apply.call(t,e,r)};Cw=Hs&&typeof Hs.ownKeys=="function"?Hs.ownKeys:Object.getOwnPropertySymbols?function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:function(t){return Object.getOwnPropertyNames(t)};pw=Number.isNaN||function(t){return t!=t};Ew=bt,bt.EventEmitter=bt,bt.prototype._events=void 0,bt.prototype._eventsCount=0,bt.prototype._maxListeners=void 0;hw=10;Object.defineProperty(bt,"defaultMaxListeners",{enumerable:!0,get:function(){return hw},set:function(t){if(typeof t!="number"||t<0||pw(t))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+t+".");hw=t;}}),bt.init=function(){this._events!==void 0&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0;},bt.prototype.setMaxListeners=function(t){if(typeof t!="number"||t<0||pw(t))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+t+".");return this._maxListeners=t,this},bt.prototype.getMaxListeners=function(){return Sw(this)},bt.prototype.emit=function(t){for(var e=[],r=1;r<arguments.length;r++)e.push(arguments[r]);var n=t==="error",i=this._events;if(i!==void 0)n=n&&i.error===void 0;else if(!n)return !1;if(n){var o;if(e.length>0&&(o=e[0]),o instanceof Error)throw o;var a=new Error("Unhandled error."+(o?" ("+o.message+")":""));throw a.context=o,a}var s=i[t];if(s===void 0)return !1;if(typeof s=="function")fw(s,this,e);else {var u=s.length,d=Tw(s,u);for(r=0;r<u;++r)fw(d[r],this,e);}return !0},bt.prototype.addListener=function(t,e){return mw(this,t,e,!1)},bt.prototype.on=bt.prototype.addListener,bt.prototype.prependListener=function(t,e){return mw(this,t,e,!0)},bt.prototype.once=function(t,e){return vf(e),this.on(t,yw(this,t,e)),this},bt.prototype.prependOnceListener=function(t,e){return vf(e),this.prependListener(t,yw(this,t,e)),this},bt.prototype.removeListener=function(t,e){var r,n,i,o,a;if(vf(e),(n=this._events)===void 0)return this;if((r=n[t])===void 0)return this;if(r===e||r.listener===e)--this._eventsCount==0?this._events=Object.create(null):(delete n[t],n.removeListener&&this.emit("removeListener",t,r.listener||e));else if(typeof r!="function"){for(i=-1,o=r.length-1;o>=0;o--)if(r[o]===e||r[o].listener===e){a=r[o].listener,i=o;break}if(i<0)return this;i===0?r.shift():function(s,u){for(;u+1<s.length;u++)s[u]=s[u+1];s.pop();}(r,i),r.length===1&&(n[t]=r[0]),n.removeListener!==void 0&&this.emit("removeListener",t,a||e);}return this},bt.prototype.off=bt.prototype.removeListener,bt.prototype.removeAllListeners=function(t){var e,r,n;if((r=this._events)===void 0)return this;if(r.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):r[t]!==void 0&&(--this._eventsCount==0?this._events=Object.create(null):delete r[t]),this;if(arguments.length===0){var i,o=Object.keys(r);for(n=0;n<o.length;++n)(i=o[n])!=="removeListener"&&this.removeAllListeners(i);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(typeof(e=r[t])=="function")this.removeListener(t,e);else if(e!==void 0)for(n=e.length-1;n>=0;n--)this.removeListener(t,e[n]);return this},bt.prototype.listeners=function(t){return gw(this,t,!0)},bt.prototype.rawListeners=function(t){return gw(this,t,!1)},bt.listenerCount=function(t,e){return typeof t.listenerCount=="function"?t.listenerCount(e):vw.call(t,e)},bt.prototype.listenerCount=vw,bt.prototype.eventNames=function(){return this._eventsCount>0?Cw(this._events):[]};zt=Ew;zt.EventEmitter;zt.defaultMaxListeners;zt.init;zt.listenerCount;zt.EventEmitter;zt.defaultMaxListeners;zt.init;zt.listenerCount;});var Ef={};Ut(Ef,{EventEmitter:()=>T1,default:()=>zt,defaultMaxListeners:()=>w1,init:()=>A1,listenerCount:()=>b1,on:()=>R1,once:()=>_1});var T1,w1,A1,b1,R1,_1,oa=Qt(()=>{y();p();h();m();ia();ia();zt.once=function(t,e){return new Promise((r,n)=>{function i(...a){o!==void 0&&t.removeListener("error",o),r(a);}let o;e!=="error"&&(o=a=>{t.removeListener(name,i),n(a);},t.once("error",o)),t.once(e,i);})};zt.on=function(t,e){let r=[],n=[],i=null,o=!1,a={next(){return L(this,null,function*(){let f=r.shift();if(f)return createIterResult(f,!1);if(i){let g=Promise.reject(i);return i=null,g}return o?createIterResult(void 0,!0):new Promise((g,C)=>n.push({resolve:g,reject:C}))})},return(){return L(this,null,function*(){t.removeListener(e,s),t.removeListener("error",u),o=!0;for(let f of n)f.resolve(createIterResult(void 0,!0));return createIterResult(void 0,!0)})},throw(f){i=f,t.removeListener(e,s),t.removeListener("error",u);},[Symbol.asyncIterator](){return this}};return t.on(e,s),t.on("error",u),a;function s(...f){let g=n.shift();g?g.resolve(createIterResult(f,!1)):r.push(f);}function u(f){o=!0;let g=n.shift();g?g.reject(f):i=f,a.return();}};({EventEmitter:T1,defaultMaxListeners:w1,init:A1,listenerCount:b1,on:R1,once:_1}=zt);});var xi=ce((qK,Vy)=>{y();p();h();m();typeof Object.create=="function"?Vy.exports=function(e,r){r&&(e.super_=r,e.prototype=Object.create(r.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}));}:Vy.exports=function(e,r){if(r){e.super_=r;var n=function(){};n.prototype=r.prototype,e.prototype=new n,e.prototype.constructor=e;}};});var Gy=ce((GK,ww)=>{y();p();h();m();ww.exports=(oa(),ar(Ef)).EventEmitter;});function Wy(){throw new Error("setTimeout has not been defined")}function Ky(){throw new Error("clearTimeout has not been defined")}function Rw(t){if(Pi===setTimeout)return setTimeout(t,0);if((Pi===Wy||!Pi)&&setTimeout)return Pi=setTimeout,setTimeout(t,0);try{return Pi(t,0)}catch(e){try{return Pi.call(null,t,0)}catch(r){return Pi.call(this||Vs,t,0)}}}function I1(){$s&&aa&&($s=!1,aa.length?Ui=aa.concat(Ui):Cf=-1,Ui.length&&_w());}function _w(){if(!$s){var t=Rw(I1);$s=!0;for(var e=Ui.length;e;){for(aa=Ui,Ui=[];++Cf<e;)aa&&aa[Cf].run();Cf=-1,e=Ui.length;}aa=null,$s=!1,function(r){if(Mi===clearTimeout)return clearTimeout(r);if((Mi===Ky||!Mi)&&clearTimeout)return Mi=clearTimeout,clearTimeout(r);try{Mi(r);}catch(n){try{return Mi.call(null,r)}catch(i){return Mi.call(this||Vs,r)}}}(t);}}function Aw(t,e){(this||Vs).fun=t,(this||Vs).array=e;}function ki(){}var bw,Pi,Mi,Vs,Yt,aa,Ui,$s,Cf,Rt,so=Qt(()=>{y();p();h();m();Vs=typeof globalThis!="undefined"?globalThis:typeof self!="undefined"?self:globalThis,Yt=bw={};(function(){try{Pi=typeof setTimeout=="function"?setTimeout:Wy;}catch(t){Pi=Wy;}try{Mi=typeof clearTimeout=="function"?clearTimeout:Ky;}catch(t){Mi=Ky;}})();Ui=[],$s=!1,Cf=-1;Yt.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)e[r-1]=arguments[r];Ui.push(new Aw(t,e)),Ui.length!==1||$s||Rw(_w);},Aw.prototype.run=function(){(this||Vs).fun.apply(null,(this||Vs).array);},Yt.title="browser",Yt.browser=!0,Yt.env={},Yt.argv=[],Yt.version="",Yt.versions={},Yt.on=ki,Yt.addListener=ki,Yt.once=ki,Yt.off=ki,Yt.removeListener=ki,Yt.removeAllListeners=ki,Yt.emit=ki,Yt.prependListener=ki,Yt.prependOnceListener=ki,Yt.listeners=function(t){return []},Yt.binding=function(t){throw new Error("process.binding is not supported")},Yt.cwd=function(){return "/"},Yt.chdir=function(t){throw new Error("process.chdir is not supported")},Yt.umask=function(){return 0};Rt=bw;Rt.addListener;Rt.argv;Rt.binding;Rt.browser;Rt.chdir;Rt.cwd;Rt.emit;Rt.env;Rt.listeners;Rt.nextTick;Rt.off;Rt.on;Rt.once;Rt.prependListener;Rt.prependOnceListener;Rt.removeAllListeners;Rt.removeListener;Rt.title;Rt.umask;Rt.version;Rt.versions;});function la(t){return t.call.bind(t)}function bl(t,e){if(typeof t!="object")return !1;try{return e(t),!0}catch(r){return !1}}function Nw(t){return zr&&Yr?fn(t)!==void 0:$w(t)||Vw(t)||Gw(t)||Ww(t)||Kw(t)||Yw(t)||Jw(t)||Zw(t)||Qw(t)||Xw(t)||eA(t)}function $w(t){return zr&&Yr?fn(t)==="Uint8Array":Bt(t)==="[object Uint8Array]"||L1(t)&&t.buffer!==void 0}function Vw(t){return zr&&Yr?fn(t)==="Uint8ClampedArray":Bt(t)==="[object Uint8ClampedArray]"}function Gw(t){return zr&&Yr?fn(t)==="Uint16Array":Bt(t)==="[object Uint16Array]"}function Ww(t){return zr&&Yr?fn(t)==="Uint32Array":Bt(t)==="[object Uint32Array]"}function Kw(t){return zr&&Yr?fn(t)==="Int8Array":Bt(t)==="[object Int8Array]"}function Yw(t){return zr&&Yr?fn(t)==="Int16Array":Bt(t)==="[object Int16Array]"}function Jw(t){return zr&&Yr?fn(t)==="Int32Array":Bt(t)==="[object Int32Array]"}function Zw(t){return zr&&Yr?fn(t)==="Float32Array":Bt(t)==="[object Float32Array]"}function Qw(t){return zr&&Yr?fn(t)==="Float64Array":Bt(t)==="[object Float64Array]"}function Xw(t){return zr&&Yr?fn(t)==="BigInt64Array":Bt(t)==="[object BigInt64Array]"}function eA(t){return zr&&Yr?fn(t)==="BigUint64Array":Bt(t)==="[object BigUint64Array]"}function Sf(t){return Bt(t)==="[object Map]"}function Tf(t){return Bt(t)==="[object Set]"}function wf(t){return Bt(t)==="[object WeakMap]"}function Yy(t){return Bt(t)==="[object WeakSet]"}function _f(t){return Bt(t)==="[object ArrayBuffer]"}function Ow(t){return typeof ArrayBuffer!="undefined"&&(_f.working?_f(t):t instanceof ArrayBuffer)}function If(t){return Bt(t)==="[object DataView]"}function xw(t){return typeof DataView!="undefined"&&(If.working?If(t):t instanceof DataView)}function Nf(t){return Bt(t)==="[object SharedArrayBuffer]"}function kw(t){return typeof SharedArrayBuffer!="undefined"&&(Nf.working?Nf(t):t instanceof SharedArrayBuffer)}function Pw(t){return bl(t,H1)}function Mw(t){return bl(t,$1)}function Uw(t){return bl(t,V1)}function Bw(t){return Hw&&bl(t,G1)}function Dw(t){return eg&&bl(t,W1)}function co(t,e){var r={seen:[],stylize:J1};return arguments.length>=3&&(r.depth=arguments[2]),arguments.length>=4&&(r.colors=arguments[3]),tg(e)?r.showHidden=e:e&&re._extend(r,e),ca(r.showHidden)&&(r.showHidden=!1),ca(r.depth)&&(r.depth=2),ca(r.colors)&&(r.colors=!1),ca(r.customInspect)&&(r.customInspect=!0),r.colors&&(r.stylize=Y1),Of(r,t,r.depth)}function Y1(t,e){var r=co.styles[e];return r?"\x1B["+co.colors[r][0]+"m"+t+"\x1B["+co.colors[r][1]+"m":t}function J1(t,e){return t}function Of(t,e,r){if(t.customInspect&&e&&Rf(e.inspect)&&e.inspect!==re.inspect&&(!e.constructor||e.constructor.prototype!==e)){var n=e.inspect(r,t);return xf(n)||(n=Of(t,n,r)),n}var i=function(C,S){if(ca(S))return C.stylize("undefined","undefined");if(xf(S)){var E="'"+JSON.stringify(S).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return C.stylize(E,"string")}if(nA(S))return C.stylize(""+S,"number");if(tg(S))return C.stylize(""+S,"boolean");if(Mf(S))return C.stylize("null","null")}(t,e);if(i)return i;var o=Object.keys(e),a=function(C){var S={};return C.forEach(function(E,T){S[E]=!0;}),S}(o);if(t.showHidden&&(o=Object.getOwnPropertyNames(e)),Al(e)&&(o.indexOf("message")>=0||o.indexOf("description")>=0))return Jy(e);if(o.length===0){if(Rf(e)){var s=e.name?": "+e.name:"";return t.stylize("[Function"+s+"]","special")}if(wl(e))return t.stylize(RegExp.prototype.toString.call(e),"regexp");if(kf(e))return t.stylize(Date.prototype.toString.call(e),"date");if(Al(e))return Jy(e)}var u,d="",f=!1,g=["{","}"];return rA(e)&&(f=!0,g=["[","]"]),Rf(e)&&(d=" [Function"+(e.name?": "+e.name:"")+"]"),wl(e)&&(d=" "+RegExp.prototype.toString.call(e)),kf(e)&&(d=" "+Date.prototype.toUTCString.call(e)),Al(e)&&(d=" "+Jy(e)),o.length!==0||f&&e.length!=0?r<0?wl(e)?t.stylize(RegExp.prototype.toString.call(e),"regexp"):t.stylize("[Object]","special"):(t.seen.push(e),u=f?function(C,S,E,T,_){for(var P=[],M=0,D=S.length;M<D;++M)iA(S,String(M))?P.push(Zy(C,S,E,T,String(M),!0)):P.push("");return _.forEach(function(V){V.match(/^\d+$/)||P.push(Zy(C,S,E,T,V,!0));}),P}(t,e,r,a,o):o.map(function(C){return Zy(t,e,r,a,C,f)}),t.seen.pop(),function(C,S,E){var T=0;return C.reduce(function(_,P){return T++,P.indexOf(`
`)>=0&&T++,_+P.replace(/\u001b\[\d\d?m/g,"").length+1},0)>60?E[0]+(S===""?"":S+`
 `)+" "+C.join(`,
  `)+" "+E[1]:E[0]+S+" "+C.join(", ")+" "+E[1]}(u,d,g)):g[0]+d+g[1]}function Jy(t){return "["+Error.prototype.toString.call(t)+"]"}function Zy(t,e,r,n,i,o){var a,s,u;if((u=Object.getOwnPropertyDescriptor(e,i)||{value:e[i]}).get?s=u.set?t.stylize("[Getter/Setter]","special"):t.stylize("[Getter]","special"):u.set&&(s=t.stylize("[Setter]","special")),iA(n,i)||(a="["+i+"]"),s||(t.seen.indexOf(u.value)<0?(s=Mf(r)?Of(t,u.value,null):Of(t,u.value,r-1)).indexOf(`
`)>-1&&(s=o?s.split(`
`).map(function(d){return "  "+d}).join(`
`).substr(2):`
`+s.split(`
`).map(function(d){return "   "+d}).join(`
`)):s=t.stylize("[Circular]","special")),ca(a)){if(o&&i.match(/^\d+$/))return s;(a=JSON.stringify(""+i)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(a=a.substr(1,a.length-2),a=t.stylize(a,"name")):(a=a.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),a=t.stylize(a,"string"));}return a+": "+s}function rA(t){return Array.isArray(t)}function tg(t){return typeof t=="boolean"}function Mf(t){return t===null}function nA(t){return typeof t=="number"}function xf(t){return typeof t=="string"}function ca(t){return t===void 0}function wl(t){return Gs(t)&&rg(t)==="[object RegExp]"}function Gs(t){return typeof t=="object"&&t!==null}function kf(t){return Gs(t)&&rg(t)==="[object Date]"}function Al(t){return Gs(t)&&(rg(t)==="[object Error]"||t instanceof Error)}function Rf(t){return typeof t=="function"}function rg(t){return Object.prototype.toString.call(t)}function Qy(t){return t<10?"0"+t.toString(10):t.toString(10)}function Q1(){var t=new Date,e=[Qy(t.getHours()),Qy(t.getMinutes()),Qy(t.getSeconds())].join(":");return [t.getDate(),Z1[t.getMonth()],e].join(" ")}function iA(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function X1(t,e){if(!t){var r=new Error("Promise was rejected with a falsy value");r.reason=t,t=r;}return e(t)}var N1,Xy,Pf,Fw,O1,x1,k1,P1,M1,zw,qw,Iw,U1,B1,D1,jw,at,L1,F1,z1,Hw,eg,Yr,zr,q1,Bt,H1,$1,V1,Tl,re,ii,Lw,K1,Af,tA,bf,Z1,sa,lo=Qt(()=>{y();p();h();m();so();N1=typeof Symbol=="function"&&typeof Symbol.toStringTag=="symbol",Xy=Object.prototype.toString,Pf=function(t){return !(N1&&t&&typeof t=="object"&&Symbol.toStringTag in t)&&Xy.call(t)==="[object Arguments]"},Fw=function(t){return !!Pf(t)||t!==null&&typeof t=="object"&&typeof t.length=="number"&&t.length>=0&&Xy.call(t)!=="[object Array]"&&Xy.call(t.callee)==="[object Function]"},O1=function(){return Pf(arguments)}();Pf.isLegacyArguments=Fw;x1=O1?Pf:Fw,k1=Object.prototype.toString,P1=Function.prototype.toString,M1=/^\s*(?:function)?\*/,zw=typeof Symbol=="function"&&typeof Symbol.toStringTag=="symbol",qw=Object.getPrototypeOf,Iw=function(){if(!zw)return !1;try{return Function("return function*() {}")()}catch(t){}}(),U1=Iw?qw(Iw):{},B1=function(t){return typeof t=="function"&&(!!M1.test(P1.call(t))||(zw?qw(t)===U1:k1.call(t)==="[object GeneratorFunction]"))},D1=typeof Object.create=="function"?function(t,e){e&&(t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}));}:function(t,e){if(e){t.super_=e;var r=function(){};r.prototype=e.prototype,t.prototype=new r,t.prototype.constructor=t;}},jw=function(t){return t&&typeof t=="object"&&typeof t.copy=="function"&&typeof t.fill=="function"&&typeof t.readUInt8=="function"},at={},L1=jw,F1=x1,z1=B1;Hw=typeof BigInt!="undefined",eg=typeof Symbol!="undefined",Yr=eg&&Symbol.toStringTag!==void 0,zr=typeof Uint8Array!="undefined",q1=typeof ArrayBuffer!="undefined";if(zr&&Yr)var j1=Object.getPrototypeOf(Uint8Array.prototype),fn=la(Object.getOwnPropertyDescriptor(j1,Symbol.toStringTag).get);Bt=la(Object.prototype.toString),H1=la(Number.prototype.valueOf),$1=la(String.prototype.valueOf),V1=la(Boolean.prototype.valueOf);if(Hw)var G1=la(BigInt.prototype.valueOf);if(eg)var W1=la(Symbol.prototype.valueOf);at.isArgumentsObject=F1,at.isGeneratorFunction=z1,at.isPromise=function(t){return typeof Promise!="undefined"&&t instanceof Promise||t!==null&&typeof t=="object"&&typeof t.then=="function"&&typeof t.catch=="function"},at.isArrayBufferView=function(t){return q1&&ArrayBuffer.isView?ArrayBuffer.isView(t):Nw(t)||xw(t)},at.isTypedArray=Nw,at.isUint8Array=$w,at.isUint8ClampedArray=Vw,at.isUint16Array=Gw,at.isUint32Array=Ww,at.isInt8Array=Kw,at.isInt16Array=Yw,at.isInt32Array=Jw,at.isFloat32Array=Zw,at.isFloat64Array=Qw,at.isBigInt64Array=Xw,at.isBigUint64Array=eA,Sf.working=typeof Map!="undefined"&&Sf(new Map),at.isMap=function(t){return typeof Map!="undefined"&&(Sf.working?Sf(t):t instanceof Map)},Tf.working=typeof Set!="undefined"&&Tf(new Set),at.isSet=function(t){return typeof Set!="undefined"&&(Tf.working?Tf(t):t instanceof Set)},wf.working=typeof WeakMap!="undefined"&&wf(new WeakMap),at.isWeakMap=function(t){return typeof WeakMap!="undefined"&&(wf.working?wf(t):t instanceof WeakMap)},Yy.working=typeof WeakSet!="undefined"&&Yy(new WeakSet),at.isWeakSet=function(t){return Yy(t)},_f.working=typeof ArrayBuffer!="undefined"&&_f(new ArrayBuffer),at.isArrayBuffer=Ow,If.working=typeof ArrayBuffer!="undefined"&&typeof DataView!="undefined"&&If(new DataView(new ArrayBuffer(1),0,1)),at.isDataView=xw,Nf.working=typeof SharedArrayBuffer!="undefined"&&Nf(new SharedArrayBuffer),at.isSharedArrayBuffer=kw,at.isAsyncFunction=function(t){return Bt(t)==="[object AsyncFunction]"},at.isMapIterator=function(t){return Bt(t)==="[object Map Iterator]"},at.isSetIterator=function(t){return Bt(t)==="[object Set Iterator]"},at.isGeneratorObject=function(t){return Bt(t)==="[object Generator]"},at.isWebAssemblyCompiledModule=function(t){return Bt(t)==="[object WebAssembly.Module]"},at.isNumberObject=Pw,at.isStringObject=Mw,at.isBooleanObject=Uw,at.isBigIntObject=Bw,at.isSymbolObject=Dw,at.isBoxedPrimitive=function(t){return Pw(t)||Mw(t)||Uw(t)||Bw(t)||Dw(t)},at.isAnyArrayBuffer=function(t){return zr&&(Ow(t)||kw(t))},["isProxy","isExternal","isModuleNamespaceObject"].forEach(function(t){Object.defineProperty(at,t,{enumerable:!1,value:function(){throw new Error(t+" is not supported in userland")}});});Tl=typeof globalThis!="undefined"?globalThis:typeof self!="undefined"?self:globalThis,re={},ii=Rt,Lw=Object.getOwnPropertyDescriptors||function(t){for(var e=Object.keys(t),r={},n=0;n<e.length;n++)r[e[n]]=Object.getOwnPropertyDescriptor(t,e[n]);return r},K1=/%[sdj%]/g;re.format=function(t){if(!xf(t)){for(var e=[],r=0;r<arguments.length;r++)e.push(co(arguments[r]));return e.join(" ")}r=1;for(var n=arguments,i=n.length,o=String(t).replace(K1,function(s){if(s==="%%")return "%";if(r>=i)return s;switch(s){case"%s":return String(n[r++]);case"%d":return Number(n[r++]);case"%j":try{return JSON.stringify(n[r++])}catch(u){return "[Circular]"}default:return s}}),a=n[r];r<i;a=n[++r])Mf(a)||!Gs(a)?o+=" "+a:o+=" "+co(a);return o},re.deprecate=function(t,e){if(ii!==void 0&&ii.noDeprecation===!0)return t;if(ii===void 0)return function(){return re.deprecate(t,e).apply(this||Tl,arguments)};var r=!1;return function(){if(!r){if(ii.throwDeprecation)throw new Error(e);ii.traceDeprecation?console.trace(e):console.error(e),r=!0;}return t.apply(this||Tl,arguments)}};Af={},tA=/^$/;ii.env.NODE_DEBUG&&(bf=ii.env.NODE_DEBUG,bf=bf.replace(/[|\\{}()[\]^$+?.]/g,"\\$&").replace(/\*/g,".*").replace(/,/g,"$|^").toUpperCase(),tA=new RegExp("^"+bf+"$","i"));re.debuglog=function(t){if(t=t.toUpperCase(),!Af[t])if(tA.test(t)){var e=ii.pid;Af[t]=function(){var r=re.format.apply(re,arguments);console.error("%s %d: %s",t,e,r);};}else Af[t]=function(){};return Af[t]},re.inspect=co,co.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},co.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},re.types=at,re.isArray=rA,re.isBoolean=tg,re.isNull=Mf,re.isNullOrUndefined=function(t){return t==null},re.isNumber=nA,re.isString=xf,re.isSymbol=function(t){return typeof t=="symbol"},re.isUndefined=ca,re.isRegExp=wl,re.types.isRegExp=wl,re.isObject=Gs,re.isDate=kf,re.types.isDate=kf,re.isError=Al,re.types.isNativeError=Al,re.isFunction=Rf,re.isPrimitive=function(t){return t===null||typeof t=="boolean"||typeof t=="number"||typeof t=="string"||typeof t=="symbol"||t===void 0},re.isBuffer=jw;Z1=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];re.log=function(){console.log("%s - %s",Q1(),re.format.apply(re,arguments));},re.inherits=D1,re._extend=function(t,e){if(!e||!Gs(e))return t;for(var r=Object.keys(e),n=r.length;n--;)t[r[n]]=e[r[n]];return t};sa=typeof Symbol!="undefined"?Symbol("util.promisify.custom"):void 0;re.promisify=function(t){if(typeof t!="function")throw new TypeError('The "original" argument must be of type Function');if(sa&&t[sa]){var e;if(typeof(e=t[sa])!="function")throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(e,sa,{value:e,enumerable:!1,writable:!1,configurable:!0}),e}function e(){for(var r,n,i=new Promise(function(s,u){r=s,n=u;}),o=[],a=0;a<arguments.length;a++)o.push(arguments[a]);o.push(function(s,u){s?n(s):r(u);});try{t.apply(this||Tl,o);}catch(s){n(s);}return i}return Object.setPrototypeOf(e,Object.getPrototypeOf(t)),sa&&Object.defineProperty(e,sa,{value:e,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(e,Lw(t))},re.promisify.custom=sa,re.callbackify=function(t){if(typeof t!="function")throw new TypeError('The "original" argument must be of type Function');function e(){for(var r=[],n=0;n<arguments.length;n++)r.push(arguments[n]);var i=r.pop();if(typeof i!="function")throw new TypeError("The last argument must be of type Function");var o=this||Tl,a=function(){return i.apply(o,arguments)};t.apply(this||Tl,r).then(function(s){ii.nextTick(a.bind(null,null,s));},function(s){ii.nextTick(X1.bind(null,s,a));});}return Object.setPrototypeOf(e,Object.getPrototypeOf(t)),Object.defineProperties(e,Lw(t)),e};});var Rl=Qt(()=>{y();p();h();m();lo();so();re._extend;re.callbackify;re.debuglog;re.deprecate;re.format;re.inherits;re.inspect;re.isArray;re.isBoolean;re.isBuffer;re.isDate;re.isError;re.isFunction;re.isNull;re.isNullOrUndefined;re.isNumber;re.isObject;re.isPrimitive;re.isRegExp;re.isString;re.isSymbol;re.isUndefined;re.log;re.promisify;re._extend,re.callbackify,re.debuglog,re.deprecate,re.format,re.inherits,re.inspect,re.isArray,re.isBoolean,re.isBuffer,re.isDate,re.isError,re.isFunction,re.isNull,re.isNullOrUndefined,re.isNumber,re.isObject,re.isPrimitive,re.isRegExp,re.isString,re.isSymbol,re.isUndefined,re.log,re.promisify,re.types;});var ua={};Ut(ua,{TextDecoder:()=>bU,TextEncoder:()=>AU,_extend:()=>eU,callbackify:()=>tU,debuglog:()=>rU,default:()=>re,deprecate:()=>nU,format:()=>iU,inherits:()=>oU,inspect:()=>aU,isArray:()=>sU,isBoolean:()=>cU,isBuffer:()=>lU,isDate:()=>uU,isError:()=>dU,isFunction:()=>fU,isNull:()=>pU,isNullOrUndefined:()=>hU,isNumber:()=>mU,isObject:()=>yU,isPrimitive:()=>gU,isRegExp:()=>vU,isString:()=>EU,isSymbol:()=>CU,isUndefined:()=>SU,log:()=>TU,promisify:()=>Ws,types:()=>wU});var eU,tU,rU,nU,iU,oU,aU,sU,cU,lU,uU,dU,fU,pU,hU,mU,yU,gU,vU,EU,CU,SU,TU,Ws,wU,AU,bU,oi=Qt(()=>{y();p();h();m();Rl();lo();lo();so();eU=re._extend,tU=re.callbackify,rU=re.debuglog,nU=re.deprecate,iU=re.format,oU=re.inherits,aU=re.inspect,sU=re.isArray,cU=re.isBoolean,lU=re.isBuffer,uU=re.isDate,dU=re.isError,fU=re.isFunction,pU=re.isNull,hU=re.isNullOrUndefined,mU=re.isNumber,yU=re.isObject,gU=re.isPrimitive,vU=re.isRegExp,EU=re.isString,CU=re.isSymbol,SU=re.isUndefined,TU=re.log,Ws=re.promisify,wU=re.types,AU=re.TextEncoder=globalThis.TextEncoder,bU=re.TextDecoder=globalThis.TextDecoder;});var cA=ce((JY,sA)=>{y();p();h();m();function oA(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n);}return r}function RU(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?oA(Object(r),!0).forEach(function(n){_U(t,n,r[n]);}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):oA(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n));});}return t}function _U(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function IU(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function aA(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n);}}function NU(t,e,r){return e&&aA(t.prototype,e),t}var OU=Qn(),Uf=OU.Buffer,xU=(oi(),ar(ua)),ng=xU.inspect,kU=ng&&ng.custom||"inspect";function PU(t,e,r){Uf.prototype.copy.call(t,e,r);}sA.exports=function(){function t(){IU(this,t),this.head=null,this.tail=null,this.length=0;}return NU(t,[{key:"push",value:function(r){var n={data:r,next:null};this.length>0?this.tail.next=n:this.head=n,this.tail=n,++this.length;}},{key:"unshift",value:function(r){var n={data:r,next:this.head};this.length===0&&(this.tail=n),this.head=n,++this.length;}},{key:"shift",value:function(){if(this.length!==0){var r=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,r}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0;}},{key:"join",value:function(r){if(this.length===0)return "";for(var n=this.head,i=""+n.data;n=n.next;)i+=r+n.data;return i}},{key:"concat",value:function(r){if(this.length===0)return Uf.alloc(0);for(var n=Uf.allocUnsafe(r>>>0),i=this.head,o=0;i;)PU(i.data,n,o),o+=i.data.length,i=i.next;return n}},{key:"consume",value:function(r,n){var i;return r<this.head.data.length?(i=this.head.data.slice(0,r),this.head.data=this.head.data.slice(r)):r===this.head.data.length?i=this.shift():i=n?this._getString(r):this._getBuffer(r),i}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(r){var n=this.head,i=1,o=n.data;for(r-=o.length;n=n.next;){var a=n.data,s=r>a.length?a.length:r;if(s===a.length?o+=a:o+=a.slice(0,r),r-=s,r===0){s===a.length?(++i,n.next?this.head=n.next:this.head=this.tail=null):(this.head=n,n.data=a.slice(s));break}++i;}return this.length-=i,o}},{key:"_getBuffer",value:function(r){var n=Uf.allocUnsafe(r),i=this.head,o=1;for(i.data.copy(n),r-=i.data.length;i=i.next;){var a=i.data,s=r>a.length?a.length:r;if(a.copy(n,n.length-r,0,s),r-=s,r===0){s===a.length?(++o,i.next?this.head=i.next:this.head=this.tail=null):(this.head=i,i.data=a.slice(s));break}++o;}return this.length-=o,n}},{key:kU,value:function(r,n){return ng(this,RU({},n,{depth:0,customInspect:!1}))}}]),t}();});var og=ce((t9,uA)=>{y();p();h();m();function MU(t,e){var r=this,n=this._readableState&&this._readableState.destroyed,i=this._writableState&&this._writableState.destroyed;return n||i?(e?e(t):t&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,A.nextTick(ig,this,t)):A.nextTick(ig,this,t)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(t||null,function(o){!e&&o?r._writableState?r._writableState.errorEmitted?A.nextTick(Bf,r):(r._writableState.errorEmitted=!0,A.nextTick(lA,r,o)):A.nextTick(lA,r,o):e?(A.nextTick(Bf,r),e(o)):A.nextTick(Bf,r);}),this)}function lA(t,e){ig(t,e),Bf(t);}function Bf(t){t._writableState&&!t._writableState.emitClose||t._readableState&&!t._readableState.emitClose||t.emit("close");}function UU(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1);}function ig(t,e){t.emit("error",e);}function BU(t,e){var r=t._readableState,n=t._writableState;r&&r.autoDestroy||n&&n.autoDestroy?t.destroy(e):t.emit("error",e);}uA.exports={destroy:MU,undestroy:UU,errorOrDestroy:BU};});var da=ce((a9,pA)=>{y();p();h();m();function DU(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e;}var fA={};function pn(t,e,r){r||(r=Error);function n(o,a,s){return typeof e=="string"?e:e(o,a,s)}var i=function(o){DU(a,o);function a(s,u,d){return o.call(this,n(s,u,d))||this}return a}(r);i.prototype.name=r.name,i.prototype.code=t,fA[t]=i;}function dA(t,e){if(Array.isArray(t)){var r=t.length;return t=t.map(function(n){return String(n)}),r>2?"one of ".concat(e," ").concat(t.slice(0,r-1).join(", "),", or ")+t[r-1]:r===2?"one of ".concat(e," ").concat(t[0]," or ").concat(t[1]):"of ".concat(e," ").concat(t[0])}else return "of ".concat(e," ").concat(String(t))}function LU(t,e,r){return t.substr(0,e.length)===e}function FU(t,e,r){return (r===void 0||r>t.length)&&(r=t.length),t.substring(r-e.length,r)===e}function zU(t,e,r){return typeof r!="number"&&(r=0),r+e.length>t.length?!1:t.indexOf(e,r)!==-1}pn("ERR_INVALID_OPT_VALUE",function(t,e){return 'The value "'+e+'" is invalid for option "'+t+'"'},TypeError);pn("ERR_INVALID_ARG_TYPE",function(t,e,r){var n;typeof e=="string"&&LU(e,"not ")?(n="must not be",e=e.replace(/^not /,"")):n="must be";var i;if(FU(t," argument"))i="The ".concat(t," ").concat(n," ").concat(dA(e,"type"));else {var o=zU(t,".")?"property":"argument";i='The "'.concat(t,'" ').concat(o," ").concat(n," ").concat(dA(e,"type"));}return i+=". Received type ".concat(typeof r),i},TypeError);pn("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF");pn("ERR_METHOD_NOT_IMPLEMENTED",function(t){return "The "+t+" method is not implemented"});pn("ERR_STREAM_PREMATURE_CLOSE","Premature close");pn("ERR_STREAM_DESTROYED",function(t){return "Cannot call "+t+" after a stream was destroyed"});pn("ERR_MULTIPLE_CALLBACK","Callback called multiple times");pn("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable");pn("ERR_STREAM_WRITE_AFTER_END","write after end");pn("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError);pn("ERR_UNKNOWN_ENCODING",function(t){return "Unknown encoding: "+t},TypeError);pn("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event");pA.exports.codes=fA;});var ag=ce((d9,hA)=>{y();p();h();m();var qU=da().codes.ERR_INVALID_OPT_VALUE;function jU(t,e,r){return t.highWaterMark!=null?t.highWaterMark:e?t[r]:null}function HU(t,e,r,n){var i=jU(e,n,r);if(i!=null){if(!(isFinite(i)&&Math.floor(i)===i)||i<0){var o=n?r:"highWaterMark";throw new qU(o,i)}return Math.floor(i)}return t.objectMode?16:16*1024}hA.exports={getHighWaterMark:HU};});var yA=ce((y9,mA)=>{y();p();h();m();mA.exports=$U;function $U(t,e){if(sg("noDeprecation"))return t;var r=!1;function n(){if(!r){if(sg("throwDeprecation"))throw new Error(e);sg("traceDeprecation")?console.trace(e):console.warn(e),r=!0;}return t.apply(this,arguments)}return n}function sg(t){try{if(!globalThis.localStorage)return !1}catch(r){return !1}var e=globalThis.localStorage[t];return e==null?!1:String(e).toLowerCase()==="true"}});var Ff=ce((S9,TA)=>{y();p();h();m();TA.exports=qt;function vA(t){var e=this;this.next=null,this.entry=null,this.finish=function(){gB(e,t);};}var Ks;qt.WritableState=Il;var VU={deprecate:yA()},EA=Gy(),Lf=Qn().Buffer,GU=globalThis.Uint8Array||function(){};function WU(t){return Lf.from(t)}function KU(t){return Lf.isBuffer(t)||t instanceof GU}var lg=og(),YU=ag(),JU=YU.getHighWaterMark,uo=da().codes,ZU=uo.ERR_INVALID_ARG_TYPE,QU=uo.ERR_METHOD_NOT_IMPLEMENTED,XU=uo.ERR_MULTIPLE_CALLBACK,eB=uo.ERR_STREAM_CANNOT_PIPE,tB=uo.ERR_STREAM_DESTROYED,rB=uo.ERR_STREAM_NULL_VALUES,nB=uo.ERR_STREAM_WRITE_AFTER_END,iB=uo.ERR_UNKNOWN_ENCODING,Ys=lg.errorOrDestroy;xi()(qt,EA);function oB(){}function Il(t,e,r){Ks=Ks||fo(),t=t||{},typeof r!="boolean"&&(r=e instanceof Ks),this.objectMode=!!t.objectMode,r&&(this.objectMode=this.objectMode||!!t.writableObjectMode),this.highWaterMark=JU(this,t,"writableHighWaterMark",r),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var n=t.decodeStrings===!1;this.decodeStrings=!n,this.defaultEncoding=t.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(i){fB(e,i);},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=t.emitClose!==!1,this.autoDestroy=!!t.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new vA(this);}Il.prototype.getBuffer=function(){for(var e=this.bufferedRequest,r=[];e;)r.push(e),e=e.next;return r};(function(){try{Object.defineProperty(Il.prototype,"buffer",{get:VU.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")});}catch(t){}})();var Df;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(Df=Function.prototype[Symbol.hasInstance],Object.defineProperty(qt,Symbol.hasInstance,{value:function(e){return Df.call(this,e)?!0:this!==qt?!1:e&&e._writableState instanceof Il}})):Df=function(e){return e instanceof this};function qt(t){Ks=Ks||fo();var e=this instanceof Ks;if(!e&&!Df.call(qt,this))return new qt(t);this._writableState=new Il(t,this,e),this.writable=!0,t&&(typeof t.write=="function"&&(this._write=t.write),typeof t.writev=="function"&&(this._writev=t.writev),typeof t.destroy=="function"&&(this._destroy=t.destroy),typeof t.final=="function"&&(this._final=t.final)),EA.call(this);}qt.prototype.pipe=function(){Ys(this,new eB);};function aB(t,e){var r=new nB;Ys(t,r),A.nextTick(e,r);}function sB(t,e,r,n){var i;return r===null?i=new rB:typeof r!="string"&&!e.objectMode&&(i=new ZU("chunk",["string","Buffer"],r)),i?(Ys(t,i),A.nextTick(n,i),!1):!0}qt.prototype.write=function(t,e,r){var n=this._writableState,i=!1,o=!n.objectMode&&KU(t);return o&&!Lf.isBuffer(t)&&(t=WU(t)),typeof e=="function"&&(r=e,e=null),o?e="buffer":e||(e=n.defaultEncoding),typeof r!="function"&&(r=oB),n.ending?aB(this,r):(o||sB(this,n,t,r))&&(n.pendingcb++,i=lB(this,n,o,t,e,r)),i};qt.prototype.cork=function(){this._writableState.corked++;};qt.prototype.uncork=function(){var t=this._writableState;t.corked&&(t.corked--,!t.writing&&!t.corked&&!t.bufferProcessing&&t.bufferedRequest&&CA(this,t));};qt.prototype.setDefaultEncoding=function(e){if(typeof e=="string"&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new iB(e);return this._writableState.defaultEncoding=e,this};Object.defineProperty(qt.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});function cB(t,e,r){return !t.objectMode&&t.decodeStrings!==!1&&typeof e=="string"&&(e=Lf.from(e,r)),e}Object.defineProperty(qt.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function lB(t,e,r,n,i,o){if(!r){var a=cB(e,n,i);n!==a&&(r=!0,i="buffer",n=a);}var s=e.objectMode?1:n.length;e.length+=s;var u=e.length<e.highWaterMark;if(u||(e.needDrain=!0),e.writing||e.corked){var d=e.lastBufferedRequest;e.lastBufferedRequest={chunk:n,encoding:i,isBuf:r,callback:o,next:null},d?d.next=e.lastBufferedRequest:e.bufferedRequest=e.lastBufferedRequest,e.bufferedRequestCount+=1;}else cg(t,e,!1,s,n,i,o);return u}function cg(t,e,r,n,i,o,a){e.writelen=n,e.writecb=a,e.writing=!0,e.sync=!0,e.destroyed?e.onwrite(new tB("write")):r?t._writev(i,e.onwrite):t._write(i,o,e.onwrite),e.sync=!1;}function uB(t,e,r,n,i){--e.pendingcb,r?(A.nextTick(i,n),A.nextTick(_l,t,e),t._writableState.errorEmitted=!0,Ys(t,n)):(i(n),t._writableState.errorEmitted=!0,Ys(t,n),_l(t,e));}function dB(t){t.writing=!1,t.writecb=null,t.length-=t.writelen,t.writelen=0;}function fB(t,e){var r=t._writableState,n=r.sync,i=r.writecb;if(typeof i!="function")throw new XU;if(dB(r),e)uB(t,r,n,e,i);else {var o=SA(r)||t.destroyed;!o&&!r.corked&&!r.bufferProcessing&&r.bufferedRequest&&CA(t,r),n?A.nextTick(gA,t,r,o,i):gA(t,r,o,i);}}function gA(t,e,r,n){r||pB(t,e),e.pendingcb--,n(),_l(t,e);}function pB(t,e){e.length===0&&e.needDrain&&(e.needDrain=!1,t.emit("drain"));}function CA(t,e){e.bufferProcessing=!0;var r=e.bufferedRequest;if(t._writev&&r&&r.next){var n=e.bufferedRequestCount,i=new Array(n),o=e.corkedRequestsFree;o.entry=r;for(var a=0,s=!0;r;)i[a]=r,r.isBuf||(s=!1),r=r.next,a+=1;i.allBuffers=s,cg(t,e,!0,e.length,i,"",o.finish),e.pendingcb++,e.lastBufferedRequest=null,o.next?(e.corkedRequestsFree=o.next,o.next=null):e.corkedRequestsFree=new vA(e),e.bufferedRequestCount=0;}else {for(;r;){var u=r.chunk,d=r.encoding,f=r.callback,g=e.objectMode?1:u.length;if(cg(t,e,!1,g,u,d,f),r=r.next,e.bufferedRequestCount--,e.writing)break}r===null&&(e.lastBufferedRequest=null);}e.bufferedRequest=r,e.bufferProcessing=!1;}qt.prototype._write=function(t,e,r){r(new QU("_write()"));};qt.prototype._writev=null;qt.prototype.end=function(t,e,r){var n=this._writableState;return typeof t=="function"?(r=t,t=null,e=null):typeof e=="function"&&(r=e,e=null),t!=null&&this.write(t,e),n.corked&&(n.corked=1,this.uncork()),n.ending||yB(this,n,r),this};Object.defineProperty(qt.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function SA(t){return t.ending&&t.length===0&&t.bufferedRequest===null&&!t.finished&&!t.writing}function hB(t,e){t._final(function(r){e.pendingcb--,r&&Ys(t,r),e.prefinished=!0,t.emit("prefinish"),_l(t,e);});}function mB(t,e){!e.prefinished&&!e.finalCalled&&(typeof t._final=="function"&&!e.destroyed?(e.pendingcb++,e.finalCalled=!0,A.nextTick(hB,t,e)):(e.prefinished=!0,t.emit("prefinish")));}function _l(t,e){var r=SA(e);if(r&&(mB(t,e),e.pendingcb===0&&(e.finished=!0,t.emit("finish"),e.autoDestroy))){var n=t._readableState;(!n||n.autoDestroy&&n.endEmitted)&&t.destroy();}return r}function yB(t,e,r){e.ending=!0,_l(t,e),r&&(e.finished?A.nextTick(r):t.once("finish",r)),e.ended=!0,t.writable=!1;}function gB(t,e,r){var n=t.entry;for(t.entry=null;n;){var i=n.callback;e.pendingcb--,i(r),n=n.next;}e.corkedRequestsFree.next=t;}Object.defineProperty(qt.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(e){this._writableState&&(this._writableState.destroyed=e);}});qt.prototype.destroy=lg.destroy;qt.prototype._undestroy=lg.undestroy;qt.prototype._destroy=function(t,e){e(t);};});var fo=ce((R9,AA)=>{y();p();h();m();var vB=Object.keys||function(t){var e=[];for(var r in t)e.push(r);return e};AA.exports=ai;var wA=jf(),dg=Ff();xi()(ai,wA);for(ug=vB(dg.prototype),zf=0;zf<ug.length;zf++)qf=ug[zf],ai.prototype[qf]||(ai.prototype[qf]=dg.prototype[qf]);var ug,qf,zf;function ai(t){if(!(this instanceof ai))return new ai(t);wA.call(this,t),dg.call(this,t),this.allowHalfOpen=!0,t&&(t.readable===!1&&(this.readable=!1),t.writable===!1&&(this.writable=!1),t.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",EB)));}Object.defineProperty(ai.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});Object.defineProperty(ai.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});Object.defineProperty(ai.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function EB(){this._writableState.ended||A.nextTick(CB,this);}function CB(t){t.end();}Object.defineProperty(ai.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(e){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=e,this._writableState.destroyed=e);}});});var hg=ce(RA=>{y();p();h();m();var pg=na().Buffer,bA=pg.isEncoding||function(t){switch(t=""+t,t&&t.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return !0;default:return !1}};function SB(t){if(!t)return "utf8";for(var e;;)switch(t){case"utf8":case"utf-8":return "utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return "utf16le";case"latin1":case"binary":return "latin1";case"base64":case"ascii":case"hex":return t;default:if(e)return;t=(""+t).toLowerCase(),e=!0;}}function TB(t){var e=SB(t);if(typeof e!="string"&&(pg.isEncoding===bA||!bA(t)))throw new Error("Unknown encoding: "+t);return e||t}RA.StringDecoder=Nl;function Nl(t){this.encoding=TB(t);var e;switch(this.encoding){case"utf16le":this.text=IB,this.end=NB,e=4;break;case"utf8":this.fillLast=bB,e=4;break;case"base64":this.text=OB,this.end=xB,e=3;break;default:this.write=kB,this.end=PB;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=pg.allocUnsafe(e);}Nl.prototype.write=function(t){if(t.length===0)return "";var e,r;if(this.lastNeed){if(e=this.fillLast(t),e===void 0)return "";r=this.lastNeed,this.lastNeed=0;}else r=0;return r<t.length?e?e+this.text(t,r):this.text(t,r):e||""};Nl.prototype.end=_B;Nl.prototype.text=RB;Nl.prototype.fillLast=function(t){if(this.lastNeed<=t.length)return t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,t.length),this.lastNeed-=t.length;};function fg(t){return t<=127?0:t>>5===6?2:t>>4===14?3:t>>3===30?4:t>>6===2?-1:-2}function wB(t,e,r){var n=e.length-1;if(n<r)return 0;var i=fg(e[n]);return i>=0?(i>0&&(t.lastNeed=i-1),i):--n<r||i===-2?0:(i=fg(e[n]),i>=0?(i>0&&(t.lastNeed=i-2),i):--n<r||i===-2?0:(i=fg(e[n]),i>=0?(i>0&&(i===2?i=0:t.lastNeed=i-3),i):0))}function AB(t,e,r){if((e[0]&192)!==128)return t.lastNeed=0,"\uFFFD";if(t.lastNeed>1&&e.length>1){if((e[1]&192)!==128)return t.lastNeed=1,"\uFFFD";if(t.lastNeed>2&&e.length>2&&(e[2]&192)!==128)return t.lastNeed=2,"\uFFFD"}}function bB(t){var e=this.lastTotal-this.lastNeed,r=AB(this,t);if(r!==void 0)return r;if(this.lastNeed<=t.length)return t.copy(this.lastChar,e,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);t.copy(this.lastChar,e,0,t.length),this.lastNeed-=t.length;}function RB(t,e){var r=wB(this,t,e);if(!this.lastNeed)return t.toString("utf8",e);this.lastTotal=r;var n=t.length-(r-this.lastNeed);return t.copy(this.lastChar,0,n),t.toString("utf8",e,n)}function _B(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+"\uFFFD":e}function IB(t,e){if((t.length-e)%2===0){var r=t.toString("utf16le",e);if(r){var n=r.charCodeAt(r.length-1);if(n>=55296&&n<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1],r.slice(0,-1)}return r}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=t[t.length-1],t.toString("utf16le",e,t.length-1)}function NB(t){var e=t&&t.length?this.write(t):"";if(this.lastNeed){var r=this.lastTotal-this.lastNeed;return e+this.lastChar.toString("utf16le",0,r)}return e}function OB(t,e){var r=(t.length-e)%3;return r===0?t.toString("base64",e):(this.lastNeed=3-r,this.lastTotal=3,r===1?this.lastChar[0]=t[t.length-1]:(this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1]),t.toString("base64",e,t.length-r))}function xB(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+this.lastChar.toString("base64",0,3-this.lastNeed):e}function kB(t){return t.toString(this.encoding)}function PB(t){return t&&t.length?this.write(t):""}});var Ol=ce((B9,NA)=>{y();p();h();m();var _A=da().codes.ERR_STREAM_PREMATURE_CLOSE;function MB(t){var e=!1;return function(){if(!e){e=!0;for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];t.apply(this,n);}}}function UB(){}function BB(t){return t.setHeader&&typeof t.abort=="function"}function IA(t,e,r){if(typeof e=="function")return IA(t,null,e);e||(e={}),r=MB(r||UB);var n=e.readable||e.readable!==!1&&t.readable,i=e.writable||e.writable!==!1&&t.writable,o=function(){t.writable||s();},a=t._writableState&&t._writableState.finished,s=function(){i=!1,a=!0,n||r.call(t);},u=t._readableState&&t._readableState.endEmitted,d=function(){n=!1,u=!0,i||r.call(t);},f=function(E){r.call(t,E);},g=function(){var E;if(n&&!u)return (!t._readableState||!t._readableState.ended)&&(E=new _A),r.call(t,E);if(i&&!a)return (!t._writableState||!t._writableState.ended)&&(E=new _A),r.call(t,E)},C=function(){t.req.on("finish",s);};return BB(t)?(t.on("complete",s),t.on("abort",g),t.req?C():t.on("request",C)):i&&!t._writableState&&(t.on("end",o),t.on("close",o)),t.on("end",d),t.on("finish",s),e.error!==!1&&t.on("error",f),t.on("close",g),function(){t.removeListener("complete",s),t.removeListener("abort",g),t.removeListener("request",C),t.req&&t.req.removeListener("finish",s),t.removeListener("end",o),t.removeListener("close",o),t.removeListener("finish",s),t.removeListener("end",d),t.removeListener("error",f),t.removeListener("close",g);}}NA.exports=IA;});var xA=ce((q9,OA)=>{y();p();h();m();var Hf;function po(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var DB=Ol(),ho=Symbol("lastResolve"),fa=Symbol("lastReject"),xl=Symbol("error"),$f=Symbol("ended"),pa=Symbol("lastPromise"),mg=Symbol("handlePromise"),ha=Symbol("stream");function mo(t,e){return {value:t,done:e}}function LB(t){var e=t[ho];if(e!==null){var r=t[ha].read();r!==null&&(t[pa]=null,t[ho]=null,t[fa]=null,e(mo(r,!1)));}}function FB(t){A.nextTick(LB,t);}function zB(t,e){return function(r,n){t.then(function(){if(e[$f]){r(mo(void 0,!0));return}e[mg](r,n);},n);}}var qB=Object.getPrototypeOf(function(){}),jB=Object.setPrototypeOf((Hf={get stream(){return this[ha]},next:function(){var e=this,r=this[xl];if(r!==null)return Promise.reject(r);if(this[$f])return Promise.resolve(mo(void 0,!0));if(this[ha].destroyed)return new Promise(function(a,s){A.nextTick(function(){e[xl]?s(e[xl]):a(mo(void 0,!0));});});var n=this[pa],i;if(n)i=new Promise(zB(n,this));else {var o=this[ha].read();if(o!==null)return Promise.resolve(mo(o,!1));i=new Promise(this[mg]);}return this[pa]=i,i}},po(Hf,Symbol.asyncIterator,function(){return this}),po(Hf,"return",function(){var e=this;return new Promise(function(r,n){e[ha].destroy(null,function(i){if(i){n(i);return}r(mo(void 0,!0));});})}),Hf),qB),HB=function(e){var r,n=Object.create(jB,(r={},po(r,ha,{value:e,writable:!0}),po(r,ho,{value:null,writable:!0}),po(r,fa,{value:null,writable:!0}),po(r,xl,{value:null,writable:!0}),po(r,$f,{value:e._readableState.endEmitted,writable:!0}),po(r,mg,{value:function(o,a){var s=n[ha].read();s?(n[pa]=null,n[ho]=null,n[fa]=null,o(mo(s,!1))):(n[ho]=o,n[fa]=a);},writable:!0}),r));return n[pa]=null,DB(e,function(i){if(i&&i.code!=="ERR_STREAM_PREMATURE_CLOSE"){var o=n[fa];o!==null&&(n[pa]=null,n[ho]=null,n[fa]=null,o(i)),n[xl]=i;return}var a=n[ho];a!==null&&(n[pa]=null,n[ho]=null,n[fa]=null,a(mo(void 0,!0))),n[$f]=!0;}),e.on("readable",FB.bind(null,n)),n};OA.exports=HB;});var PA=ce((G9,kA)=>{y();p();h();m();kA.exports=function(){throw new Error("Readable.from is not available in the browser")};});var jf=ce((Q9,HA)=>{y();p();h();m();HA.exports=yt;var Js;yt.ReadableState=DA;(oa(),ar(Ef)).EventEmitter;var BA=function(e,r){return e.listeners(r).length},Pl=Gy(),Vf=Qn().Buffer,$B=globalThis.Uint8Array||function(){};function VB(t){return Vf.from(t)}function GB(t){return Vf.isBuffer(t)||t instanceof $B}var yg=(oi(),ar(ua)),ot;yg&&yg.debuglog?ot=yg.debuglog("stream"):ot=function(){};var WB=cA(),wg=og(),KB=ag(),YB=KB.getHighWaterMark,Gf=da().codes,JB=Gf.ERR_INVALID_ARG_TYPE,ZB=Gf.ERR_STREAM_PUSH_AFTER_EOF,QB=Gf.ERR_METHOD_NOT_IMPLEMENTED,XB=Gf.ERR_STREAM_UNSHIFT_AFTER_END_EVENT,Zs,gg,vg;xi()(yt,Pl);var kl=wg.errorOrDestroy,Eg=["error","close","destroy","pause","resume"];function eD(t,e,r){if(typeof t.prependListener=="function")return t.prependListener(e,r);!t._events||!t._events[e]?t.on(e,r):Array.isArray(t._events[e])?t._events[e].unshift(r):t._events[e]=[r,t._events[e]];}function DA(t,e,r){Js=Js||fo(),t=t||{},typeof r!="boolean"&&(r=e instanceof Js),this.objectMode=!!t.objectMode,r&&(this.objectMode=this.objectMode||!!t.readableObjectMode),this.highWaterMark=YB(this,t,"readableHighWaterMark",r),this.buffer=new WB,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=t.emitClose!==!1,this.autoDestroy=!!t.autoDestroy,this.destroyed=!1,this.defaultEncoding=t.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,t.encoding&&(Zs||(Zs=hg().StringDecoder),this.decoder=new Zs(t.encoding),this.encoding=t.encoding);}function yt(t){if(Js=Js||fo(),!(this instanceof yt))return new yt(t);var e=this instanceof Js;this._readableState=new DA(t,this,e),this.readable=!0,t&&(typeof t.read=="function"&&(this._read=t.read),typeof t.destroy=="function"&&(this._destroy=t.destroy)),Pl.call(this);}Object.defineProperty(yt.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(e){this._readableState&&(this._readableState.destroyed=e);}});yt.prototype.destroy=wg.destroy;yt.prototype._undestroy=wg.undestroy;yt.prototype._destroy=function(t,e){e(t);};yt.prototype.push=function(t,e){var r=this._readableState,n;return r.objectMode?n=!0:typeof t=="string"&&(e=e||r.defaultEncoding,e!==r.encoding&&(t=Vf.from(t,e),e=""),n=!0),LA(this,t,e,!1,n)};yt.prototype.unshift=function(t){return LA(this,t,null,!0,!1)};function LA(t,e,r,n,i){ot("readableAddChunk",e);var o=t._readableState;if(e===null)o.reading=!1,nD(t,o);else {var a;if(i||(a=tD(o,e)),a)kl(t,a);else if(o.objectMode||e&&e.length>0)if(typeof e!="string"&&!o.objectMode&&Object.getPrototypeOf(e)!==Vf.prototype&&(e=VB(e)),n)o.endEmitted?kl(t,new XB):Cg(t,o,e,!0);else if(o.ended)kl(t,new ZB);else {if(o.destroyed)return !1;o.reading=!1,o.decoder&&!r?(e=o.decoder.write(e),o.objectMode||e.length!==0?Cg(t,o,e,!1):Tg(t,o)):Cg(t,o,e,!1);}else n||(o.reading=!1,Tg(t,o));}return !o.ended&&(o.length<o.highWaterMark||o.length===0)}function Cg(t,e,r,n){e.flowing&&e.length===0&&!e.sync?(e.awaitDrain=0,t.emit("data",r)):(e.length+=e.objectMode?1:r.length,n?e.buffer.unshift(r):e.buffer.push(r),e.needReadable&&Wf(t)),Tg(t,e);}function tD(t,e){var r;return !GB(e)&&typeof e!="string"&&e!==void 0&&!t.objectMode&&(r=new JB("chunk",["string","Buffer","Uint8Array"],e)),r}yt.prototype.isPaused=function(){return this._readableState.flowing===!1};yt.prototype.setEncoding=function(t){Zs||(Zs=hg().StringDecoder);var e=new Zs(t);this._readableState.decoder=e,this._readableState.encoding=this._readableState.decoder.encoding;for(var r=this._readableState.buffer.head,n="";r!==null;)n+=e.write(r.data),r=r.next;return this._readableState.buffer.clear(),n!==""&&this._readableState.buffer.push(n),this._readableState.length=n.length,this};var MA=1073741824;function rD(t){return t>=MA?t=MA:(t--,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,t|=t>>>16,t++),t}function UA(t,e){return t<=0||e.length===0&&e.ended?0:e.objectMode?1:t!==t?e.flowing&&e.length?e.buffer.head.data.length:e.length:(t>e.highWaterMark&&(e.highWaterMark=rD(t)),t<=e.length?t:e.ended?e.length:(e.needReadable=!0,0))}yt.prototype.read=function(t){ot("read",t),t=parseInt(t,10);var e=this._readableState,r=t;if(t!==0&&(e.emittedReadable=!1),t===0&&e.needReadable&&((e.highWaterMark!==0?e.length>=e.highWaterMark:e.length>0)||e.ended))return ot("read: emitReadable",e.length,e.ended),e.length===0&&e.ended?Sg(this):Wf(this),null;if(t=UA(t,e),t===0&&e.ended)return e.length===0&&Sg(this),null;var n=e.needReadable;ot("need readable",n),(e.length===0||e.length-t<e.highWaterMark)&&(n=!0,ot("length less than watermark",n)),e.ended||e.reading?(n=!1,ot("reading or ended",n)):n&&(ot("do read"),e.reading=!0,e.sync=!0,e.length===0&&(e.needReadable=!0),this._read(e.highWaterMark),e.sync=!1,e.reading||(t=UA(r,e)));var i;return t>0?i=qA(t,e):i=null,i===null?(e.needReadable=e.length<=e.highWaterMark,t=0):(e.length-=t,e.awaitDrain=0),e.length===0&&(e.ended||(e.needReadable=!0),r!==t&&e.ended&&Sg(this)),i!==null&&this.emit("data",i),i};function nD(t,e){if(ot("onEofChunk"),!e.ended){if(e.decoder){var r=e.decoder.end();r&&r.length&&(e.buffer.push(r),e.length+=e.objectMode?1:r.length);}e.ended=!0,e.sync?Wf(t):(e.needReadable=!1,e.emittedReadable||(e.emittedReadable=!0,FA(t)));}}function Wf(t){var e=t._readableState;ot("emitReadable",e.needReadable,e.emittedReadable),e.needReadable=!1,e.emittedReadable||(ot("emitReadable",e.flowing),e.emittedReadable=!0,A.nextTick(FA,t));}function FA(t){var e=t._readableState;ot("emitReadable_",e.destroyed,e.length,e.ended),!e.destroyed&&(e.length||e.ended)&&(t.emit("readable"),e.emittedReadable=!1),e.needReadable=!e.flowing&&!e.ended&&e.length<=e.highWaterMark,Ag(t);}function Tg(t,e){e.readingMore||(e.readingMore=!0,A.nextTick(iD,t,e));}function iD(t,e){for(;!e.reading&&!e.ended&&(e.length<e.highWaterMark||e.flowing&&e.length===0);){var r=e.length;if(ot("maybeReadMore read 0"),t.read(0),r===e.length)break}e.readingMore=!1;}yt.prototype._read=function(t){kl(this,new QB("_read()"));};yt.prototype.pipe=function(t,e){var r=this,n=this._readableState;switch(n.pipesCount){case 0:n.pipes=t;break;case 1:n.pipes=[n.pipes,t];break;default:n.pipes.push(t);break}n.pipesCount+=1,ot("pipe count=%d opts=%j",n.pipesCount,e);var i=(!e||e.end!==!1)&&t!==A.stdout&&t!==A.stderr,o=i?s:T;n.endEmitted?A.nextTick(o):r.once("end",o),t.on("unpipe",a);function a(_,P){ot("onunpipe"),_===r&&P&&P.hasUnpiped===!1&&(P.hasUnpiped=!0,f());}function s(){ot("onend"),t.end();}var u=oD(r);t.on("drain",u);var d=!1;function f(){ot("cleanup"),t.removeListener("close",S),t.removeListener("finish",E),t.removeListener("drain",u),t.removeListener("error",C),t.removeListener("unpipe",a),r.removeListener("end",s),r.removeListener("end",T),r.removeListener("data",g),d=!0,n.awaitDrain&&(!t._writableState||t._writableState.needDrain)&&u();}r.on("data",g);function g(_){ot("ondata");var P=t.write(_);ot("dest.write",P),P===!1&&((n.pipesCount===1&&n.pipes===t||n.pipesCount>1&&jA(n.pipes,t)!==-1)&&!d&&(ot("false write response, pause",n.awaitDrain),n.awaitDrain++),r.pause());}function C(_){ot("onerror",_),T(),t.removeListener("error",C),BA(t,"error")===0&&kl(t,_);}eD(t,"error",C);function S(){t.removeListener("finish",E),T();}t.once("close",S);function E(){ot("onfinish"),t.removeListener("close",S),T();}t.once("finish",E);function T(){ot("unpipe"),r.unpipe(t);}return t.emit("pipe",r),n.flowing||(ot("pipe resume"),r.resume()),t};function oD(t){return function(){var r=t._readableState;ot("pipeOnDrain",r.awaitDrain),r.awaitDrain&&r.awaitDrain--,r.awaitDrain===0&&BA(t,"data")&&(r.flowing=!0,Ag(t));}}yt.prototype.unpipe=function(t){var e=this._readableState,r={hasUnpiped:!1};if(e.pipesCount===0)return this;if(e.pipesCount===1)return t&&t!==e.pipes?this:(t||(t=e.pipes),e.pipes=null,e.pipesCount=0,e.flowing=!1,t&&t.emit("unpipe",this,r),this);if(!t){var n=e.pipes,i=e.pipesCount;e.pipes=null,e.pipesCount=0,e.flowing=!1;for(var o=0;o<i;o++)n[o].emit("unpipe",this,{hasUnpiped:!1});return this}var a=jA(e.pipes,t);return a===-1?this:(e.pipes.splice(a,1),e.pipesCount-=1,e.pipesCount===1&&(e.pipes=e.pipes[0]),t.emit("unpipe",this,r),this)};yt.prototype.on=function(t,e){var r=Pl.prototype.on.call(this,t,e),n=this._readableState;return t==="data"?(n.readableListening=this.listenerCount("readable")>0,n.flowing!==!1&&this.resume()):t==="readable"&&!n.endEmitted&&!n.readableListening&&(n.readableListening=n.needReadable=!0,n.flowing=!1,n.emittedReadable=!1,ot("on readable",n.length,n.reading),n.length?Wf(this):n.reading||A.nextTick(aD,this)),r};yt.prototype.addListener=yt.prototype.on;yt.prototype.removeListener=function(t,e){var r=Pl.prototype.removeListener.call(this,t,e);return t==="readable"&&A.nextTick(zA,this),r};yt.prototype.removeAllListeners=function(t){var e=Pl.prototype.removeAllListeners.apply(this,arguments);return (t==="readable"||t===void 0)&&A.nextTick(zA,this),e};function zA(t){var e=t._readableState;e.readableListening=t.listenerCount("readable")>0,e.resumeScheduled&&!e.paused?e.flowing=!0:t.listenerCount("data")>0&&t.resume();}function aD(t){ot("readable nexttick read 0"),t.read(0);}yt.prototype.resume=function(){var t=this._readableState;return t.flowing||(ot("resume"),t.flowing=!t.readableListening,sD(this,t)),t.paused=!1,this};function sD(t,e){e.resumeScheduled||(e.resumeScheduled=!0,A.nextTick(cD,t,e));}function cD(t,e){ot("resume",e.reading),e.reading||t.read(0),e.resumeScheduled=!1,t.emit("resume"),Ag(t),e.flowing&&!e.reading&&t.read(0);}yt.prototype.pause=function(){return ot("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(ot("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this};function Ag(t){var e=t._readableState;for(ot("flow",e.flowing);e.flowing&&t.read()!==null;);}yt.prototype.wrap=function(t){var e=this,r=this._readableState,n=!1;t.on("end",function(){if(ot("wrapped end"),r.decoder&&!r.ended){var a=r.decoder.end();a&&a.length&&e.push(a);}e.push(null);}),t.on("data",function(a){if(ot("wrapped data"),r.decoder&&(a=r.decoder.write(a)),!(r.objectMode&&a==null)&&!(!r.objectMode&&(!a||!a.length))){var s=e.push(a);s||(n=!0,t.pause());}});for(var i in t)this[i]===void 0&&typeof t[i]=="function"&&(this[i]=function(s){return function(){return t[s].apply(t,arguments)}}(i));for(var o=0;o<Eg.length;o++)t.on(Eg[o],this.emit.bind(this,Eg[o]));return this._read=function(a){ot("wrapped _read",a),n&&(n=!1,t.resume());},this};typeof Symbol=="function"&&(yt.prototype[Symbol.asyncIterator]=function(){return gg===void 0&&(gg=xA()),gg(this)});Object.defineProperty(yt.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}});Object.defineProperty(yt.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}});Object.defineProperty(yt.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(e){this._readableState&&(this._readableState.flowing=e);}});yt._fromList=qA;Object.defineProperty(yt.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}});function qA(t,e){if(e.length===0)return null;var r;return e.objectMode?r=e.buffer.shift():!t||t>=e.length?(e.decoder?r=e.buffer.join(""):e.buffer.length===1?r=e.buffer.first():r=e.buffer.concat(e.length),e.buffer.clear()):r=e.buffer.consume(t,e.decoder),r}function Sg(t){var e=t._readableState;ot("endReadable",e.endEmitted),e.endEmitted||(e.ended=!0,A.nextTick(lD,e,t));}function lD(t,e){if(ot("endReadableNT",t.endEmitted,t.length),!t.endEmitted&&t.length===0&&(t.endEmitted=!0,e.readable=!1,e.emit("end"),t.autoDestroy)){var r=e._writableState;(!r||r.autoDestroy&&r.finished)&&e.destroy();}}typeof Symbol=="function"&&(yt.from=function(t,e){return vg===void 0&&(vg=PA()),vg(yt,t,e)});function jA(t,e){for(var r=0,n=t.length;r<n;r++)if(t[r]===e)return r;return -1}});var Jf=ce((n7,VA)=>{y();p();h();m();VA.exports=Bi;var Kf=da().codes,uD=Kf.ERR_METHOD_NOT_IMPLEMENTED,dD=Kf.ERR_MULTIPLE_CALLBACK,fD=Kf.ERR_TRANSFORM_ALREADY_TRANSFORMING,pD=Kf.ERR_TRANSFORM_WITH_LENGTH_0,Yf=fo();xi()(Bi,Yf);function hD(t,e){var r=this._transformState;r.transforming=!1;var n=r.writecb;if(n===null)return this.emit("error",new dD);r.writechunk=null,r.writecb=null,e!=null&&this.push(e),n(t);var i=this._readableState;i.reading=!1,(i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark);}function Bi(t){if(!(this instanceof Bi))return new Bi(t);Yf.call(this,t),this._transformState={afterTransform:hD.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,t&&(typeof t.transform=="function"&&(this._transform=t.transform),typeof t.flush=="function"&&(this._flush=t.flush)),this.on("prefinish",mD);}function mD(){var t=this;typeof this._flush=="function"&&!this._readableState.destroyed?this._flush(function(e,r){$A(t,e,r);}):$A(this,null,null);}Bi.prototype.push=function(t,e){return this._transformState.needTransform=!1,Yf.prototype.push.call(this,t,e)};Bi.prototype._transform=function(t,e,r){r(new uD("_transform()"));};Bi.prototype._write=function(t,e,r){var n=this._transformState;if(n.writecb=r,n.writechunk=t,n.writeencoding=e,!n.transforming){var i=this._readableState;(n.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark);}};Bi.prototype._read=function(t){var e=this._transformState;e.writechunk!==null&&!e.transforming?(e.transforming=!0,this._transform(e.writechunk,e.writeencoding,e.afterTransform)):e.needTransform=!0;};Bi.prototype._destroy=function(t,e){Yf.prototype._destroy.call(this,t,function(r){e(r);});};function $A(t,e,r){if(e)return t.emit("error",e);if(r!=null&&t.push(r),t._writableState.length)throw new pD;if(t._transformState.transforming)throw new fD;return t.push(null)}});var bg=ce((c7,WA)=>{y();p();h();m();WA.exports=Ml;var GA=Jf();xi()(Ml,GA);function Ml(t){if(!(this instanceof Ml))return new Ml(t);GA.call(this,t);}Ml.prototype._transform=function(t,e,r){r(null,t);};});var _g=ce((p7,ZA)=>{y();p();h();m();var Rg;function yD(t){var e=!1;return function(){e||(e=!0,t.apply(void 0,arguments));}}var JA=da().codes,gD=JA.ERR_MISSING_ARGS,vD=JA.ERR_STREAM_DESTROYED;function KA(t){if(t)throw t}function ED(t){return t.setHeader&&typeof t.abort=="function"}function CD(t,e,r,n){n=yD(n);var i=!1;t.on("close",function(){i=!0;}),Rg===void 0&&(Rg=Ol()),Rg(t,{readable:e,writable:r},function(a){if(a)return n(a);i=!0,n();});var o=!1;return function(a){if(!i&&!o){if(o=!0,ED(t))return t.abort();if(typeof t.destroy=="function")return t.destroy();n(a||new vD("pipe"));}}}function YA(t){t();}function SD(t,e){return t.pipe(e)}function TD(t){return !t.length||typeof t[t.length-1]!="function"?KA:t.pop()}function wD(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];var n=TD(e);if(Array.isArray(e[0])&&(e=e[0]),e.length<2)throw new gD("streams");var i,o=e.map(function(a,s){var u=s<e.length-1,d=s>0;return CD(a,u,d,function(f){i||(i=f),f&&o.forEach(YA),!u&&(o.forEach(YA),n(i));})});return e.reduce(SD)}ZA.exports=wD;});var Zf=ce((v7,QA)=>{y();p();h();m();QA.exports=hn;var Ig=(oa(),ar(Ef)).EventEmitter,AD=xi();AD(hn,Ig);hn.Readable=jf();hn.Writable=Ff();hn.Duplex=fo();hn.Transform=Jf();hn.PassThrough=bg();hn.finished=Ol();hn.pipeline=_g();hn.Stream=hn;function hn(){Ig.call(this);}hn.prototype.pipe=function(t,e){var r=this;function n(f){t.writable&&t.write(f)===!1&&r.pause&&r.pause();}r.on("data",n);function i(){r.readable&&r.resume&&r.resume();}t.on("drain",i),!t._isStdio&&(!e||e.end!==!1)&&(r.on("end",a),r.on("close",s));var o=!1;function a(){o||(o=!0,t.end());}function s(){o||(o=!0,typeof t.destroy=="function"&&t.destroy());}function u(f){if(d(),Ig.listenerCount(this,"error")===0)throw f}r.on("error",u),t.on("error",u);function d(){r.removeListener("data",n),t.removeListener("drain",i),r.removeListener("end",a),r.removeListener("close",s),r.removeListener("error",u),t.removeListener("error",u),r.removeListener("end",d),r.removeListener("close",d),t.removeListener("close",d);}return r.on("end",d),r.on("close",d),t.on("close",d),t.emit("pipe",r),t};});var Ng=ce((w7,XA)=>{y();p();h();m();var Qf=na().Buffer,bD=Zf(),RD=(oi(),ar(ua));function Xf(t){if(this.buffer=null,this.writable=!0,this.readable=!0,!t)return this.buffer=Qf.alloc(0),this;if(typeof t.pipe=="function")return this.buffer=Qf.alloc(0),t.pipe(this),this;if(t.length||typeof t=="object")return this.buffer=t,this.writable=!1,A.nextTick(function(){this.emit("end",t),this.readable=!1,this.emit("close");}.bind(this)),this;throw new TypeError("Unexpected data type ("+typeof t+")")}RD.inherits(Xf,bD);Xf.prototype.write=function(e){this.buffer=Qf.concat([this.buffer,Qf.from(e)]),this.emit("data",e);};Xf.prototype.end=function(e){e&&this.write(e),this.emit("end",e),this.emit("close"),this.writable=!1,this.readable=!1;};XA.exports=Xf;});var tb=ce((I7,eb)=>{y();p();h();m();var Ul=Qn().Buffer,Og=Qn().SlowBuffer;eb.exports=ep;function ep(t,e){if(!Ul.isBuffer(t)||!Ul.isBuffer(e)||t.length!==e.length)return !1;for(var r=0,n=0;n<t.length;n++)r|=t[n]^e[n];return r===0}ep.install=function(){Ul.prototype.equal=Og.prototype.equal=function(e){return ep(this,e)};};var _D=Ul.prototype.equal,ID=Og.prototype.equal;ep.restore=function(){Ul.prototype.equal=_D,Og.prototype.equal=ID;};});var tp={};Ut(tp,{default:()=>Bl});var Bl,Qs=Qt(()=>{y();p();h();m();Bl=window.crypto;});var nb=ce((D7,rb)=>{y();p();h();m();function xg(t){var e=(t/8|0)+(t%8===0?0:1);return e}var ND={ES256:xg(256),ES384:xg(384),ES512:xg(521)};function OD(t){var e=ND[t];if(e)return e;throw new Error('Unknown algorithm "'+t+'"')}rb.exports=OD;});var ub=ce((j7,lb)=>{y();p();h();m();var rp=na().Buffer,ob=nb(),np=128,ab=0,xD=32,kD=16,PD=2,sb=kD|xD|ab<<6,ip=PD|ab<<6;function MD(t){return t.replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function cb(t){if(rp.isBuffer(t))return t;if(typeof t=="string")return rp.from(t,"base64");throw new TypeError("ECDSA signature must be a Base64 string or a Buffer")}function UD(t,e){t=cb(t);var r=ob(e),n=r+1,i=t.length,o=0;if(t[o++]!==sb)throw new Error('Could not find expected "seq"');var a=t[o++];if(a===(np|1)&&(a=t[o++]),i-o<a)throw new Error('"seq" specified length of "'+a+'", only "'+(i-o)+'" remaining');if(t[o++]!==ip)throw new Error('Could not find expected "int" for "r"');var s=t[o++];if(i-o-2<s)throw new Error('"r" specified length of "'+s+'", only "'+(i-o-2)+'" available');if(n<s)throw new Error('"r" specified length of "'+s+'", max of "'+n+'" is acceptable');var u=o;if(o+=s,t[o++]!==ip)throw new Error('Could not find expected "int" for "s"');var d=t[o++];if(i-o!==d)throw new Error('"s" specified length of "'+d+'", expected "'+(i-o)+'"');if(n<d)throw new Error('"s" specified length of "'+d+'", max of "'+n+'" is acceptable');var f=o;if(o+=d,o!==i)throw new Error('Expected to consume entire buffer, but "'+(i-o)+'" bytes remain');var g=r-s,C=r-d,S=rp.allocUnsafe(g+s+C+d);for(o=0;o<g;++o)S[o]=0;t.copy(S,o,u+Math.max(-g,0),u+s),o=r;for(var E=o;o<E+C;++o)S[o]=0;return t.copy(S,o,f+Math.max(-C,0),f+d),S=S.toString("base64"),S=MD(S),S}function ib(t,e,r){for(var n=0;e+n<r&&t[e+n]===0;)++n;var i=t[e+n]>=np;return i&&--n,n}function BD(t,e){t=cb(t);var r=ob(e),n=t.length;if(n!==r*2)throw new TypeError('"'+e+'" signatures must be "'+r*2+'" bytes, saw "'+n+'"');var i=ib(t,0,r),o=ib(t,r,t.length),a=r-i,s=r-o,u=2+a+1+1+s,d=u<np,f=rp.allocUnsafe((d?2:3)+u),g=0;return f[g++]=sb,d?f[g++]=u:(f[g++]=np|1,f[g++]=u&255),f[g++]=ip,f[g++]=a,i<0?(f[g++]=0,g+=t.copy(f,g,0,r)):g+=t.copy(f,g,i,r),f[g++]=ip,f[g++]=s,o<0?(f[g++]=0,t.copy(f,g,r)):t.copy(f,g,r+o),f}lb.exports={derToJose:UD,joseToDer:BD};});var Mg=ce((W7,Eb)=>{y();p();h();m();var DD=tb(),ec=na().Buffer,si=(Qs(),ar(tp)),fb=ub(),db=(oi(),ar(ua)),LD=`"%s" is not a valid algorithm.
  Supported algorithms are:
  "HS256", "HS384", "HS512", "RS256", "RS384", "RS512", "PS256", "PS384", "PS512", "ES256", "ES384", "ES512" and "none".`,Dl="secret must be a string or buffer",Xs="key must be a string or a buffer",FD="key must be a string, a buffer or an object",kg=typeof si.createPublicKey=="function";kg&&(Xs+=" or a KeyObject",Dl+="or a KeyObject");function pb(t){if(!ec.isBuffer(t)&&typeof t!="string"&&(!kg||typeof t!="object"||typeof t.type!="string"||typeof t.asymmetricKeyType!="string"||typeof t.export!="function"))throw Bn(Xs)}function hb(t){if(!ec.isBuffer(t)&&typeof t!="string"&&typeof t!="object")throw Bn(FD)}function zD(t){if(!ec.isBuffer(t)){if(typeof t=="string")return t;if(!kg||typeof t!="object"||t.type!=="secret"||typeof t.export!="function")throw Bn(Dl)}}function Pg(t){return t.replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function mb(t){t=t.toString();var e=4-t.length%4;if(e!==4)for(var r=0;r<e;++r)t+="=";return t.replace(/\-/g,"+").replace(/_/g,"/")}function Bn(t){var e=[].slice.call(arguments,1),r=db.format.bind(db,t).apply(null,e);return new TypeError(r)}function qD(t){return ec.isBuffer(t)||typeof t=="string"}function Ll(t){return qD(t)||(t=JSON.stringify(t)),t}function yb(t){return function(r,n){zD(n),r=Ll(r);var i=si.createHmac("sha"+t,n),o=(i.update(r),i.digest("base64"));return Pg(o)}}function jD(t){return function(r,n,i){var o=yb(t)(r,i);return DD(ec.from(n),ec.from(o))}}function gb(t){return function(r,n){hb(n),r=Ll(r);var i=si.createSign("RSA-SHA"+t),o=(i.update(r),i.sign(n,"base64"));return Pg(o)}}function vb(t){return function(r,n,i){pb(i),r=Ll(r),n=mb(n);var o=si.createVerify("RSA-SHA"+t);return o.update(r),o.verify(i,n,"base64")}}function HD(t){return function(r,n){hb(n),r=Ll(r);var i=si.createSign("RSA-SHA"+t),o=(i.update(r),i.sign({key:n,padding:si.constants.RSA_PKCS1_PSS_PADDING,saltLength:si.constants.RSA_PSS_SALTLEN_DIGEST},"base64"));return Pg(o)}}function $D(t){return function(r,n,i){pb(i),r=Ll(r),n=mb(n);var o=si.createVerify("RSA-SHA"+t);return o.update(r),o.verify({key:i,padding:si.constants.RSA_PKCS1_PSS_PADDING,saltLength:si.constants.RSA_PSS_SALTLEN_DIGEST},n,"base64")}}function VD(t){var e=gb(t);return function(){var n=e.apply(null,arguments);return n=fb.derToJose(n,"ES"+t),n}}function GD(t){var e=vb(t);return function(n,i,o){i=fb.joseToDer(i,"ES"+t).toString("base64");var a=e(n,i,o);return a}}function WD(){return function(){return ""}}function KD(){return function(e,r){return r===""}}Eb.exports=function(e){var r={hs:yb,rs:gb,ps:HD,es:VD,none:WD},n={hs:jD,rs:vb,ps:$D,es:GD,none:KD},i=e.match(/^(RS|PS|ES|HS)(256|384|512)$|^(none)$/i);if(!i)throw Bn(LD,e);var o=(i[1]||i[3]).toLowerCase(),a=i[2];return {sign:r[o](a),verify:n[o](a)}};});var Ug=ce((Q7,Cb)=>{y();p();h();m();var YD=Qn().Buffer;Cb.exports=function(e){return typeof e=="string"?e:typeof e=="number"||YD.isBuffer(e)?e.toString():JSON.stringify(e)};});var Rb=ce((nJ,bb)=>{y();p();h();m();var JD=na().Buffer,Sb=Ng(),ZD=Mg(),QD=Zf(),Tb=Ug(),Bg=(oi(),ar(ua));function wb(t,e){return JD.from(t,e).toString("base64").replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function XD(t,e,r){r=r||"utf8";var n=wb(Tb(t),"binary"),i=wb(Tb(e),r);return Bg.format("%s.%s",n,i)}function Ab(t){var e=t.header,r=t.payload,n=t.secret||t.privateKey,i=t.encoding,o=ZD(e.alg),a=XD(e,r,i),s=o.sign(a,n);return Bg.format("%s.%s",a,s)}function op(t){var e=t.secret||t.privateKey||t.key,r=new Sb(e);this.readable=!0,this.header=t.header,this.encoding=t.encoding,this.secret=this.privateKey=this.key=r,this.payload=new Sb(t.payload),this.secret.once("close",function(){!this.payload.writable&&this.readable&&this.sign();}.bind(this)),this.payload.once("close",function(){!this.secret.writable&&this.readable&&this.sign();}.bind(this));}Bg.inherits(op,QD);op.prototype.sign=function(){try{var e=Ab({header:this.header,payload:this.payload.buffer,secret:this.secret.buffer,encoding:this.encoding});return this.emit("done",e),this.emit("data",e),this.emit("end"),this.readable=!1,e}catch(r){this.readable=!1,this.emit("error",r),this.emit("close");}};op.sign=Ab;bb.exports=op;});var Bb=ce((cJ,Ub)=>{y();p();h();m();var Ib=na().Buffer,_b=Ng(),eL=Mg(),tL=Zf(),Nb=Ug(),rL=(oi(),ar(ua)),nL=/^[a-zA-Z0-9\-_]+?\.[a-zA-Z0-9\-_]+?\.([a-zA-Z0-9\-_]+)?$/;function iL(t){return Object.prototype.toString.call(t)==="[object Object]"}function oL(t){if(iL(t))return t;try{return JSON.parse(t)}catch(e){return}}function Ob(t){var e=t.split(".",1)[0];return oL(Ib.from(e,"base64").toString("binary"))}function aL(t){return t.split(".",2).join(".")}function xb(t){return t.split(".")[2]}function sL(t,e){e=e||"utf8";var r=t.split(".")[1];return Ib.from(r,"base64").toString(e)}function kb(t){return nL.test(t)&&!!Ob(t)}function Pb(t,e,r){if(!e){var n=new Error("Missing algorithm parameter for jws.verify");throw n.code="MISSING_ALGORITHM",n}t=Nb(t);var i=xb(t),o=aL(t),a=eL(e);return a.verify(o,i,r)}function Mb(t,e){if(e=e||{},t=Nb(t),!kb(t))return null;var r=Ob(t);if(!r)return null;var n=sL(t);return (r.typ==="JWT"||e.json)&&(n=JSON.parse(n,e.encoding)),{header:r,payload:n,signature:xb(t)}}function tc(t){t=t||{};var e=t.secret||t.publicKey||t.key,r=new _b(e);this.readable=!0,this.algorithm=t.algorithm,this.encoding=t.encoding,this.secret=this.publicKey=this.key=r,this.signature=new _b(t.signature),this.secret.once("close",function(){!this.signature.writable&&this.readable&&this.verify();}.bind(this)),this.signature.once("close",function(){!this.secret.writable&&this.readable&&this.verify();}.bind(this));}rL.inherits(tc,tL);tc.prototype.verify=function(){try{var e=Pb(this.signature.buffer,this.algorithm,this.key.buffer),r=Mb(this.signature.buffer,this.encoding);return this.emit("done",e,r),this.emit("data",e),this.emit("end"),this.readable=!1,e}catch(n){this.readable=!1,this.emit("error",n),this.emit("close");}};tc.decode=Mb;tc.isValid=kb;tc.verify=Pb;Ub.exports=tc;});var sp=ce(yo=>{y();p();h();m();var Db=Rb(),ap=Bb(),cL=["HS256","HS384","HS512","RS256","RS384","RS512","PS256","PS384","PS512","ES256","ES384","ES512"];yo.ALGORITHMS=cL;yo.sign=Db.sign;yo.verify=ap.verify;yo.decode=ap.decode;yo.isValid=ap.isValid;yo.createSign=function(e){return new Db(e)};yo.createVerify=function(e){return new ap(e)};});var Dg=ce((vJ,Lb)=>{y();p();h();m();var lL=sp();Lb.exports=function(t,e){e=e||{};var r=lL.decode(t,e);if(!r)return null;var n=r.payload;if(typeof n=="string")try{var i=JSON.parse(n);i!==null&&typeof i=="object"&&(n=i);}catch(o){}return e.complete===!0?{header:r.header,payload:n,signature:r.signature}:n};});var Fl=ce((wJ,Fb)=>{y();p();h();m();var cp=function(t,e){Error.call(this,t),Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor),this.name="JsonWebTokenError",this.message=t,e&&(this.inner=e);};cp.prototype=Object.create(Error.prototype);cp.prototype.constructor=cp;Fb.exports=cp;});var Lg=ce((IJ,qb)=>{y();p();h();m();var zb=Fl(),lp=function(t,e){zb.call(this,t),this.name="NotBeforeError",this.date=e;};lp.prototype=Object.create(zb.prototype);lp.prototype.constructor=lp;qb.exports=lp;});var Fg=ce((PJ,Hb)=>{y();p();h();m();var jb=Fl(),up=function(t,e){jb.call(this,t),this.name="TokenExpiredError",this.expiredAt=e;};up.prototype=Object.create(jb.prototype);up.prototype.constructor=up;Hb.exports=up;});var Vb=ce((LJ,$b)=>{y();p();h();m();var rc=1e3,nc=rc*60,ic=nc*60,ma=ic*24,uL=ma*7,dL=ma*365.25;$b.exports=function(t,e){e=e||{};var r=typeof t;if(r==="string"&&t.length>0)return fL(t);if(r==="number"&&isFinite(t))return e.long?hL(t):pL(t);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(t))};function fL(t){if(t=String(t),!(t.length>100)){var e=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(t);if(e){var r=parseFloat(e[1]),n=(e[2]||"ms").toLowerCase();switch(n){case"years":case"year":case"yrs":case"yr":case"y":return r*dL;case"weeks":case"week":case"w":return r*uL;case"days":case"day":case"d":return r*ma;case"hours":case"hour":case"hrs":case"hr":case"h":return r*ic;case"minutes":case"minute":case"mins":case"min":case"m":return r*nc;case"seconds":case"second":case"secs":case"sec":case"s":return r*rc;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return r;default:return}}}}function pL(t){var e=Math.abs(t);return e>=ma?Math.round(t/ma)+"d":e>=ic?Math.round(t/ic)+"h":e>=nc?Math.round(t/nc)+"m":e>=rc?Math.round(t/rc)+"s":t+"ms"}function hL(t){var e=Math.abs(t);return e>=ma?dp(t,e,ma,"day"):e>=ic?dp(t,e,ic,"hour"):e>=nc?dp(t,e,nc,"minute"):e>=rc?dp(t,e,rc,"second"):t+" ms"}function dp(t,e,r,n){var i=e>=r*1.5;return Math.round(t/r)+" "+n+(i?"s":"")}});var zg=ce((HJ,Gb)=>{y();p();h();m();var mL=Vb();Gb.exports=function(t,e){var r=e||Math.floor(Date.now()/1e3);if(typeof t=="string"){var n=mL(t);return typeof n=="undefined"?void 0:Math.floor(r+n/1e3)}else return typeof t=="number"?r+t:void 0};});var zl=ce((KJ,Wb)=>{y();p();h();m();var yL="2.0.0",gL=Number.MAX_SAFE_INTEGER||9007199254740991,vL=16,EL=250,CL=["major","premajor","minor","preminor","patch","prepatch","prerelease"];Wb.exports={MAX_LENGTH:256,MAX_SAFE_COMPONENT_LENGTH:vL,MAX_SAFE_BUILD_LENGTH:EL,MAX_SAFE_INTEGER:gL,RELEASE_TYPES:CL,SEMVER_SPEC_VERSION:yL,FLAG_INCLUDE_PRERELEASE:1,FLAG_LOOSE:2};});var ql=ce((XJ,Kb)=>{y();p();h();m();var SL=typeof A=="object"&&A.env&&A.env.NODE_DEBUG&&/\bsemver\b/i.test(A.env.NODE_DEBUG)?(...t)=>console.error("SEMVER",...t):()=>{};Kb.exports=SL;});var oc=ce((Di,Yb)=>{y();p();h();m();var{MAX_SAFE_COMPONENT_LENGTH:qg,MAX_SAFE_BUILD_LENGTH:TL,MAX_LENGTH:wL}=zl(),AL=ql();Di=Yb.exports={};var bL=Di.re=[],RL=Di.safeRe=[],ke=Di.src=[],Pe=Di.t={},_L=0,jg="[a-zA-Z0-9-]",IL=[["\\s",1],["\\d",wL],[jg,TL]],NL=t=>{for(let[e,r]of IL)t=t.split(`${e}*`).join(`${e}{0,${r}}`).split(`${e}+`).join(`${e}{1,${r}}`);return t},Qe=(t,e,r)=>{let n=NL(e),i=_L++;AL(t,i,e),Pe[t]=i,ke[i]=e,bL[i]=new RegExp(e,r?"g":void 0),RL[i]=new RegExp(n,r?"g":void 0);};Qe("NUMERICIDENTIFIER","0|[1-9]\\d*");Qe("NUMERICIDENTIFIERLOOSE","\\d+");Qe("NONNUMERICIDENTIFIER",`\\d*[a-zA-Z-]${jg}*`);Qe("MAINVERSION",`(${ke[Pe.NUMERICIDENTIFIER]})\\.(${ke[Pe.NUMERICIDENTIFIER]})\\.(${ke[Pe.NUMERICIDENTIFIER]})`);Qe("MAINVERSIONLOOSE",`(${ke[Pe.NUMERICIDENTIFIERLOOSE]})\\.(${ke[Pe.NUMERICIDENTIFIERLOOSE]})\\.(${ke[Pe.NUMERICIDENTIFIERLOOSE]})`);Qe("PRERELEASEIDENTIFIER",`(?:${ke[Pe.NUMERICIDENTIFIER]}|${ke[Pe.NONNUMERICIDENTIFIER]})`);Qe("PRERELEASEIDENTIFIERLOOSE",`(?:${ke[Pe.NUMERICIDENTIFIERLOOSE]}|${ke[Pe.NONNUMERICIDENTIFIER]})`);Qe("PRERELEASE",`(?:-(${ke[Pe.PRERELEASEIDENTIFIER]}(?:\\.${ke[Pe.PRERELEASEIDENTIFIER]})*))`);Qe("PRERELEASELOOSE",`(?:-?(${ke[Pe.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${ke[Pe.PRERELEASEIDENTIFIERLOOSE]})*))`);Qe("BUILDIDENTIFIER",`${jg}+`);Qe("BUILD",`(?:\\+(${ke[Pe.BUILDIDENTIFIER]}(?:\\.${ke[Pe.BUILDIDENTIFIER]})*))`);Qe("FULLPLAIN",`v?${ke[Pe.MAINVERSION]}${ke[Pe.PRERELEASE]}?${ke[Pe.BUILD]}?`);Qe("FULL",`^${ke[Pe.FULLPLAIN]}$`);Qe("LOOSEPLAIN",`[v=\\s]*${ke[Pe.MAINVERSIONLOOSE]}${ke[Pe.PRERELEASELOOSE]}?${ke[Pe.BUILD]}?`);Qe("LOOSE",`^${ke[Pe.LOOSEPLAIN]}$`);Qe("GTLT","((?:<|>)?=?)");Qe("XRANGEIDENTIFIERLOOSE",`${ke[Pe.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`);Qe("XRANGEIDENTIFIER",`${ke[Pe.NUMERICIDENTIFIER]}|x|X|\\*`);Qe("XRANGEPLAIN",`[v=\\s]*(${ke[Pe.XRANGEIDENTIFIER]})(?:\\.(${ke[Pe.XRANGEIDENTIFIER]})(?:\\.(${ke[Pe.XRANGEIDENTIFIER]})(?:${ke[Pe.PRERELEASE]})?${ke[Pe.BUILD]}?)?)?`);Qe("XRANGEPLAINLOOSE",`[v=\\s]*(${ke[Pe.XRANGEIDENTIFIERLOOSE]})(?:\\.(${ke[Pe.XRANGEIDENTIFIERLOOSE]})(?:\\.(${ke[Pe.XRANGEIDENTIFIERLOOSE]})(?:${ke[Pe.PRERELEASELOOSE]})?${ke[Pe.BUILD]}?)?)?`);Qe("XRANGE",`^${ke[Pe.GTLT]}\\s*${ke[Pe.XRANGEPLAIN]}$`);Qe("XRANGELOOSE",`^${ke[Pe.GTLT]}\\s*${ke[Pe.XRANGEPLAINLOOSE]}$`);Qe("COERCEPLAIN",`(^|[^\\d])(\\d{1,${qg}})(?:\\.(\\d{1,${qg}}))?(?:\\.(\\d{1,${qg}}))?`);Qe("COERCE",`${ke[Pe.COERCEPLAIN]}(?:$|[^\\d])`);Qe("COERCEFULL",ke[Pe.COERCEPLAIN]+`(?:${ke[Pe.PRERELEASE]})?(?:${ke[Pe.BUILD]})?(?:$|[^\\d])`);Qe("COERCERTL",ke[Pe.COERCE],!0);Qe("COERCERTLFULL",ke[Pe.COERCEFULL],!0);Qe("LONETILDE","(?:~>?)");Qe("TILDETRIM",`(\\s*)${ke[Pe.LONETILDE]}\\s+`,!0);Di.tildeTrimReplace="$1~";Qe("TILDE",`^${ke[Pe.LONETILDE]}${ke[Pe.XRANGEPLAIN]}$`);Qe("TILDELOOSE",`^${ke[Pe.LONETILDE]}${ke[Pe.XRANGEPLAINLOOSE]}$`);Qe("LONECARET","(?:\\^)");Qe("CARETTRIM",`(\\s*)${ke[Pe.LONECARET]}\\s+`,!0);Di.caretTrimReplace="$1^";Qe("CARET",`^${ke[Pe.LONECARET]}${ke[Pe.XRANGEPLAIN]}$`);Qe("CARETLOOSE",`^${ke[Pe.LONECARET]}${ke[Pe.XRANGEPLAINLOOSE]}$`);Qe("COMPARATORLOOSE",`^${ke[Pe.GTLT]}\\s*(${ke[Pe.LOOSEPLAIN]})$|^$`);Qe("COMPARATOR",`^${ke[Pe.GTLT]}\\s*(${ke[Pe.FULLPLAIN]})$|^$`);Qe("COMPARATORTRIM",`(\\s*)${ke[Pe.GTLT]}\\s*(${ke[Pe.LOOSEPLAIN]}|${ke[Pe.XRANGEPLAIN]})`,!0);Di.comparatorTrimReplace="$1$2$3";Qe("HYPHENRANGE",`^\\s*(${ke[Pe.XRANGEPLAIN]})\\s+-\\s+(${ke[Pe.XRANGEPLAIN]})\\s*$`);Qe("HYPHENRANGELOOSE",`^\\s*(${ke[Pe.XRANGEPLAINLOOSE]})\\s+-\\s+(${ke[Pe.XRANGEPLAINLOOSE]})\\s*$`);Qe("STAR","(<|>)?=?\\s*\\*");Qe("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$");Qe("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$");});var fp=ce((cZ,Jb)=>{y();p();h();m();var OL=Object.freeze({loose:!0}),xL=Object.freeze({}),kL=t=>t?typeof t!="object"?OL:t:xL;Jb.exports=kL;});var Hg=ce((pZ,Xb)=>{y();p();h();m();var Zb=/^[0-9]+$/,Qb=(t,e)=>{let r=Zb.test(t),n=Zb.test(e);return r&&n&&(t=+t,e=+e),t===e?0:r&&!n?-1:n&&!r?1:t<e?-1:1},PL=(t,e)=>Qb(e,t);Xb.exports={compareIdentifiers:Qb,rcompareIdentifiers:PL};});var Rr=ce((vZ,nR)=>{y();p();h();m();var pp=ql(),{MAX_LENGTH:eR,MAX_SAFE_INTEGER:hp}=zl(),{safeRe:tR,t:rR}=oc(),ML=fp(),{compareIdentifiers:ac}=Hg(),$g=class t{constructor(e,r){if(r=ML(r),e instanceof t){if(e.loose===!!r.loose&&e.includePrerelease===!!r.includePrerelease)return e;e=e.version;}else if(typeof e!="string")throw new TypeError(`Invalid version. Must be a string. Got type "${typeof e}".`);if(e.length>eR)throw new TypeError(`version is longer than ${eR} characters`);pp("SemVer",e,r),this.options=r,this.loose=!!r.loose,this.includePrerelease=!!r.includePrerelease;let n=e.trim().match(r.loose?tR[rR.LOOSE]:tR[rR.FULL]);if(!n)throw new TypeError(`Invalid Version: ${e}`);if(this.raw=e,this.major=+n[1],this.minor=+n[2],this.patch=+n[3],this.major>hp||this.major<0)throw new TypeError("Invalid major version");if(this.minor>hp||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>hp||this.patch<0)throw new TypeError("Invalid patch version");n[4]?this.prerelease=n[4].split(".").map(i=>{if(/^[0-9]+$/.test(i)){let o=+i;if(o>=0&&o<hp)return o}return i}):this.prerelease=[],this.build=n[5]?n[5].split("."):[],this.format();}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(e){if(pp("SemVer.compare",this.version,this.options,e),!(e instanceof t)){if(typeof e=="string"&&e===this.version)return 0;e=new t(e,this.options);}return e.version===this.version?0:this.compareMain(e)||this.comparePre(e)}compareMain(e){return e instanceof t||(e=new t(e,this.options)),ac(this.major,e.major)||ac(this.minor,e.minor)||ac(this.patch,e.patch)}comparePre(e){if(e instanceof t||(e=new t(e,this.options)),this.prerelease.length&&!e.prerelease.length)return -1;if(!this.prerelease.length&&e.prerelease.length)return 1;if(!this.prerelease.length&&!e.prerelease.length)return 0;let r=0;do{let n=this.prerelease[r],i=e.prerelease[r];if(pp("prerelease compare",r,n,i),n===void 0&&i===void 0)return 0;if(i===void 0)return 1;if(n===void 0)return -1;if(n===i)continue;return ac(n,i)}while(++r)}compareBuild(e){e instanceof t||(e=new t(e,this.options));let r=0;do{let n=this.build[r],i=e.build[r];if(pp("build compare",r,n,i),n===void 0&&i===void 0)return 0;if(i===void 0)return 1;if(n===void 0)return -1;if(n===i)continue;return ac(n,i)}while(++r)}inc(e,r,n){switch(e){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",r,n);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",r,n);break;case"prepatch":this.prerelease.length=0,this.inc("patch",r,n),this.inc("pre",r,n);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",r,n),this.inc("pre",r,n);break;case"major":(this.minor!==0||this.patch!==0||this.prerelease.length===0)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(this.patch!==0||this.prerelease.length===0)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":{let i=Number(n)?1:0;if(!r&&n===!1)throw new Error("invalid increment argument: identifier is empty");if(this.prerelease.length===0)this.prerelease=[i];else {let o=this.prerelease.length;for(;--o>=0;)typeof this.prerelease[o]=="number"&&(this.prerelease[o]++,o=-2);if(o===-1){if(r===this.prerelease.join(".")&&n===!1)throw new Error("invalid increment argument: identifier already exists");this.prerelease.push(i);}}if(r){let o=[r,i];n===!1&&(o=[r]),ac(this.prerelease[0],r)===0?isNaN(this.prerelease[1])&&(this.prerelease=o):this.prerelease=o;}break}default:throw new Error(`invalid increment argument: ${e}`)}return this.raw=this.format(),this.build.length&&(this.raw+=`+${this.build.join(".")}`),this}};nR.exports=$g;});var ya=ce((wZ,oR)=>{y();p();h();m();var iR=Rr(),UL=(t,e,r=!1)=>{if(t instanceof iR)return t;try{return new iR(t,e)}catch(n){if(!r)return null;throw n}};oR.exports=UL;});var sR=ce((IZ,aR)=>{y();p();h();m();var BL=ya(),DL=(t,e)=>{let r=BL(t,e);return r?r.version:null};aR.exports=DL;});var lR=ce((PZ,cR)=>{y();p();h();m();var LL=ya(),FL=(t,e)=>{let r=LL(t.trim().replace(/^[=v]+/,""),e);return r?r.version:null};cR.exports=FL;});var fR=ce((LZ,dR)=>{y();p();h();m();var uR=Rr(),zL=(t,e,r,n,i)=>{typeof r=="string"&&(i=n,n=r,r=void 0);try{return new uR(t instanceof uR?t.version:t,r).inc(e,n,i).version}catch(o){return null}};dR.exports=zL;});var mR=ce((HZ,hR)=>{y();p();h();m();var pR=ya(),qL=(t,e)=>{let r=pR(t,null,!0),n=pR(e,null,!0),i=r.compare(n);if(i===0)return null;let o=i>0,a=o?r:n,s=o?n:r,u=!!a.prerelease.length;if(!!s.prerelease.length&&!u)return !s.patch&&!s.minor?"major":a.patch?"patch":a.minor?"minor":"major";let f=u?"pre":"";return r.major!==n.major?f+"major":r.minor!==n.minor?f+"minor":r.patch!==n.patch?f+"patch":"prerelease"};hR.exports=qL;});var gR=ce((KZ,yR)=>{y();p();h();m();var jL=Rr(),HL=(t,e)=>new jL(t,e).major;yR.exports=HL;});var ER=ce((XZ,vR)=>{y();p();h();m();var $L=Rr(),VL=(t,e)=>new $L(t,e).minor;vR.exports=VL;});var SR=ce((iQ,CR)=>{y();p();h();m();var GL=Rr(),WL=(t,e)=>new GL(t,e).patch;CR.exports=WL;});var wR=ce((lQ,TR)=>{y();p();h();m();var KL=ya(),YL=(t,e)=>{let r=KL(t,e);return r&&r.prerelease.length?r.prerelease:null};TR.exports=YL;});var mn=ce((hQ,bR)=>{y();p();h();m();var AR=Rr(),JL=(t,e,r)=>new AR(t,r).compare(new AR(e,r));bR.exports=JL;});var _R=ce((EQ,RR)=>{y();p();h();m();var ZL=mn(),QL=(t,e,r)=>ZL(e,t,r);RR.exports=QL;});var NR=ce((AQ,IR)=>{y();p();h();m();var XL=mn(),e2=(t,e)=>XL(t,e,!0);IR.exports=e2;});var mp=ce((NQ,xR)=>{y();p();h();m();var OR=Rr(),t2=(t,e,r)=>{let n=new OR(t,r),i=new OR(e,r);return n.compare(i)||n.compareBuild(i)};xR.exports=t2;});var PR=ce((MQ,kR)=>{y();p();h();m();var r2=mp(),n2=(t,e)=>t.sort((r,n)=>r2(r,n,e));kR.exports=n2;});var UR=ce((FQ,MR)=>{y();p();h();m();var i2=mp(),o2=(t,e)=>t.sort((r,n)=>i2(n,r,e));MR.exports=o2;});var jl=ce(($Q,BR)=>{y();p();h();m();var a2=mn(),s2=(t,e,r)=>a2(t,e,r)>0;BR.exports=s2;});var yp=ce((YQ,DR)=>{y();p();h();m();var c2=mn(),l2=(t,e,r)=>c2(t,e,r)<0;DR.exports=l2;});var Vg=ce((eX,LR)=>{y();p();h();m();var u2=mn(),d2=(t,e,r)=>u2(t,e,r)===0;LR.exports=d2;});var Gg=ce((oX,FR)=>{y();p();h();m();var f2=mn(),p2=(t,e,r)=>f2(t,e,r)!==0;FR.exports=p2;});var gp=ce((uX,zR)=>{y();p();h();m();var h2=mn(),m2=(t,e,r)=>h2(t,e,r)>=0;zR.exports=m2;});var vp=ce((mX,qR)=>{y();p();h();m();var y2=mn(),g2=(t,e,r)=>y2(t,e,r)<=0;qR.exports=g2;});var Wg=ce((CX,jR)=>{y();p();h();m();var v2=Vg(),E2=Gg(),C2=jl(),S2=gp(),T2=yp(),w2=vp(),A2=(t,e,r,n)=>{switch(e){case"===":return typeof t=="object"&&(t=t.version),typeof r=="object"&&(r=r.version),t===r;case"!==":return typeof t=="object"&&(t=t.version),typeof r=="object"&&(r=r.version),t!==r;case"":case"=":case"==":return v2(t,r,n);case"!=":return E2(t,r,n);case">":return C2(t,r,n);case">=":return S2(t,r,n);case"<":return T2(t,r,n);case"<=":return w2(t,r,n);default:throw new TypeError(`Invalid operator: ${e}`)}};jR.exports=A2;});var $R=ce((bX,HR)=>{y();p();h();m();var b2=Rr(),R2=ya(),{safeRe:Ep,t:Cp}=oc(),_2=(t,e)=>{if(t instanceof b2)return t;if(typeof t=="number"&&(t=String(t)),typeof t!="string")return null;e=e||{};let r=null;if(!e.rtl)r=t.match(e.includePrerelease?Ep[Cp.COERCEFULL]:Ep[Cp.COERCE]);else {let u=e.includePrerelease?Ep[Cp.COERCERTLFULL]:Ep[Cp.COERCERTL],d;for(;(d=u.exec(t))&&(!r||r.index+r[0].length!==t.length);)(!r||d.index+d[0].length!==r.index+r[0].length)&&(r=d),u.lastIndex=d.index+d[1].length+d[2].length;u.lastIndex=-1;}if(r===null)return null;let n=r[2],i=r[3]||"0",o=r[4]||"0",a=e.includePrerelease&&r[5]?`-${r[5]}`:"",s=e.includePrerelease&&r[6]?`+${r[6]}`:"";return R2(`${n}.${i}.${o}${a}${s}`,e)};HR.exports=_2;});var GR=ce((OX,VR)=>{y();p();h();m();var Kg=class{constructor(){this.max=1e3,this.map=new Map;}get(e){let r=this.map.get(e);if(r!==void 0)return this.map.delete(e),this.map.set(e,r),r}delete(e){return this.map.delete(e)}set(e,r){if(!this.delete(e)&&r!==void 0){if(this.map.size>=this.max){let i=this.map.keys().next().value;this.delete(i);}this.map.set(e,r);}return this}};VR.exports=Kg;});var yn=ce((UX,JR)=>{y();p();h();m();var I2=/\s+/g,Yg=class t{constructor(e,r){if(r=O2(r),e instanceof t)return e.loose===!!r.loose&&e.includePrerelease===!!r.includePrerelease?e:new t(e.raw,r);if(e instanceof Jg)return this.raw=e.value,this.set=[[e]],this.formatted=void 0,this;if(this.options=r,this.loose=!!r.loose,this.includePrerelease=!!r.includePrerelease,this.raw=e.trim().replace(I2," "),this.set=this.raw.split("||").map(n=>this.parseRange(n.trim())).filter(n=>n.length),!this.set.length)throw new TypeError(`Invalid SemVer Range: ${this.raw}`);if(this.set.length>1){let n=this.set[0];if(this.set=this.set.filter(i=>!KR(i[0])),this.set.length===0)this.set=[n];else if(this.set.length>1){for(let i of this.set)if(i.length===1&&D2(i[0])){this.set=[i];break}}}this.formatted=void 0;}get range(){if(this.formatted===void 0){this.formatted="";for(let e=0;e<this.set.length;e++){e>0&&(this.formatted+="||");let r=this.set[e];for(let n=0;n<r.length;n++)n>0&&(this.formatted+=" "),this.formatted+=r[n].toString().trim();}}return this.formatted}format(){return this.range}toString(){return this.range}parseRange(e){let n=((this.options.includePrerelease&&U2)|(this.options.loose&&B2))+":"+e,i=WR.get(n);if(i)return i;let o=this.options.loose,a=o?qr[Nr.HYPHENRANGELOOSE]:qr[Nr.HYPHENRANGE];e=e.replace(a,W2(this.options.includePrerelease)),xt("hyphen replace",e),e=e.replace(qr[Nr.COMPARATORTRIM],k2),xt("comparator trim",e),e=e.replace(qr[Nr.TILDETRIM],P2),xt("tilde trim",e),e=e.replace(qr[Nr.CARETTRIM],M2),xt("caret trim",e);let s=e.split(" ").map(g=>L2(g,this.options)).join(" ").split(/\s+/).map(g=>G2(g,this.options));o&&(s=s.filter(g=>(xt("loose invalid filter",g,this.options),!!g.match(qr[Nr.COMPARATORLOOSE])))),xt("range list",s);let u=new Map,d=s.map(g=>new Jg(g,this.options));for(let g of d){if(KR(g))return [g];u.set(g.value,g);}u.size>1&&u.has("")&&u.delete("");let f=[...u.values()];return WR.set(n,f),f}intersects(e,r){if(!(e instanceof t))throw new TypeError("a Range is required");return this.set.some(n=>YR(n,r)&&e.set.some(i=>YR(i,r)&&n.every(o=>i.every(a=>o.intersects(a,r)))))}test(e){if(!e)return !1;if(typeof e=="string")try{e=new x2(e,this.options);}catch(r){return !1}for(let r=0;r<this.set.length;r++)if(K2(this.set[r],e,this.options))return !0;return !1}};JR.exports=Yg;var N2=GR(),WR=new N2,O2=fp(),Jg=Hl(),xt=ql(),x2=Rr(),{safeRe:qr,t:Nr,comparatorTrimReplace:k2,tildeTrimReplace:P2,caretTrimReplace:M2}=oc(),{FLAG_INCLUDE_PRERELEASE:U2,FLAG_LOOSE:B2}=zl(),KR=t=>t.value==="<0.0.0-0",D2=t=>t.value==="",YR=(t,e)=>{let r=!0,n=t.slice(),i=n.pop();for(;r&&n.length;)r=n.every(o=>i.intersects(o,e)),i=n.pop();return r},L2=(t,e)=>(xt("comp",t,e),t=q2(t,e),xt("caret",t),t=F2(t,e),xt("tildes",t),t=H2(t,e),xt("xrange",t),t=V2(t,e),xt("stars",t),t),Or=t=>!t||t.toLowerCase()==="x"||t==="*",F2=(t,e)=>t.trim().split(/\s+/).map(r=>z2(r,e)).join(" "),z2=(t,e)=>{let r=e.loose?qr[Nr.TILDELOOSE]:qr[Nr.TILDE];return t.replace(r,(n,i,o,a,s)=>{xt("tilde",t,n,i,o,a,s);let u;return Or(i)?u="":Or(o)?u=`>=${i}.0.0 <${+i+1}.0.0-0`:Or(a)?u=`>=${i}.${o}.0 <${i}.${+o+1}.0-0`:s?(xt("replaceTilde pr",s),u=`>=${i}.${o}.${a}-${s} <${i}.${+o+1}.0-0`):u=`>=${i}.${o}.${a} <${i}.${+o+1}.0-0`,xt("tilde return",u),u})},q2=(t,e)=>t.trim().split(/\s+/).map(r=>j2(r,e)).join(" "),j2=(t,e)=>{xt("caret",t,e);let r=e.loose?qr[Nr.CARETLOOSE]:qr[Nr.CARET],n=e.includePrerelease?"-0":"";return t.replace(r,(i,o,a,s,u)=>{xt("caret",t,i,o,a,s,u);let d;return Or(o)?d="":Or(a)?d=`>=${o}.0.0${n} <${+o+1}.0.0-0`:Or(s)?o==="0"?d=`>=${o}.${a}.0${n} <${o}.${+a+1}.0-0`:d=`>=${o}.${a}.0${n} <${+o+1}.0.0-0`:u?(xt("replaceCaret pr",u),o==="0"?a==="0"?d=`>=${o}.${a}.${s}-${u} <${o}.${a}.${+s+1}-0`:d=`>=${o}.${a}.${s}-${u} <${o}.${+a+1}.0-0`:d=`>=${o}.${a}.${s}-${u} <${+o+1}.0.0-0`):(xt("no pr"),o==="0"?a==="0"?d=`>=${o}.${a}.${s}${n} <${o}.${a}.${+s+1}-0`:d=`>=${o}.${a}.${s}${n} <${o}.${+a+1}.0-0`:d=`>=${o}.${a}.${s} <${+o+1}.0.0-0`),xt("caret return",d),d})},H2=(t,e)=>(xt("replaceXRanges",t,e),t.split(/\s+/).map(r=>$2(r,e)).join(" ")),$2=(t,e)=>{t=t.trim();let r=e.loose?qr[Nr.XRANGELOOSE]:qr[Nr.XRANGE];return t.replace(r,(n,i,o,a,s,u)=>{xt("xRange",t,n,i,o,a,s,u);let d=Or(o),f=d||Or(a),g=f||Or(s),C=g;return i==="="&&C&&(i=""),u=e.includePrerelease?"-0":"",d?i===">"||i==="<"?n="<0.0.0-0":n="*":i&&C?(f&&(a=0),s=0,i===">"?(i=">=",f?(o=+o+1,a=0,s=0):(a=+a+1,s=0)):i==="<="&&(i="<",f?o=+o+1:a=+a+1),i==="<"&&(u="-0"),n=`${i+o}.${a}.${s}${u}`):f?n=`>=${o}.0.0${u} <${+o+1}.0.0-0`:g&&(n=`>=${o}.${a}.0${u} <${o}.${+a+1}.0-0`),xt("xRange return",n),n})},V2=(t,e)=>(xt("replaceStars",t,e),t.trim().replace(qr[Nr.STAR],"")),G2=(t,e)=>(xt("replaceGTE0",t,e),t.trim().replace(qr[e.includePrerelease?Nr.GTE0PRE:Nr.GTE0],"")),W2=t=>(e,r,n,i,o,a,s,u,d,f,g,C)=>(Or(n)?r="":Or(i)?r=`>=${n}.0.0${t?"-0":""}`:Or(o)?r=`>=${n}.${i}.0${t?"-0":""}`:a?r=`>=${r}`:r=`>=${r}${t?"-0":""}`,Or(d)?u="":Or(f)?u=`<${+d+1}.0.0-0`:Or(g)?u=`<${d}.${+f+1}.0-0`:C?u=`<=${d}.${f}.${g}-${C}`:t?u=`<${d}.${f}.${+g+1}-0`:u=`<=${u}`,`${r} ${u}`.trim()),K2=(t,e,r)=>{for(let n=0;n<t.length;n++)if(!t[n].test(e))return !1;if(e.prerelease.length&&!r.includePrerelease){for(let n=0;n<t.length;n++)if(xt(t[n].semver),t[n].semver!==Jg.ANY&&t[n].semver.prerelease.length>0){let i=t[n].semver;if(i.major===e.major&&i.minor===e.minor&&i.patch===e.patch)return !0}return !1}return !0};});var Hl=ce((zX,r_)=>{y();p();h();m();var $l=Symbol("SemVer ANY"),Xg=class t{static get ANY(){return $l}constructor(e,r){if(r=ZR(r),e instanceof t){if(e.loose===!!r.loose)return e;e=e.value;}e=e.trim().split(/\s+/).join(" "),Qg("comparator",e,r),this.options=r,this.loose=!!r.loose,this.parse(e),this.semver===$l?this.value="":this.value=this.operator+this.semver.version,Qg("comp",this);}parse(e){let r=this.options.loose?QR[XR.COMPARATORLOOSE]:QR[XR.COMPARATOR],n=e.match(r);if(!n)throw new TypeError(`Invalid comparator: ${e}`);this.operator=n[1]!==void 0?n[1]:"",this.operator==="="&&(this.operator=""),n[2]?this.semver=new e_(n[2],this.options.loose):this.semver=$l;}toString(){return this.value}test(e){if(Qg("Comparator.test",e,this.options.loose),this.semver===$l||e===$l)return !0;if(typeof e=="string")try{e=new e_(e,this.options);}catch(r){return !1}return Zg(e,this.operator,this.semver,this.options)}intersects(e,r){if(!(e instanceof t))throw new TypeError("a Comparator is required");return this.operator===""?this.value===""?!0:new t_(e.value,r).test(this.value):e.operator===""?e.value===""?!0:new t_(this.value,r).test(e.semver):(r=ZR(r),r.includePrerelease&&(this.value==="<0.0.0-0"||e.value==="<0.0.0-0")||!r.includePrerelease&&(this.value.startsWith("<0.0.0")||e.value.startsWith("<0.0.0"))?!1:!!(this.operator.startsWith(">")&&e.operator.startsWith(">")||this.operator.startsWith("<")&&e.operator.startsWith("<")||this.semver.version===e.semver.version&&this.operator.includes("=")&&e.operator.includes("=")||Zg(this.semver,"<",e.semver,r)&&this.operator.startsWith(">")&&e.operator.startsWith("<")||Zg(this.semver,">",e.semver,r)&&this.operator.startsWith("<")&&e.operator.startsWith(">")))}};r_.exports=Xg;var ZR=fp(),{safeRe:QR,t:XR}=oc(),Zg=Wg(),Qg=ql(),e_=Rr(),t_=yn();});var Vl=ce((VX,n_)=>{y();p();h();m();var Y2=yn(),J2=(t,e,r)=>{try{e=new Y2(e,r);}catch(n){return !1}return e.test(t)};n_.exports=J2;});var o_=ce((JX,i_)=>{y();p();h();m();var Z2=yn(),Q2=(t,e)=>new Z2(t,e).set.map(r=>r.map(n=>n.value).join(" ").trim().split(" "));i_.exports=Q2;});var s_=ce((tee,a_)=>{y();p();h();m();var X2=Rr(),eF=yn(),tF=(t,e,r)=>{let n=null,i=null,o=null;try{o=new eF(e,r);}catch(a){return null}return t.forEach(a=>{o.test(a)&&(!n||i.compare(a)===-1)&&(n=a,i=new X2(n,r));}),n};a_.exports=tF;});var l_=ce((aee,c_)=>{y();p();h();m();var rF=Rr(),nF=yn(),iF=(t,e,r)=>{let n=null,i=null,o=null;try{o=new nF(e,r);}catch(a){return null}return t.forEach(a=>{o.test(a)&&(!n||i.compare(a)===1)&&(n=a,i=new rF(n,r));}),n};c_.exports=iF;});var f_=ce((dee,d_)=>{y();p();h();m();var ev=Rr(),oF=yn(),u_=jl(),aF=(t,e)=>{t=new oF(t,e);let r=new ev("0.0.0");if(t.test(r)||(r=new ev("0.0.0-0"),t.test(r)))return r;r=null;for(let n=0;n<t.set.length;++n){let i=t.set[n],o=null;i.forEach(a=>{let s=new ev(a.semver.version);switch(a.operator){case">":s.prerelease.length===0?s.patch++:s.prerelease.push(0),s.raw=s.format();case"":case">=":(!o||u_(s,o))&&(o=s);break;case"<":case"<=":break;default:throw new Error(`Unexpected operation: ${a.operator}`)}}),o&&(!r||u_(r,o))&&(r=o);}return r&&t.test(r)?r:null};d_.exports=aF;});var h_=ce((yee,p_)=>{y();p();h();m();var sF=yn(),cF=(t,e)=>{try{return new sF(t,e).range||"*"}catch(r){return null}};p_.exports=cF;});var Sp=ce((See,v_)=>{y();p();h();m();var lF=Rr(),g_=Hl(),{ANY:uF}=g_,dF=yn(),fF=Vl(),m_=jl(),y_=yp(),pF=vp(),hF=gp(),mF=(t,e,r,n)=>{t=new lF(t,n),e=new dF(e,n);let i,o,a,s,u;switch(r){case">":i=m_,o=pF,a=y_,s=">",u=">=";break;case"<":i=y_,o=hF,a=m_,s="<",u="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(fF(t,e,n))return !1;for(let d=0;d<e.set.length;++d){let f=e.set[d],g=null,C=null;if(f.forEach(S=>{S.semver===uF&&(S=new g_(">=0.0.0")),g=g||S,C=C||S,i(S.semver,g.semver,n)?g=S:a(S.semver,C.semver,n)&&(C=S);}),g.operator===s||g.operator===u||(!C.operator||C.operator===s)&&o(t,C.semver))return !1;if(C.operator===u&&a(t,C.semver))return !1}return !0};v_.exports=mF;});var C_=ce((Ree,E_)=>{y();p();h();m();var yF=Sp(),gF=(t,e,r)=>yF(t,e,">",r);E_.exports=gF;});var T_=ce((xee,S_)=>{y();p();h();m();var vF=Sp(),EF=(t,e,r)=>vF(t,e,"<",r);S_.exports=EF;});var b_=ce((Bee,A_)=>{y();p();h();m();var w_=yn(),CF=(t,e,r)=>(t=new w_(t,r),e=new w_(e,r),t.intersects(e,r));A_.exports=CF;});var __=ce((qee,R_)=>{y();p();h();m();var SF=Vl(),TF=mn();R_.exports=(t,e,r)=>{let n=[],i=null,o=null,a=t.sort((f,g)=>TF(f,g,r));for(let f of a)SF(f,e,r)?(o=f,i||(i=f)):(o&&n.push([i,o]),o=null,i=null);i&&n.push([i,null]);let s=[];for(let[f,g]of n)f===g?s.push(f):!g&&f===a[0]?s.push("*"):g?f===a[0]?s.push(`<=${g}`):s.push(`${f} - ${g}`):s.push(`>=${f}`);let u=s.join(" || "),d=typeof e.raw=="string"?e.raw:String(e);return u.length<d.length?u:e};});var P_=ce((Gee,k_)=>{y();p();h();m();var I_=yn(),rv=Hl(),{ANY:tv}=rv,Gl=Vl(),nv=mn(),wF=(t,e,r={})=>{if(t===e)return !0;t=new I_(t,r),e=new I_(e,r);let n=!1;e:for(let i of t.set){for(let o of e.set){let a=bF(i,o,r);if(n=n||a!==null,a)continue e}if(n)return !1}return !0},AF=[new rv(">=0.0.0-0")],N_=[new rv(">=0.0.0")],bF=(t,e,r)=>{if(t===e)return !0;if(t.length===1&&t[0].semver===tv){if(e.length===1&&e[0].semver===tv)return !0;r.includePrerelease?t=AF:t=N_;}if(e.length===1&&e[0].semver===tv){if(r.includePrerelease)return !0;e=N_;}let n=new Set,i,o;for(let S of t)S.operator===">"||S.operator===">="?i=O_(i,S,r):S.operator==="<"||S.operator==="<="?o=x_(o,S,r):n.add(S.semver);if(n.size>1)return null;let a;if(i&&o){if(a=nv(i.semver,o.semver,r),a>0)return null;if(a===0&&(i.operator!==">="||o.operator!=="<="))return null}for(let S of n){if(i&&!Gl(S,String(i),r)||o&&!Gl(S,String(o),r))return null;for(let E of e)if(!Gl(S,String(E),r))return !1;return !0}let s,u,d,f,g=o&&!r.includePrerelease&&o.semver.prerelease.length?o.semver:!1,C=i&&!r.includePrerelease&&i.semver.prerelease.length?i.semver:!1;g&&g.prerelease.length===1&&o.operator==="<"&&g.prerelease[0]===0&&(g=!1);for(let S of e){if(f=f||S.operator===">"||S.operator===">=",d=d||S.operator==="<"||S.operator==="<=",i){if(C&&S.semver.prerelease&&S.semver.prerelease.length&&S.semver.major===C.major&&S.semver.minor===C.minor&&S.semver.patch===C.patch&&(C=!1),S.operator===">"||S.operator===">="){if(s=O_(i,S,r),s===S&&s!==i)return !1}else if(i.operator===">="&&!Gl(i.semver,String(S),r))return !1}if(o){if(g&&S.semver.prerelease&&S.semver.prerelease.length&&S.semver.major===g.major&&S.semver.minor===g.minor&&S.semver.patch===g.patch&&(g=!1),S.operator==="<"||S.operator==="<="){if(u=x_(o,S,r),u===S&&u!==o)return !1}else if(o.operator==="<="&&!Gl(o.semver,String(S),r))return !1}if(!S.operator&&(o||i)&&a!==0)return !1}return !(i&&d&&!o&&a!==0||o&&f&&!i&&a!==0||C||g)},O_=(t,e,r)=>{if(!t)return e;let n=nv(t.semver,e.semver,r);return n>0?t:n<0||e.operator===">"&&t.operator===">="?e:t},x_=(t,e,r)=>{if(!t)return e;let n=nv(t.semver,e.semver,r);return n<0?t:n>0||e.operator==="<"&&t.operator==="<="?e:t};k_.exports=wF;});var Tp=ce((Zee,B_)=>{y();p();h();m();var iv=oc(),M_=zl(),RF=Rr(),U_=Hg(),_F=ya(),IF=sR(),NF=lR(),OF=fR(),xF=mR(),kF=gR(),PF=ER(),MF=SR(),UF=wR(),BF=mn(),DF=_R(),LF=NR(),FF=mp(),zF=PR(),qF=UR(),jF=jl(),HF=yp(),$F=Vg(),VF=Gg(),GF=gp(),WF=vp(),KF=Wg(),YF=$R(),JF=Hl(),ZF=yn(),QF=Vl(),XF=o_(),ez=s_(),tz=l_(),rz=f_(),nz=h_(),iz=Sp(),oz=C_(),az=T_(),sz=b_(),cz=__(),lz=P_();B_.exports={parse:_F,valid:IF,clean:NF,inc:OF,diff:xF,major:kF,minor:PF,patch:MF,prerelease:UF,compare:BF,rcompare:DF,compareLoose:LF,compareBuild:FF,sort:zF,rsort:qF,gt:jF,lt:HF,eq:$F,neq:VF,gte:GF,lte:WF,cmp:KF,coerce:YF,Comparator:JF,Range:ZF,satisfies:QF,toComparators:XF,maxSatisfying:ez,minSatisfying:tz,minVersion:rz,validRange:nz,outside:iz,gtr:oz,ltr:az,intersects:sz,simplifyRange:cz,subset:lz,SemVer:RF,re:iv.re,src:iv.src,tokens:iv.t,SEMVER_SPEC_VERSION:M_.SEMVER_SPEC_VERSION,RELEASE_TYPES:M_.RELEASE_TYPES,compareIdentifiers:U_.compareIdentifiers,rcompareIdentifiers:U_.rcompareIdentifiers};});var L_=ce((rte,D_)=>{y();p();h();m();var uz=Tp();D_.exports=uz.satisfies(A.version,">=15.7.0");});var z_=ce((ste,F_)=>{y();p();h();m();var dz=Tp();F_.exports=dz.satisfies(A.version,">=16.9.0");});var ov=ce((fte,q_)=>{y();p();h();m();var fz=L_(),pz=z_(),hz={ec:["ES256","ES384","ES512"],rsa:["RS256","PS256","RS384","PS384","RS512","PS512"],"rsa-pss":["PS256","PS384","PS512"]},mz={ES256:"prime256v1",ES384:"secp384r1",ES512:"secp521r1"};q_.exports=function(t,e){if(!t||!e)return;let r=e.asymmetricKeyType;if(!r)return;let n=hz[r];if(!n)throw new Error(`Unknown key type "${r}".`);if(!n.includes(t))throw new Error(`"alg" parameter for "${r}" key type must be one of: ${n.join(", ")}.`);if(fz)switch(r){case"ec":let i=e.asymmetricKeyDetails.namedCurve,o=mz[t];if(i!==o)throw new Error(`"alg" parameter "${t}" requires curve "${o}".`);break;case"rsa-pss":if(pz){let a=parseInt(t.slice(-3),10),{hashAlgorithm:s,mgf1HashAlgorithm:u,saltLength:d}=e.asymmetricKeyDetails;if(s!==`sha${a}`||u!==s)throw new Error(`Invalid key for this operation, its RSA-PSS parameters do not meet the requirements of "alg" ${t}.`);if(d!==void 0&&d>a>>3)throw new Error(`Invalid key for this operation, its RSA-PSS parameter saltLength does not meet the requirements of "alg" ${t}.`)}break}};});var av=ce((gte,j_)=>{y();p();h();m();var yz=Tp();j_.exports=yz.satisfies(A.version,"^6.12.0 || >=8.0.0");});var V_=ce((Tte,$_)=>{y();p();h();m();var Ot=Fl(),gz=Lg(),H_=Fg(),vz=Dg(),Ez=zg(),Cz=ov(),Sz=av(),Tz=sp(),{KeyObject:wz,createSecretKey:Az,createPublicKey:bz}=(Qs(),ar(tp)),sv=["RS256","RS384","RS512"],Rz=["ES256","ES384","ES512"],cv=["RS256","RS384","RS512"],_z=["HS256","HS384","HS512"];Sz&&(sv.splice(sv.length,0,"PS256","PS384","PS512"),cv.splice(cv.length,0,"PS256","PS384","PS512"));$_.exports=function(t,e,r,n){typeof r=="function"&&!n&&(n=r,r={}),r||(r={}),r=Object.assign({},r);let i;if(n?i=n:i=function(f,g){if(f)throw f;return g},r.clockTimestamp&&typeof r.clockTimestamp!="number")return i(new Ot("clockTimestamp must be a number"));if(r.nonce!==void 0&&(typeof r.nonce!="string"||r.nonce.trim()===""))return i(new Ot("nonce must be a non-empty string"));if(r.allowInvalidAsymmetricKeyTypes!==void 0&&typeof r.allowInvalidAsymmetricKeyTypes!="boolean")return i(new Ot("allowInvalidAsymmetricKeyTypes must be a boolean"));let o=r.clockTimestamp||Math.floor(Date.now()/1e3);if(!t)return i(new Ot("jwt must be provided"));if(typeof t!="string")return i(new Ot("jwt must be a string"));let a=t.split(".");if(a.length!==3)return i(new Ot("jwt malformed"));let s;try{s=vz(t,{complete:!0});}catch(f){return i(f)}if(!s)return i(new Ot("invalid token"));let u=s.header,d;if(typeof e=="function"){if(!n)return i(new Ot("verify must be called asynchronous if secret or public key is provided as a callback"));d=e;}else d=function(f,g){return g(null,e)};return d(u,function(f,g){if(f)return i(new Ot("error in secret or public key callback: "+f.message));let C=a[2].trim()!=="";if(!C&&g)return i(new Ot("jwt signature is required"));if(C&&!g)return i(new Ot("secret or public key must be provided"));if(!C&&!r.algorithms)return i(new Ot('please specify "none" in "algorithms" to verify unsigned tokens'));if(g!=null&&!(g instanceof wz))try{g=bz(g);}catch(T){try{g=Az(typeof g=="string"?R.Buffer.from(g):g);}catch(_){return i(new Ot("secretOrPublicKey is not valid key material"))}}if(r.algorithms||(g.type==="secret"?r.algorithms=_z:["rsa","rsa-pss"].includes(g.asymmetricKeyType)?r.algorithms=cv:g.asymmetricKeyType==="ec"?r.algorithms=Rz:r.algorithms=sv),r.algorithms.indexOf(s.header.alg)===-1)return i(new Ot("invalid algorithm"));if(u.alg.startsWith("HS")&&g.type!=="secret")return i(new Ot(`secretOrPublicKey must be a symmetric key when using ${u.alg}`));if(/^(?:RS|PS|ES)/.test(u.alg)&&g.type!=="public")return i(new Ot(`secretOrPublicKey must be an asymmetric key when using ${u.alg}`));if(!r.allowInvalidAsymmetricKeyTypes)try{Cz(u.alg,g);}catch(T){return i(T)}let S;try{S=Tz.verify(t,s.header.alg,g);}catch(T){return i(T)}if(!S)return i(new Ot("invalid signature"));let E=s.payload;if(typeof E.nbf!="undefined"&&!r.ignoreNotBefore){if(typeof E.nbf!="number")return i(new Ot("invalid nbf value"));if(E.nbf>o+(r.clockTolerance||0))return i(new gz("jwt not active",new Date(E.nbf*1e3)))}if(typeof E.exp!="undefined"&&!r.ignoreExpiration){if(typeof E.exp!="number")return i(new Ot("invalid exp value"));if(o>=E.exp+(r.clockTolerance||0))return i(new H_("jwt expired",new Date(E.exp*1e3)))}if(r.audience){let T=Array.isArray(r.audience)?r.audience:[r.audience];if(!(Array.isArray(E.aud)?E.aud:[E.aud]).some(function(M){return T.some(function(D){return D instanceof RegExp?D.test(M):D===M})}))return i(new Ot("jwt audience invalid. expected: "+T.join(" or ")))}if(r.issuer&&(typeof r.issuer=="string"&&E.iss!==r.issuer||Array.isArray(r.issuer)&&r.issuer.indexOf(E.iss)===-1))return i(new Ot("jwt issuer invalid. expected: "+r.issuer));if(r.subject&&E.sub!==r.subject)return i(new Ot("jwt subject invalid. expected: "+r.subject));if(r.jwtid&&E.jti!==r.jwtid)return i(new Ot("jwt jwtid invalid. expected: "+r.jwtid));if(r.nonce&&E.nonce!==r.nonce)return i(new Ot("jwt nonce invalid. expected: "+r.nonce));if(r.maxAge){if(typeof E.iat!="number")return i(new Ot("iat required when maxAge is specified"));let T=Ez(r.maxAge,E.iat);if(typeof T=="undefined")return i(new Ot('"maxAge" should be a number of seconds or string representing a timespan eg: "1d", "20h", 60'));if(o>=T+(r.clockTolerance||0))return i(new H_("maxAge exceeded",new Date(T*1e3)))}if(r.complete===!0){let T=s.signature;return i(null,{header:u,payload:E,signature:T})}return i(null,E)})};});var Z_=ce((_te,J_)=>{y();p();h();m();var G_=1/0,K_=9007199254740991,Iz=17976931348623157e292,W_=NaN,Nz="[object Arguments]",Oz="[object Function]",xz="[object GeneratorFunction]",kz="[object String]",Pz="[object Symbol]",Mz=/^\s+|\s+$/g,Uz=/^[-+]0x[0-9a-f]+$/i,Bz=/^0b[01]+$/i,Dz=/^0o[0-7]+$/i,Lz=/^(?:0|[1-9]\d*)$/,Fz=parseInt;function zz(t,e){for(var r=-1,n=t?t.length:0,i=Array(n);++r<n;)i[r]=e(t[r],r,t);return i}function qz(t,e,r,n){for(var i=t.length,o=r+(-1);++o<i;)if(e(t[o],o,t))return o;return -1}function jz(t,e,r){if(e!==e)return qz(t,Hz,r);for(var n=r-1,i=t.length;++n<i;)if(t[n]===e)return n;return -1}function Hz(t){return t!==t}function $z(t,e){for(var r=-1,n=Array(t);++r<t;)n[r]=e(r);return n}function Vz(t,e){return zz(e,function(r){return t[r]})}function Gz(t,e){return function(r){return t(e(r))}}var wp=Object.prototype,uv=wp.hasOwnProperty,Ap=wp.toString,Wz=wp.propertyIsEnumerable,Kz=Gz(Object.keys,Object),Yz=Math.max;function Jz(t,e){var r=Y_(t)||tq(t)?$z(t.length,String):[],n=r.length,i=!!n;for(var o in t)(uv.call(t,o))&&!(i&&(o=="length"||Qz(o,n)))&&r.push(o);return r}function Zz(t){if(!Xz(t))return Kz(t);var e=[];for(var r in Object(t))uv.call(t,r)&&r!="constructor"&&e.push(r);return e}function Qz(t,e){return e=e==null?K_:e,!!e&&(typeof t=="number"||Lz.test(t))&&t>-1&&t%1==0&&t<e}function Xz(t){var e=t&&t.constructor,r=typeof e=="function"&&e.prototype||wp;return t===r}function eq(t,e,r,n){t=dv(t)?t:dq(t),r=r&&!n?cq(r):0;var i=t.length;return r<0&&(r=Yz(i+r,0)),oq(t)?r<=i&&t.indexOf(e,r)>-1:!!i&&jz(t,e,r)>-1}function tq(t){return rq(t)&&uv.call(t,"callee")&&(!Wz.call(t,"callee")||Ap.call(t)==Nz)}var Y_=Array.isArray;function dv(t){return t!=null&&iq(t.length)&&!nq(t)}function rq(t){return fv(t)&&dv(t)}function nq(t){var e=lv(t)?Ap.call(t):"";return e==Oz||e==xz}function iq(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=K_}function lv(t){var e=typeof t;return !!t&&(e=="object"||e=="function")}function fv(t){return !!t&&typeof t=="object"}function oq(t){return typeof t=="string"||!Y_(t)&&fv(t)&&Ap.call(t)==kz}function aq(t){return typeof t=="symbol"||fv(t)&&Ap.call(t)==Pz}function sq(t){if(!t)return t===0?t:0;if(t=lq(t),t===G_||t===-G_){var e=t<0?-1:1;return e*Iz}return t===t?t:0}function cq(t){var e=sq(t),r=e%1;return e===e?r?e-r:e:0}function lq(t){if(typeof t=="number")return t;if(aq(t))return W_;if(lv(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=lv(e)?e+"":e;}if(typeof t!="string")return t===0?t:+t;t=t.replace(Mz,"");var r=Bz.test(t);return r||Dz.test(t)?Fz(t.slice(2),r?2:8):Uz.test(t)?W_:+t}function uq(t){return dv(t)?Jz(t):Zz(t)}function dq(t){return t?Vz(t,uq(t)):[]}J_.exports=eq;});var X_=ce((kte,Q_)=>{y();p();h();m();var fq="[object Boolean]",pq=Object.prototype,hq=pq.toString;function mq(t){return t===!0||t===!1||yq(t)&&hq.call(t)==fq}function yq(t){return !!t&&typeof t=="object"}Q_.exports=mq;});var iI=ce((Dte,nI)=>{y();p();h();m();var eI=1/0,gq=17976931348623157e292,tI=NaN,vq="[object Symbol]",Eq=/^\s+|\s+$/g,Cq=/^[-+]0x[0-9a-f]+$/i,Sq=/^0b[01]+$/i,Tq=/^0o[0-7]+$/i,wq=parseInt,Aq=Object.prototype,bq=Aq.toString;function Rq(t){return typeof t=="number"&&t==Oq(t)}function rI(t){var e=typeof t;return !!t&&(e=="object"||e=="function")}function _q(t){return !!t&&typeof t=="object"}function Iq(t){return typeof t=="symbol"||_q(t)&&bq.call(t)==vq}function Nq(t){if(!t)return t===0?t:0;if(t=xq(t),t===eI||t===-eI){var e=t<0?-1:1;return e*gq}return t===t?t:0}function Oq(t){var e=Nq(t),r=e%1;return e===e?r?e-r:e:0}function xq(t){if(typeof t=="number")return t;if(Iq(t))return tI;if(rI(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=rI(e)?e+"":e;}if(typeof t!="string")return t===0?t:+t;t=t.replace(Eq,"");var r=Sq.test(t);return r||Tq.test(t)?wq(t.slice(2),r?2:8):Cq.test(t)?tI:+t}nI.exports=Rq;});var aI=ce((jte,oI)=>{y();p();h();m();var kq="[object Number]",Pq=Object.prototype,Mq=Pq.toString;function Uq(t){return !!t&&typeof t=="object"}function Bq(t){return typeof t=="number"||Uq(t)&&Mq.call(t)==kq}oI.exports=Bq;});var uI=ce((Wte,lI)=>{y();p();h();m();var Dq="[object Object]";function Lq(t){var e=!1;if(t!=null&&typeof t.toString!="function")try{e=!!(t+"");}catch(r){}return e}function Fq(t,e){return function(r){return t(e(r))}}var zq=Function.prototype,sI=Object.prototype,cI=zq.toString,qq=sI.hasOwnProperty,jq=cI.call(Object),Hq=sI.toString,$q=Fq(Object.getPrototypeOf,Object);function Vq(t){return !!t&&typeof t=="object"}function Gq(t){if(!Vq(t)||Hq.call(t)!=Dq||Lq(t))return !1;var e=$q(t);if(e===null)return !0;var r=qq.call(e,"constructor")&&e.constructor;return typeof r=="function"&&r instanceof r&&cI.call(r)==jq}lI.exports=Gq;});var fI=ce((Qte,dI)=>{y();p();h();m();var Wq="[object String]",Kq=Object.prototype,Yq=Kq.toString,Jq=Array.isArray;function Zq(t){return !!t&&typeof t=="object"}function Qq(t){return typeof t=="string"||!Jq(t)&&Zq(t)&&Yq.call(t)==Wq}dI.exports=Qq;});var gI=ce((nre,yI)=>{y();p();h();m();var Xq="Expected a function",pI=1/0,ej=17976931348623157e292,hI=NaN,tj="[object Symbol]",rj=/^\s+|\s+$/g,nj=/^[-+]0x[0-9a-f]+$/i,ij=/^0b[01]+$/i,oj=/^0o[0-7]+$/i,aj=parseInt,sj=Object.prototype,cj=sj.toString;function lj(t,e){var r;if(typeof e!="function")throw new TypeError(Xq);return t=hj(t),function(){return --t>0&&(r=e.apply(this,arguments)),t<=1&&(e=void 0),r}}function uj(t){return lj(2,t)}function mI(t){var e=typeof t;return !!t&&(e=="object"||e=="function")}function dj(t){return !!t&&typeof t=="object"}function fj(t){return typeof t=="symbol"||dj(t)&&cj.call(t)==tj}function pj(t){if(!t)return t===0?t:0;if(t=mj(t),t===pI||t===-pI){var e=t<0?-1:1;return e*ej}return t===t?t:0}function hj(t){var e=pj(t),r=e%1;return e===e?r?e-r:e:0}function mj(t){if(typeof t=="number")return t;if(fj(t))return hI;if(mI(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=mI(e)?e+"":e;}if(typeof t!="string")return t===0?t:+t;t=t.replace(rj,"");var r=ij.test(t);return r||oj.test(t)?aj(t.slice(2),r?2:8):nj.test(t)?hI:+t}yI.exports=uj;});var RI=ce((cre,bI)=>{y();p();h();m();var vI=zg(),yj=av(),gj=ov(),EI=sp(),vj=Z_(),bp=X_(),CI=iI(),pv=aI(),TI=uI(),go=fI(),Ej=gI(),{KeyObject:Cj,createSecretKey:Sj,createPrivateKey:Tj}=(Qs(),ar(tp)),wI=["RS256","RS384","RS512","ES256","ES384","ES512","HS256","HS384","HS512","none"];yj&&wI.splice(3,0,"PS256","PS384","PS512");var wj={expiresIn:{isValid:function(t){return CI(t)||go(t)&&t},message:'"expiresIn" should be a number of seconds or string representing a timespan'},notBefore:{isValid:function(t){return CI(t)||go(t)&&t},message:'"notBefore" should be a number of seconds or string representing a timespan'},audience:{isValid:function(t){return go(t)||Array.isArray(t)},message:'"audience" must be a string or array'},algorithm:{isValid:vj.bind(null,wI),message:'"algorithm" must be a valid string enum value'},header:{isValid:TI,message:'"header" must be an object'},encoding:{isValid:go,message:'"encoding" must be a string'},issuer:{isValid:go,message:'"issuer" must be a string'},subject:{isValid:go,message:'"subject" must be a string'},jwtid:{isValid:go,message:'"jwtid" must be a string'},noTimestamp:{isValid:bp,message:'"noTimestamp" must be a boolean'},keyid:{isValid:go,message:'"keyid" must be a string'},mutatePayload:{isValid:bp,message:'"mutatePayload" must be a boolean'},allowInsecureKeySizes:{isValid:bp,message:'"allowInsecureKeySizes" must be a boolean'},allowInvalidAsymmetricKeyTypes:{isValid:bp,message:'"allowInvalidAsymmetricKeyTypes" must be a boolean'}},Aj={iat:{isValid:pv,message:'"iat" should be a number of seconds'},exp:{isValid:pv,message:'"exp" should be a number of seconds'},nbf:{isValid:pv,message:'"nbf" should be a number of seconds'}};function AI(t,e,r,n){if(!TI(r))throw new Error('Expected "'+n+'" to be a plain object.');Object.keys(r).forEach(function(i){let o=t[i];if(!o){if(!e)throw new Error('"'+i+'" is not allowed in "'+n+'"');return}if(!o.isValid(r[i]))throw new Error(o.message)});}function bj(t){return AI(wj,!1,t,"options")}function Rj(t){return AI(Aj,!0,t,"payload")}var SI={audience:"aud",issuer:"iss",subject:"sub",jwtid:"jti"},_j=["expiresIn","notBefore","noTimestamp","audience","issuer","subject","jwtid"];bI.exports=function(t,e,r,n){typeof r=="function"?(n=r,r={}):r=r||{};let i=typeof t=="object"&&!R.Buffer.isBuffer(t),o=Object.assign({alg:r.algorithm||"HS256",typ:i?"JWT":void 0,kid:r.keyid},r.header);function a(d){if(n)return n(d);throw d}if(!e&&r.algorithm!=="none")return a(new Error("secretOrPrivateKey must have a value"));if(e!=null&&!(e instanceof Cj))try{e=Tj(e);}catch(d){try{e=Sj(typeof e=="string"?R.Buffer.from(e):e);}catch(f){return a(new Error("secretOrPrivateKey is not valid key material"))}}if(o.alg.startsWith("HS")&&e.type!=="secret")return a(new Error(`secretOrPrivateKey must be a symmetric key when using ${o.alg}`));if(/^(?:RS|PS|ES)/.test(o.alg)){if(e.type!=="private")return a(new Error(`secretOrPrivateKey must be an asymmetric key when using ${o.alg}`));if(!r.allowInsecureKeySizes&&!o.alg.startsWith("ES")&&e.asymmetricKeyDetails!==void 0&&e.asymmetricKeyDetails.modulusLength<2048)return a(new Error(`secretOrPrivateKey has a minimum key size of 2048 bits for ${o.alg}`))}if(typeof t=="undefined")return a(new Error("payload is required"));if(i){try{Rj(t);}catch(d){return a(d)}r.mutatePayload||(t=Object.assign({},t));}else {let d=_j.filter(function(f){return typeof r[f]!="undefined"});if(d.length>0)return a(new Error("invalid "+d.join(",")+" option for "+typeof t+" payload"))}if(typeof t.exp!="undefined"&&typeof r.expiresIn!="undefined")return a(new Error('Bad "options.expiresIn" option the payload already has an "exp" property.'));if(typeof t.nbf!="undefined"&&typeof r.notBefore!="undefined")return a(new Error('Bad "options.notBefore" option the payload already has an "nbf" property.'));try{bj(r);}catch(d){return a(d)}if(!r.allowInvalidAsymmetricKeyTypes)try{gj(o.alg,e);}catch(d){return a(d)}let s=t.iat||Math.floor(Date.now()/1e3);if(r.noTimestamp?delete t.iat:i&&(t.iat=s),typeof r.notBefore!="undefined"){try{t.nbf=vI(r.notBefore,s);}catch(d){return a(d)}if(typeof t.nbf=="undefined")return a(new Error('"notBefore" should be a number of seconds or string representing a timespan eg: "1d", "20h", 60'))}if(typeof r.expiresIn!="undefined"&&typeof t=="object"){try{t.exp=vI(r.expiresIn,s);}catch(d){return a(d)}if(typeof t.exp=="undefined")return a(new Error('"expiresIn" should be a number of seconds or string representing a timespan eg: "1d", "20h", 60'))}Object.keys(SI).forEach(function(d){let f=SI[d];if(typeof r[d]!="undefined"){if(typeof t[f]!="undefined")return a(new Error('Bad "options.'+d+'" option. The payload already has an "'+f+'" property.'));t[f]=r[d];}});let u=r.encoding||"utf8";if(typeof n=="function")n=n&&Ej(n),EI.createSign({header:o,privateKey:e,payload:t,encoding:u}).once("error",n).once("done",function(d){if(!r.allowInsecureKeySizes&&/^(?:RS|PS)/.test(o.alg)&&d.length<256)return n(new Error(`secretOrPrivateKey has a minimum key size of 2048 bits for ${o.alg}`));n(null,d);});else {let d=EI.sign({header:o,payload:t,secret:e,encoding:u});if(!r.allowInsecureKeySizes&&/^(?:RS|PS)/.test(o.alg)&&d.length<256)throw new Error(`secretOrPrivateKey has a minimum key size of 2048 bits for ${o.alg}`);return d}};});var Wl=ce((pre,_I)=>{y();p();h();m();_I.exports={decode:Dg(),verify:V_(),sign:RI(),JsonWebTokenError:Fl(),NotBeforeError:Lg(),TokenExpiredError:Fg()};});var OI=ce((Ore,NI)=>{y();p();h();m();NI.exports=Nj;function Nj(t,e){var r=R.Buffer.from(t,"base64"),n=R.Buffer.from(e,"base64"),i=r.toString("hex"),o=n.toString("hex");i=II(i),o=II(o);var a=i.length/2,s=o.length/2,u=mv(a),d=mv(s),f="30"+mv(a+s+u.length/2+d.length/2+2)+"02"+u+i+"02"+d+o,g=R.Buffer.from(f,"hex").toString("base64"),C=`-----BEGIN RSA PUBLIC KEY-----
`+g.match(/.{1,64}/g).join(`
`)+`
-----END RSA PUBLIC KEY-----
`;return C}function II(t){var e=t[0];return e<"0"||e>"7"?"00"+t:t}function hv(t){var e=t.toString(16);return e.length%2?"0"+e:e}function mv(t){if(t<=127)return hv(t);var e=hv(t),r=128+e.length/2;return hv(r)+e}});var xI=ce(yv=>{y();p();h();m();Object.defineProperty(yv,"__esModule",{value:!0});function Oj(t){var e=4,r=t.length,n=r%e;if(!n)return t;var i=r,o=e-n,a=r+o,s=R.Buffer.alloc(a);for(s.write(t);o--;)s.write("=",i++);return s.toString()}yv.default=Oj;});var PI=ce(Ev=>{y();p();h();m();Object.defineProperty(Ev,"__esModule",{value:!0});var xj=xI();function kI(t,e){return e===void 0&&(e="utf8"),R.Buffer.isBuffer(t)?gv(t.toString("base64")):gv(R.Buffer.from(t,e).toString("base64"))}function kj(t,e){return e===void 0&&(e="utf8"),R.Buffer.from(vv(t),"base64").toString(e)}function vv(t){return t=t.toString(),xj.default(t).replace(/\-/g,"+").replace(/_/g,"/")}function gv(t){return t.replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Pj(t){return R.Buffer.from(vv(t),"base64")}var sc=kI;sc.encode=kI;sc.decode=kj;sc.toBase64=vv;sc.fromBase64=gv;sc.toBuffer=Pj;Ev.default=sc;});var MI=ce((Vre,Rp)=>{y();p();h();m();Rp.exports=PI().default;Rp.exports.default=Rp.exports;});var BI=ce((cc,UI)=>{y();p();h();m();var Mj=function(){if(typeof self!="undefined")return self;if(typeof window!="undefined")return window;if(typeof globalThis!="undefined")return globalThis;throw new Error("unable to locate global object")},ga=Mj();UI.exports=cc=ga.fetch;ga.fetch&&(cc.default=ga.fetch.bind(ga));cc.Headers=ga.Headers;cc.Request=ga.Request;cc.Response=ga.Response;});var DI={};Ut(DI,{Server:()=>Jr,Socket:()=>Jr,Stream:()=>Jr,_createServerHandle:()=>Jr,_normalizeArgs:()=>Jr,_setSimultaneousAccepts:()=>Jr,connect:()=>Jr,createConnection:()=>Jr,createServer:()=>Jr,default:()=>Uj,isIP:()=>Jr,isIPv4:()=>Jr,isIPv6:()=>Jr});function Jr(){throw new Error("Node.js net module is not supported by JSPM core outside of Node.js")}var Uj,LI=Qt(()=>{y();p();h();m();Uj={_createServerHandle:Jr,_normalizeArgs:Jr,_setSimultaneousAccepts:Jr,connect:Jr,createConnection:Jr,createServer:Jr,isIP:Jr,isIPv4:Jr,isIPv6:Jr,Server:Jr,Socket:Jr,Stream:Jr};});var FI={};Ut(FI,{CLIENT_RENEG_LIMIT:()=>Dj,CLIENT_RENEG_WINDOW:()=>Lj,DEFAULT_CIPHERS:()=>Fj,DEFAULT_ECDH_CURVE:()=>zj,DEFAULT_MAX_VERSION:()=>jj,DEFAULT_MIN_VERSION:()=>qj,SecureContext:()=>gn,Server:()=>gn,TLSSocket:()=>gn,checkServerIdentity:()=>gn,connect:()=>gn,convertALPNProtocols:()=>gn,createSecureContext:()=>gn,createSecurePair:()=>gn,createServer:()=>gn,default:()=>Bj,getCiphers:()=>gn,parseCertString:()=>gn,rootCertificates:()=>Hj});function gn(){throw new Error("Node.js tls module is not supported by JSPM core outside of Node.js")}var Bj,Dj,Lj,Fj,zj,qj,jj,Hj,zI=Qt(()=>{y();p();h();m();Bj={CLIENT_RENEG_LIMIT:null,CLIENT_RENEG_WINDOW:null,DEFAULT_CIPHERS:null,DEFAULT_ECDH_CURVE:null,DEFAULT_MIN_VERSION:null,DEFAULT_MAX_VERSION:null,getCiphers:gn,rootCertificates:null,convertALPNProtocols:gn,checkServerIdentity:gn,parseCertString:gn,createSecureContext:gn,SecureContext:gn,TLSSocket:gn,Server:gn,createServer:gn,connect:gn,createSecurePair:gn},Dj=null,Lj=null,Fj=null,zj=null,qj=null,jj=null,Hj=null;});var P0={};Ut(P0,{AssertionError:()=>q6,deepEqual:()=>j6,deepStrictEqual:()=>H6,default:()=>je,doesNotReject:()=>$6,doesNotThrow:()=>V6,equal:()=>G6,fail:()=>W6,ifError:()=>K6,notDeepEqual:()=>Y6,notDeepStrictEqual:()=>J6,notEqual:()=>Z6,notStrictEqual:()=>Q6,ok:()=>wt,rejects:()=>X6,strict:()=>eH,strictEqual:()=>tH,throws:()=>rH});function qI(t,e){if(t==null)throw new TypeError("Cannot convert first argument to object");for(var r=Object(t),n=1;n<arguments.length;n++){var i=arguments[n];if(i!=null)for(var o=Object.keys(Object(i)),a=0,s=o.length;a<s;a++){var u=o[a],d=Object.getOwnPropertyDescriptor(i,u);d!==void 0&&d.enumerable&&(r[u]=i[u]);}}return r}function x0(){if(e0)return Rv;function t(d){return (t=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(f){return typeof f}:function(f){return f&&typeof Symbol=="function"&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f})(d)}function e(d,f){return !f||t(f)!=="object"&&typeof f!="function"?function(g){if(g===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return g}(d):f}function r(d){return (r=Object.setPrototypeOf?Object.getPrototypeOf:function(f){return f.__proto__||Object.getPrototypeOf(f)})(d)}function n(d,f){return (n=Object.setPrototypeOf||function(g,C){return g.__proto__=C,g})(d,f)}e0=!0;var i,o,a={};function s(d,f,g){g||(g=Error);var C=function(S){function E(T,_,P){var M;return function(D,V){if(!(D instanceof V))throw new TypeError("Cannot call a class as a function")}(this,E),(M=e(this,r(E).call(this,function(D,V,Y){return typeof f=="string"?f:f(D,V,Y)}(T,_,P)))).code=d,M}return function(T,_){if(typeof _!="function"&&_!==null)throw new TypeError("Super expression must either be null or a function");T.prototype=Object.create(_&&_.prototype,{constructor:{value:T,writable:!0,configurable:!0}}),_&&n(T,_);}(E,S),E}(g);a[d]=C;}function u(d,f){if(Array.isArray(d)){var g=d.length;return d=d.map(function(C){return String(C)}),g>2?"one of ".concat(f," ").concat(d.slice(0,g-1).join(", "),", or ")+d[g-1]:g===2?"one of ".concat(f," ").concat(d[0]," or ").concat(d[1]):"of ".concat(f," ").concat(d[0])}return "of ".concat(f," ").concat(String(d))}return s("ERR_AMBIGUOUS_ARGUMENT",'The "%s" argument is ambiguous. %s',TypeError),s("ERR_INVALID_ARG_TYPE",function(d,f,g){var C,S,E;if(i===void 0&&(i=kv()),i(typeof d=="string","'name' must be a string"),typeof f=="string"&&(S="not ",f.substr(0,S.length)===S)?(C="must not be",f=f.replace(/^not /,"")):C="must be",function(_,P,M){return (M===void 0||M>_.length)&&(M=_.length),_.substring(M-P.length,M)===P}(d," argument"))E="The ".concat(d," ").concat(C," ").concat(u(f,"type"));else {var T=function(_,P,M){return typeof M!="number"&&(M=0),!(M+P.length>_.length)&&_.indexOf(P,M)!==-1}(d,".")?"property":"argument";E='The "'.concat(d,'" ').concat(T," ").concat(C," ").concat(u(f,"type"));}return E+=". Received type ".concat(t(g))},TypeError),s("ERR_INVALID_ARG_VALUE",function(d,f){var g=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"is invalid";o===void 0&&(o=re);var C=o.inspect(f);return C.length>128&&(C="".concat(C.slice(0,128),"...")),"The argument '".concat(d,"' ").concat(g,". Received ").concat(C)},TypeError),s("ERR_INVALID_RETURN_VALUE",function(d,f,g){var C;return C=g&&g.constructor&&g.constructor.name?"instance of ".concat(g.constructor.name):"type ".concat(t(g)),"Expected ".concat(d,' to be returned from the "').concat(f,'"')+" function but got ".concat(C,".")},TypeError),s("ERR_MISSING_ARGS",function(){for(var d=arguments.length,f=new Array(d),g=0;g<d;g++)f[g]=arguments[g];i===void 0&&(i=kv()),i(f.length>0,"At least one arg needs to be specified");var C="The ",S=f.length;switch(f=f.map(function(E){return '"'.concat(E,'"')}),S){case 1:C+="".concat(f[0]," argument");break;case 2:C+="".concat(f[0]," and ").concat(f[1]," arguments");break;default:C+=f.slice(0,S-1).join(", "),C+=", and ".concat(f[S-1]," arguments");}return "".concat(C," must be specified")},TypeError),Rv.codes=a,Rv}function I6(){if(r0)return t0;r0=!0;var t=Rt;function e(ue,le,fe){return le in ue?Object.defineProperty(ue,le,{value:fe,enumerable:!0,configurable:!0,writable:!0}):ue[le]=fe,ue}function r(ue,le){for(var fe=0;fe<le.length;fe++){var ve=le[fe];ve.enumerable=ve.enumerable||!1,ve.configurable=!0,"value"in ve&&(ve.writable=!0),Object.defineProperty(ue,ve.key,ve);}}function n(ue,le){return !le||f(le)!=="object"&&typeof le!="function"?i(ue):le}function i(ue){if(ue===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return ue}function o(ue){var le=typeof Map=="function"?new Map:void 0;return (o=function(fe){if(fe===null||(ve=fe,Function.toString.call(ve).indexOf("[native code]")===-1))return fe;var ve;if(typeof fe!="function")throw new TypeError("Super expression must either be null or a function");if(le!==void 0){if(le.has(fe))return le.get(fe);le.set(fe,H);}function H(){return s(fe,arguments,d(this).constructor)}return H.prototype=Object.create(fe.prototype,{constructor:{value:H,enumerable:!1,writable:!0,configurable:!0}}),u(H,fe)})(ue)}function a(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return !1;if(typeof Proxy=="function")return !0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(ue){return !1}}function s(ue,le,fe){return (s=a()?Reflect.construct:function(ve,H,X){var Ae=[null];Ae.push.apply(Ae,H);var Te=new(Function.bind.apply(ve,Ae));return X&&u(Te,X.prototype),Te}).apply(null,arguments)}function u(ue,le){return (u=Object.setPrototypeOf||function(fe,ve){return fe.__proto__=ve,fe})(ue,le)}function d(ue){return (d=Object.setPrototypeOf?Object.getPrototypeOf:function(le){return le.__proto__||Object.getPrototypeOf(le)})(ue)}function f(ue){return (f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(le){return typeof le}:function(le){return le&&typeof Symbol=="function"&&le.constructor===Symbol&&le!==Symbol.prototype?"symbol":typeof le})(ue)}var g=re.inspect,C=x0().codes.ERR_INVALID_ARG_TYPE;function S(ue,le,fe){return (fe===void 0||fe>ue.length)&&(fe=ue.length),ue.substring(fe-le.length,fe)===le}var E="",T="",_="",P="",M={deepStrictEqual:"Expected values to be strictly deep-equal:",strictEqual:"Expected values to be strictly equal:",strictEqualObject:'Expected "actual" to be reference-equal to "expected":',deepEqual:"Expected values to be loosely deep-equal:",equal:"Expected values to be loosely equal:",notDeepStrictEqual:'Expected "actual" not to be strictly deep-equal to:',notStrictEqual:'Expected "actual" to be strictly unequal to:',notStrictEqualObject:'Expected "actual" not to be reference-equal to "expected":',notDeepEqual:'Expected "actual" not to be loosely deep-equal to:',notEqual:'Expected "actual" to be loosely unequal to:',notIdentical:"Values identical but not reference-equal:"};function D(ue){var le=Object.keys(ue),fe=Object.create(Object.getPrototypeOf(ue));return le.forEach(function(ve){fe[ve]=ue[ve];}),Object.defineProperty(fe,"message",{value:ue.message}),fe}function V(ue){return g(ue,{compact:!1,customInspect:!1,depth:1e3,maxArrayLength:1/0,showHidden:!1,breakLength:1/0,showProxy:!1,sorted:!0,getters:!0})}function Y(ue,le,fe){var ve="",H="",X=0,Ae="",Te=!1,Ee=V(ue),Se=Ee.split(`
`),te=V(le).split(`
`),W=0,ne="";if(fe==="strictEqual"&&f(ue)==="object"&&f(le)==="object"&&ue!==null&&le!==null&&(fe="strictEqualObject"),Se.length===1&&te.length===1&&Se[0]!==te[0]){var oe=Se[0].length+te[0].length;if(oe<=10){if(!(f(ue)==="object"&&ue!==null||f(le)==="object"&&le!==null||ue===0&&le===0))return "".concat(M[fe],`

`)+"".concat(Se[0]," !== ").concat(te[0],`
`)}else if(fe!=="strictEqualObject"&&oe<(t.stderr&&t.stderr.isTTY?t.stderr.columns:80)){for(;Se[0][W]===te[0][W];)W++;W>2&&(ne=`
  `.concat(function(F,z){if(z=Math.floor(z),F.length==0||z==0)return "";var he=F.length*z;for(z=Math.floor(Math.log(z)/Math.log(2));z;)F+=F,z--;return F+=F.substring(0,he-F.length)}(" ",W),"^"),W=0);}}for(var de=Se[Se.length-1],Ue=te[te.length-1];de===Ue&&(W++<2?Ae=`
  `.concat(de).concat(Ae):ve=de,Se.pop(),te.pop(),Se.length!==0&&te.length!==0);)de=Se[Se.length-1],Ue=te[te.length-1];var ze=Math.max(Se.length,te.length);if(ze===0){var dt=Ee.split(`
`);if(dt.length>30)for(dt[26]="".concat(E,"...").concat(P);dt.length>27;)dt.pop();return "".concat(M.notIdentical,`

`).concat(dt.join(`
`),`
`)}W>3&&(Ae=`
`.concat(E,"...").concat(P).concat(Ae),Te=!0),ve!==""&&(Ae=`
  `.concat(ve).concat(Ae),ve="");var ct=0,Er=M[fe]+`
`.concat(T,"+ actual").concat(P," ").concat(_,"- expected").concat(P),K=" ".concat(E,"...").concat(P," Lines skipped");for(W=0;W<ze;W++){var G=W-X;if(Se.length<W+1)G>1&&W>2&&(G>4?(H+=`
`.concat(E,"...").concat(P),Te=!0):G>3&&(H+=`
  `.concat(te[W-2]),ct++),H+=`
  `.concat(te[W-1]),ct++),X=W,ve+=`
`.concat(_,"-").concat(P," ").concat(te[W]),ct++;else if(te.length<W+1)G>1&&W>2&&(G>4?(H+=`
`.concat(E,"...").concat(P),Te=!0):G>3&&(H+=`
  `.concat(Se[W-2]),ct++),H+=`
  `.concat(Se[W-1]),ct++),X=W,H+=`
`.concat(T,"+").concat(P," ").concat(Se[W]),ct++;else {var pe=te[W],Be=Se[W],$e=Be!==pe&&(!S(Be,",")||Be.slice(0,-1)!==pe);$e&&S(pe,",")&&pe.slice(0,-1)===Be&&($e=!1,Be+=","),$e?(G>1&&W>2&&(G>4?(H+=`
`.concat(E,"...").concat(P),Te=!0):G>3&&(H+=`
  `.concat(Se[W-2]),ct++),H+=`
  `.concat(Se[W-1]),ct++),X=W,H+=`
`.concat(T,"+").concat(P," ").concat(Be),ve+=`
`.concat(_,"-").concat(P," ").concat(pe),ct+=2):(H+=ve,ve="",G!==1&&W!==0||(H+=`
  `.concat(Be),ct++));}if(ct>20&&W<ze-2)return "".concat(Er).concat(K,`
`).concat(H,`
`).concat(E,"...").concat(P).concat(ve,`
`)+"".concat(E,"...").concat(P)}return "".concat(Er).concat(Te?K:"",`
`).concat(H).concat(ve).concat(Ae).concat(ne)}var _e=function(ue){function le(H){var X;if(function(dt,ct){if(!(dt instanceof ct))throw new TypeError("Cannot call a class as a function")}(this,le),f(H)!=="object"||H===null)throw new C("options","Object",H);var Ae=H.message,Te=H.operator,Ee=H.stackStartFn,Se=H.actual,te=H.expected,W=Error.stackTraceLimit;if(Error.stackTraceLimit=0,Ae!=null)X=n(this,d(le).call(this,String(Ae)));else if(t.stderr&&t.stderr.isTTY&&(t.stderr&&t.stderr.getColorDepth&&t.stderr.getColorDepth()!==1?(E="\x1B[34m",T="\x1B[32m",P="\x1B[39m",_="\x1B[31m"):(E="",T="",P="",_="")),f(Se)==="object"&&Se!==null&&f(te)==="object"&&te!==null&&"stack"in Se&&Se instanceof Error&&"stack"in te&&te instanceof Error&&(Se=D(Se),te=D(te)),Te==="deepStrictEqual"||Te==="strictEqual")X=n(this,d(le).call(this,Y(Se,te,Te)));else if(Te==="notDeepStrictEqual"||Te==="notStrictEqual"){var ne=M[Te],oe=V(Se).split(`
`);if(Te==="notStrictEqual"&&f(Se)==="object"&&Se!==null&&(ne=M.notStrictEqualObject),oe.length>30)for(oe[26]="".concat(E,"...").concat(P);oe.length>27;)oe.pop();X=oe.length===1?n(this,d(le).call(this,"".concat(ne," ").concat(oe[0]))):n(this,d(le).call(this,"".concat(ne,`

`).concat(oe.join(`
`),`
`)));}else {var de=V(Se),Ue="",ze=M[Te];Te==="notDeepEqual"||Te==="notEqual"?(de="".concat(M[Te],`

`).concat(de)).length>1024&&(de="".concat(de.slice(0,1021),"...")):(Ue="".concat(V(te)),de.length>512&&(de="".concat(de.slice(0,509),"...")),Ue.length>512&&(Ue="".concat(Ue.slice(0,509),"...")),Te==="deepEqual"||Te==="equal"?de="".concat(ze,`

`).concat(de,`

should equal

`):Ue=" ".concat(Te," ").concat(Ue)),X=n(this,d(le).call(this,"".concat(de).concat(Ue)));}return Error.stackTraceLimit=W,X.generatedMessage=!Ae,Object.defineProperty(i(X),"name",{value:"AssertionError [ERR_ASSERTION]",enumerable:!1,writable:!0,configurable:!0}),X.code="ERR_ASSERTION",X.actual=Se,X.expected=te,X.operator=Te,Error.captureStackTrace&&Error.captureStackTrace(i(X),Ee),X.stack,X.name="AssertionError",n(X)}var fe,ve;return function(H,X){if(typeof X!="function"&&X!==null)throw new TypeError("Super expression must either be null or a function");H.prototype=Object.create(X&&X.prototype,{constructor:{value:H,writable:!0,configurable:!0}}),X&&u(H,X);}(le,ue),fe=le,(ve=[{key:"toString",value:function(){return "".concat(this.name," [").concat(this.code,"]: ").concat(this.message)}},{key:g.custom,value:function(H,X){return g(this,function(Ae){for(var Te=1;Te<arguments.length;Te++){var Ee=arguments[Te]!=null?arguments[Te]:{},Se=Object.keys(Ee);typeof Object.getOwnPropertySymbols=="function"&&(Se=Se.concat(Object.getOwnPropertySymbols(Ee).filter(function(te){return Object.getOwnPropertyDescriptor(Ee,te).enumerable}))),Se.forEach(function(te){e(Ae,te,Ee[te]);});}return Ae}({},X,{customInspect:!1,depth:0}))}}])&&r(fe.prototype,ve),le}(o(Error));return t0=_e}function n0(t,e){return function(r){if(Array.isArray(r))return r}(t)||function(r,n){var i=[],o=!0,a=!1,s=void 0;try{for(var u,d=r[Symbol.iterator]();!(o=(u=d.next()).done)&&(i.push(u.value),!n||i.length!==n);o=!0);}catch(f){a=!0,s=f;}finally{try{o||d.return==null||d.return();}finally{if(a)throw s}}return i}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function Dn(t){return (Dn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function Uv(t){return t.call.bind(t)}function D6(t){if(t.length===0||t.length>10)return !0;for(var e=0;e<t.length;e++){var r=t.charCodeAt(e);if(r<48||r>57)return !0}return t.length===10&&t>=Math.pow(2,32)}function Op(t){return Object.keys(t).filter(D6).concat(kp(t).filter(Object.prototype.propertyIsEnumerable.bind(t)))}function p0(t,e){if(t===e)return 0;for(var r=t.length,n=e.length,i=0,o=Math.min(r,n);i<o;++i)if(t[i]!==e[i]){r=t[i],n=e[i];break}return r<n?-1:n<r?1:0}function vn(t,e,r,n){if(t===e)return t!==0||!r||o0(t,e);if(r){if(Dn(t)!=="object")return typeof t=="number"&&xv(t)&&xv(e);if(Dn(e)!=="object"||t===null||e===null||Object.getPrototypeOf(t)!==Object.getPrototypeOf(e))return !1}else {if(t===null||Dn(t)!=="object")return (e===null||Dn(e)!=="object")&&t==e;if(e===null||Dn(e)!=="object")return !1}var i,o,a,s,u=a0(t);if(u!==a0(e))return !1;if(Array.isArray(t)){if(t.length!==e.length)return !1;var d=Op(t),f=Op(e);return d.length===f.length&&Zl(t,e,r,n,1,d)}if(u==="[object Object]"&&(!Ip(t)&&Ip(e)||!Np(t)&&Np(e)))return !1;if(s0(t)){if(!s0(e)||Date.prototype.getTime.call(t)!==Date.prototype.getTime.call(e))return !1}else if(c0(t)){if(!c0(e)||(a=t,s=e,!(N6?a.source===s.source&&a.flags===s.flags:RegExp.prototype.toString.call(a)===RegExp.prototype.toString.call(s))))return !1}else if(k6(t)||t instanceof Error){if(t.message!==e.message||t.name!==e.name)return !1}else {if(x6(t)){if(r||!U6(t)&&!B6(t)){if(!function(S,E){return S.byteLength===E.byteLength&&p0(new Uint8Array(S.buffer,S.byteOffset,S.byteLength),new Uint8Array(E.buffer,E.byteOffset,E.byteLength))===0}(t,e))return !1}else if(!function(S,E){if(S.byteLength!==E.byteLength)return !1;for(var T=0;T<S.byteLength;T++)if(S[T]!==E[T])return !1;return !0}(t,e))return !1;var g=Op(t),C=Op(e);return g.length===C.length&&Zl(t,e,r,n,0,g)}if(Np(t))return !(!Np(e)||t.size!==e.size)&&Zl(t,e,r,n,2);if(Ip(t))return !(!Ip(e)||t.size!==e.size)&&Zl(t,e,r,n,3);if(O6(t)){if(o=e,(i=t).byteLength!==o.byteLength||p0(new Uint8Array(i),new Uint8Array(o))!==0)return !1}else if(P6(t)&&!function(S,E){return l0(S)?l0(E)&&o0(Number.prototype.valueOf.call(S),Number.prototype.valueOf.call(E)):u0(S)?u0(E)&&String.prototype.valueOf.call(S)===String.prototype.valueOf.call(E):d0(S)?d0(E)&&Boolean.prototype.valueOf.call(S)===Boolean.prototype.valueOf.call(E):f0(S)?f0(E)&&BigInt.prototype.valueOf.call(S)===BigInt.prototype.valueOf.call(E):M6(E)&&Symbol.prototype.valueOf.call(S)===Symbol.prototype.valueOf.call(E)}(t,e))return !1}return Zl(t,e,r,n,0)}function h0(t,e){return e.filter(function(r){return Pp(t,r)})}function Zl(t,e,r,n,i,o){if(arguments.length===5){o=Object.keys(t);var a=Object.keys(e);if(o.length!==a.length)return !1}for(var s=0;s<o.length;s++)if(!Ql(e,o[s]))return !1;if(r&&arguments.length===5){var u=kp(t);if(u.length!==0){var d=0;for(s=0;s<u.length;s++){var f=u[s];if(Pp(t,f)){if(!Pp(e,f))return !1;o.push(f),d++;}else if(Pp(e,f))return !1}var g=kp(e);if(u.length!==g.length&&h0(e,g).length!==d)return !1}else {var C=kp(e);if(C.length!==0&&h0(e,C).length!==0)return !1}}if(o.length===0&&(i===0||i===1&&t.length===0||t.size===0))return !0;if(n===void 0)n={val1:new Map,val2:new Map,position:0};else {var S=n.val1.get(t);if(S!==void 0){var E=n.val2.get(e);if(E!==void 0)return S===E}n.position++;}n.val1.set(t,n.position),n.val2.set(e,n.position);var T=z6(t,e,r,o,n,i);return n.val1.delete(t),n.val2.delete(e),T}function m0(t,e,r,n){for(var i=Mp(t),o=0;o<i.length;o++){var a=i[o];if(vn(e,a,r,n))return t.delete(a),!0}return !1}function k0(t){switch(Dn(t)){case"undefined":return null;case"object":return;case"symbol":return !1;case"string":t=+t;case"number":if(xv(t))return !1}return !0}function L6(t,e,r){var n=k0(r);return n!=null?n:e.has(n)&&!t.has(n)}function F6(t,e,r,n,i){var o=k0(r);if(o!=null)return o;var a=e.get(o);return !(a===void 0&&!e.has(o)||!vn(n,a,!1,i))&&!t.has(o)&&vn(n,a,!1,i)}function y0(t,e,r,n,i,o){for(var a=Mp(t),s=0;s<a.length;s++){var u=a[s];if(vn(r,u,i,o)&&vn(n,e.get(u),i,o))return t.delete(u),!0}return !1}function z6(t,e,r,n,i,o){var a=0;if(o===2){if(!function(f,g,C,S){for(var E=null,T=Mp(f),_=0;_<T.length;_++){var P=T[_];if(Dn(P)==="object"&&P!==null)E===null&&(E=new Set),E.add(P);else if(!g.has(P)){if(C||!L6(f,g,P))return !1;E===null&&(E=new Set),E.add(P);}}if(E!==null){for(var M=Mp(g),D=0;D<M.length;D++){var V=M[D];if(Dn(V)==="object"&&V!==null){if(!m0(E,V,C,S))return !1}else if(!C&&!f.has(V)&&!m0(E,V,C,S))return !1}return E.size===0}return !0}(t,e,r,i))return !1}else if(o===3){if(!function(f,g,C,S){for(var E=null,T=i0(f),_=0;_<T.length;_++){var P=n0(T[_],2),M=P[0],D=P[1];if(Dn(M)==="object"&&M!==null)E===null&&(E=new Set),E.add(M);else {var V=g.get(M);if(V===void 0&&!g.has(M)||!vn(D,V,C,S)){if(C||!F6(f,g,M,D,S))return !1;E===null&&(E=new Set),E.add(M);}}}if(E!==null){for(var Y=i0(g),_e=0;_e<Y.length;_e++){var ue=n0(Y[_e],2),le=(M=ue[0],ue[1]);if(Dn(M)==="object"&&M!==null){if(!y0(E,f,M,le,C,S))return !1}else if(!(C||f.has(M)&&vn(f.get(M),le,!1,S)||y0(E,f,M,le,!1,S)))return !1}return E.size===0}return !0}(t,e,r,i))return !1}else if(o===1)for(;a<t.length;a++){if(!Ql(t,a)){if(Ql(e,a))return !1;for(var s=Object.keys(t);a<s.length;a++){var u=s[a];if(!Ql(e,u)||!vn(t[u],e[u],r,i))return !1}return s.length===Object.keys(e).length}if(!Ql(e,a)||!vn(t[a],e[a],r,i))return !1}for(a=0;a<n.length;a++){var d=n[a];if(!vn(t[d],e[d],r,i))return !1}return !0}function kv(){if(v0)return _v;v0=!0;var t=Rt;function e(te){return (e=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(W){return typeof W}:function(W){return W&&typeof Symbol=="function"&&W.constructor===Symbol&&W!==Symbol.prototype?"symbol":typeof W})(te)}var r,n,i=x0().codes,o=i.ERR_AMBIGUOUS_ARGUMENT,a=i.ERR_INVALID_ARG_TYPE,s=i.ERR_INVALID_ARG_VALUE,u=i.ERR_INVALID_RETURN_VALUE,d=i.ERR_MISSING_ARGS,f=I6(),g=re.inspect,C=re.types,S=C.isPromise,E=C.isRegExp,T=Object.assign?Object.assign:$j.assign,_=Object.is?Object.is:I0;function P(){r=g0.isDeepEqual,n=g0.isDeepStrictEqual;}var M=!1,D=_v=ue,V={};function Y(te){throw te.message instanceof Error?te.message:new f(te)}function _e(te,W,ne,oe){if(!ne){var de=!1;if(W===0)de=!0,oe="No value argument passed to `assert.ok()`";else if(oe instanceof Error)throw oe;var Ue=new f({actual:ne,expected:!0,message:oe,operator:"==",stackStartFn:te});throw Ue.generatedMessage=de,Ue}}function ue(){for(var te=arguments.length,W=new Array(te),ne=0;ne<te;ne++)W[ne]=arguments[ne];_e.apply(void 0,[ue,W.length].concat(W));}D.fail=function te(W,ne,oe,de,Ue){var ze,dt=arguments.length;if(dt===0)ze="Failed";else if(dt===1)oe=W,W=void 0;else {if(M===!1){M=!0;var ct=t.emitWarning?t.emitWarning:console.warn.bind(console);ct("assert.fail() with more than one argument is deprecated. Please use assert.strictEqual() instead or only pass a message.","DeprecationWarning","DEP0094");}dt===2&&(de="!=");}if(oe instanceof Error)throw oe;var Er={actual:W,expected:ne,operator:de===void 0?"fail":de,stackStartFn:Ue||te};oe!==void 0&&(Er.message=oe);var K=new f(Er);throw ze&&(K.message=ze,K.generatedMessage=!0),K},D.AssertionError=f,D.ok=ue,D.equal=function te(W,ne,oe){if(arguments.length<2)throw new d("actual","expected");W!=ne&&Y({actual:W,expected:ne,message:oe,operator:"==",stackStartFn:te});},D.notEqual=function te(W,ne,oe){if(arguments.length<2)throw new d("actual","expected");W==ne&&Y({actual:W,expected:ne,message:oe,operator:"!=",stackStartFn:te});},D.deepEqual=function te(W,ne,oe){if(arguments.length<2)throw new d("actual","expected");r===void 0&&P(),r(W,ne)||Y({actual:W,expected:ne,message:oe,operator:"deepEqual",stackStartFn:te});},D.notDeepEqual=function te(W,ne,oe){if(arguments.length<2)throw new d("actual","expected");r===void 0&&P(),r(W,ne)&&Y({actual:W,expected:ne,message:oe,operator:"notDeepEqual",stackStartFn:te});},D.deepStrictEqual=function te(W,ne,oe){if(arguments.length<2)throw new d("actual","expected");r===void 0&&P(),n(W,ne)||Y({actual:W,expected:ne,message:oe,operator:"deepStrictEqual",stackStartFn:te});},D.notDeepStrictEqual=function te(W,ne,oe){if(arguments.length<2)throw new d("actual","expected");r===void 0&&P(),n(W,ne)&&Y({actual:W,expected:ne,message:oe,operator:"notDeepStrictEqual",stackStartFn:te});},D.strictEqual=function te(W,ne,oe){if(arguments.length<2)throw new d("actual","expected");_(W,ne)||Y({actual:W,expected:ne,message:oe,operator:"strictEqual",stackStartFn:te});},D.notStrictEqual=function te(W,ne,oe){if(arguments.length<2)throw new d("actual","expected");_(W,ne)&&Y({actual:W,expected:ne,message:oe,operator:"notStrictEqual",stackStartFn:te});};var le=function te(W,ne,oe){var de=this;((function(Ue,ze){if(!(Ue instanceof ze))throw new TypeError("Cannot call a class as a function")}))(this,te),ne.forEach(function(Ue){Ue in W&&(oe!==void 0&&typeof oe[Ue]=="string"&&E(W[Ue])&&W[Ue].test(oe[Ue])?de[Ue]=oe[Ue]:de[Ue]=W[Ue]);});};function fe(te,W,ne,oe,de,Ue){if(!(ne in te)||!n(te[ne],W[ne])){if(!oe){var ze=new le(te,de),dt=new le(W,de,te),ct=new f({actual:ze,expected:dt,operator:"deepStrictEqual",stackStartFn:Ue});throw ct.actual=te,ct.expected=W,ct.operator=Ue.name,ct}Y({actual:te,expected:W,message:oe,operator:Ue.name,stackStartFn:Ue});}}function ve(te,W,ne,oe){if(typeof W!="function"){if(E(W))return W.test(te);if(arguments.length===2)throw new a("expected",["Function","RegExp"],W);if(e(te)!=="object"||te===null){var de=new f({actual:te,expected:W,message:ne,operator:"deepStrictEqual",stackStartFn:oe});throw de.operator=oe.name,de}var Ue=Object.keys(W);if(W instanceof Error)Ue.push("name","message");else if(Ue.length===0)throw new s("error",W,"may not be an empty object");return r===void 0&&P(),Ue.forEach(function(ze){typeof te[ze]=="string"&&E(W[ze])&&W[ze].test(te[ze])||fe(te,W,ze,ne,Ue,oe);}),!0}return W.prototype!==void 0&&te instanceof W||!Error.isPrototypeOf(W)&&W.call({},te)===!0}function H(te){if(typeof te!="function")throw new a("fn","Function",te);try{te();}catch(W){return W}return V}function X(te){return S(te)||te!==null&&e(te)==="object"&&typeof te.then=="function"&&typeof te.catch=="function"}function Ae(te){return Promise.resolve().then(function(){var W;if(typeof te=="function"){if(!X(W=te()))throw new u("instance of Promise","promiseFn",W)}else {if(!X(te))throw new a("promiseFn",["Function","Promise"],te);W=te;}return Promise.resolve().then(function(){return W}).then(function(){return V}).catch(function(ne){return ne})})}function Te(te,W,ne,oe){if(typeof ne=="string"){if(arguments.length===4)throw new a("error",["Object","Error","Function","RegExp"],ne);if(e(W)==="object"&&W!==null){if(W.message===ne)throw new o("error/message",'The error message "'.concat(W.message,'" is identical to the message.'))}else if(W===ne)throw new o("error/message",'The error "'.concat(W,'" is identical to the message.'));oe=ne,ne=void 0;}else if(ne!=null&&e(ne)!=="object"&&typeof ne!="function")throw new a("error",["Object","Error","Function","RegExp"],ne);if(W===V){var de="";ne&&ne.name&&(de+=" (".concat(ne.name,")")),de+=oe?": ".concat(oe):".";var Ue=te.name==="rejects"?"rejection":"exception";Y({actual:void 0,expected:ne,operator:te.name,message:"Missing expected ".concat(Ue).concat(de),stackStartFn:te});}if(ne&&!ve(W,ne,oe,te))throw W}function Ee(te,W,ne,oe){if(W!==V){if(typeof ne=="string"&&(oe=ne,ne=void 0),!ne||ve(W,ne)){var de=oe?": ".concat(oe):".",Ue=te.name==="doesNotReject"?"rejection":"exception";Y({actual:W,expected:ne,operator:te.name,message:"Got unwanted ".concat(Ue).concat(de,`
`)+'Actual message: "'.concat(W&&W.message,'"'),stackStartFn:te});}throw W}}function Se(){for(var te=arguments.length,W=new Array(te),ne=0;ne<te;ne++)W[ne]=arguments[ne];_e.apply(void 0,[Se,W.length].concat(W));}return D.throws=function te(W){for(var ne=arguments.length,oe=new Array(ne>1?ne-1:0),de=1;de<ne;de++)oe[de-1]=arguments[de];Te.apply(void 0,[te,H(W)].concat(oe));},D.rejects=function te(W){for(var ne=arguments.length,oe=new Array(ne>1?ne-1:0),de=1;de<ne;de++)oe[de-1]=arguments[de];return Ae(W).then(function(Ue){return Te.apply(void 0,[te,Ue].concat(oe))})},D.doesNotThrow=function te(W){for(var ne=arguments.length,oe=new Array(ne>1?ne-1:0),de=1;de<ne;de++)oe[de-1]=arguments[de];Ee.apply(void 0,[te,H(W)].concat(oe));},D.doesNotReject=function te(W){for(var ne=arguments.length,oe=new Array(ne>1?ne-1:0),de=1;de<ne;de++)oe[de-1]=arguments[de];return Ae(W).then(function(Ue){return Ee.apply(void 0,[te,Ue].concat(oe))})},D.ifError=function te(W){if(W!=null){var ne="ifError got unwanted exception: ";e(W)==="object"&&typeof W.message=="string"?W.message.length===0&&W.constructor?ne+=W.constructor.name:ne+=W.message:ne+=g(W);var oe=new f({actual:W,expected:null,operator:"ifError",message:ne,stackStartFn:te}),de=W.stack;if(typeof de=="string"){var Ue=de.split(`
`);Ue.shift();for(var ze=oe.stack.split(`
`),dt=0;dt<Ue.length;dt++){var ct=ze.indexOf(Ue[dt]);if(ct!==-1){ze=ze.slice(0,ct);break}}oe.stack="".concat(ze.join(`
`),`
`).concat(Ue.join(`
`));}throw oe}},D.strict=T(Se,D,{equal:D.strictEqual,deepEqual:D.deepStrictEqual,notEqual:D.notStrictEqual,notDeepEqual:D.notDeepStrictEqual}),D.strict.strict=D.strict,_v}var $j,E0,jI,C0,Yl,Cv,HI,Sv,$I,VI,Jl,_p,GI,WI,Vj,Gj,Wj,KI,xp,YI,Kj,Yj,Jj,Zj,Qj,Iv,S0,Xj,T0,Up,e6,JI,t6,r6,n6,Tv,i6,o6,w0,Xl,Ca,wv,a6,va,Ea,Av,bv,ZI,s6,c6,l6,u6,d6,A0,QI,b0,f6,p6,h6,Nv,Ov,XI,m6,y6,g6,v6,E6,R0,C6,_0,I0,Pv,Mv,S6,T6,w6,A6,b6,N0,R6,O0,_6,Rv,e0,t0,r0,N6,Mp,i0,o0,kp,xv,Ql,Pp,a0,xr,O6,x6,s0,Ip,c0,Np,k6,P6,l0,u0,d0,f0,M6,U6,B6,g0,_v,v0,je,q6,j6,H6,$6,V6,G6,W6,K6,Y6,J6,Z6,Q6,wt,X6,eH,tH,rH,En=Qt(()=>{y();p();h();m();lo();so();$j={assign:qI,polyfill:function(){Object.assign||Object.defineProperty(Object,"assign",{enumerable:!1,configurable:!0,writable:!0,value:qI});}},jI=Object.prototype.toString,C0=function(t){var e=jI.call(t),r=e==="[object Arguments]";return r||(r=e!=="[object Array]"&&t!==null&&typeof t=="object"&&typeof t.length=="number"&&t.length>=0&&jI.call(t.callee)==="[object Function]"),r};Object.keys||(Yl=Object.prototype.hasOwnProperty,Cv=Object.prototype.toString,HI=C0,Sv=Object.prototype.propertyIsEnumerable,$I=!Sv.call({toString:null},"toString"),VI=Sv.call(function(){},"prototype"),Jl=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],_p=function(t){var e=t.constructor;return e&&e.prototype===t},GI={$applicationCache:!0,$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$onmozfullscreenchange:!0,$onmozfullscreenerror:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},WI=function(){if(typeof window=="undefined")return !1;for(var t in window)try{if(!GI["$"+t]&&Yl.call(window,t)&&window[t]!==null&&typeof window[t]=="object")try{_p(window[t]);}catch(e){return !0}}catch(e){return !0}return !1}(),E0=function(t){var e=t!==null&&typeof t=="object",r=Cv.call(t)==="[object Function]",n=HI(t),i=e&&Cv.call(t)==="[object String]",o=[];if(!e&&!r&&!n)throw new TypeError("Object.keys called on a non-object");var a=VI&&r;if(i&&t.length>0&&!Yl.call(t,0))for(var s=0;s<t.length;++s)o.push(String(s));if(n&&t.length>0)for(var u=0;u<t.length;++u)o.push(String(u));else for(var d in t)a&&d==="prototype"||!Yl.call(t,d)||o.push(String(d));if($I)for(var f=function(C){if(typeof window=="undefined"||!WI)return _p(C);try{return _p(C)}catch(S){return !1}}(t),g=0;g<Jl.length;++g)f&&Jl[g]==="constructor"||!Yl.call(t,Jl[g])||o.push(Jl[g]);return o});Vj=E0,Gj=Array.prototype.slice,Wj=C0,KI=Object.keys,xp=KI?function(t){return KI(t)}:Vj,YI=Object.keys;xp.shim=function(){return Object.keys?function(){var t=Object.keys(arguments);return t&&t.length===arguments.length}(1,2)||(Object.keys=function(t){return Wj(t)?YI(Gj.call(t)):YI(t)}):Object.keys=xp,Object.keys||xp};Kj=xp,Yj=Kj,Jj=typeof Symbol=="function"&&typeof Symbol("foo")=="symbol",Zj=Object.prototype.toString,Qj=Array.prototype.concat,Iv=Object.defineProperty,S0=Iv&&function(){var t={};try{for(var e in Iv(t,"x",{enumerable:!1,value:t}),t)return !1;return t.x===t}catch(r){return !1}}(),Xj=function(t,e,r,n){var i;(!(e in t)||typeof(i=n)=="function"&&Zj.call(i)==="[object Function]"&&n())&&(S0?Iv(t,e,{configurable:!0,enumerable:!1,value:r,writable:!0}):t[e]=r);},T0=function(t,e){var r=arguments.length>2?arguments[2]:{},n=Yj(e);Jj&&(n=Qj.call(n,Object.getOwnPropertySymbols(e)));for(var i=0;i<n.length;i+=1)Xj(t,n[i],e[n[i]],r[n[i]]);};T0.supportsDescriptors=!!S0;Up=T0,e6=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return !1;if(typeof Symbol.iterator=="symbol")return !0;var t={},e=Symbol("test"),r=Object(e);if(typeof e=="string"||Object.prototype.toString.call(e)!=="[object Symbol]"||Object.prototype.toString.call(r)!=="[object Symbol]")return !1;for(e in t[e]=42,t)return !1;if(typeof Object.keys=="function"&&Object.keys(t).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(t).length!==0)return !1;var n=Object.getOwnPropertySymbols(t);if(n.length!==1||n[0]!==e||!Object.prototype.propertyIsEnumerable.call(t,e))return !1;if(typeof Object.getOwnPropertyDescriptor=="function"){var i=Object.getOwnPropertyDescriptor(t,e);if(i.value!==42||i.enumerable!==!0)return !1}return !0},JI=(typeof globalThis!="undefined"?globalThis:typeof self!="undefined"?self:globalThis).Symbol,t6=e6,r6=function(){return typeof JI=="function"&&typeof Symbol=="function"&&typeof JI("foo")=="symbol"&&typeof Symbol("bar")=="symbol"&&t6()},n6="Function.prototype.bind called on incompatible ",Tv=Array.prototype.slice,i6=Object.prototype.toString,o6=function(t){var e=this;if(typeof e!="function"||i6.call(e)!=="[object Function]")throw new TypeError(n6+e);for(var r,n=Tv.call(arguments,1),i=function(){if(this instanceof r){var d=e.apply(this,n.concat(Tv.call(arguments)));return Object(d)===d?d:this}return e.apply(t,n.concat(Tv.call(arguments)))},o=Math.max(0,e.length-n.length),a=[],s=0;s<o;s++)a.push("$"+s);if(r=Function("binder","return function ("+a.join(",")+"){ return binder.apply(this,arguments); }")(i),e.prototype){var u=function(){};u.prototype=e.prototype,r.prototype=new u,u.prototype=null;}return r},w0=Function.prototype.bind||o6,Xl=TypeError,Ca=Object.getOwnPropertyDescriptor;if(Ca)try{Ca({},"");}catch(t){Ca=null;}wv=function(){throw new Xl},a6=Ca?function(){try{return arguments.callee,wv}catch(t){try{return Ca(arguments,"callee").get}catch(e){return wv}}}():wv,va=r6(),Ea=Object.getPrototypeOf||function(t){return t.__proto__},Av=typeof Uint8Array=="undefined"?void 0:Ea(Uint8Array),bv={"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer=="undefined"?void 0:ArrayBuffer,"%ArrayBufferPrototype%":typeof ArrayBuffer=="undefined"?void 0:ArrayBuffer.prototype,"%ArrayIteratorPrototype%":va?Ea([][Symbol.iterator]()):void 0,"%ArrayPrototype%":Array.prototype,"%ArrayProto_entries%":Array.prototype.entries,"%ArrayProto_forEach%":Array.prototype.forEach,"%ArrayProto_keys%":Array.prototype.keys,"%ArrayProto_values%":Array.prototype.values,"%AsyncFromSyncIteratorPrototype%":void 0,"%AsyncFunction%":void 0,"%AsyncFunctionPrototype%":void 0,"%AsyncGenerator%":void 0,"%AsyncGeneratorFunction%":void 0,"%AsyncGeneratorPrototype%":void 0,"%AsyncIteratorPrototype%":void 0,"%Atomics%":typeof Atomics=="undefined"?void 0:Atomics,"%Boolean%":Boolean,"%BooleanPrototype%":Boolean.prototype,"%DataView%":typeof DataView=="undefined"?void 0:DataView,"%DataViewPrototype%":typeof DataView=="undefined"?void 0:DataView.prototype,"%Date%":Date,"%DatePrototype%":Date.prototype,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%ErrorPrototype%":Error.prototype,"%eval%":eval,"%EvalError%":EvalError,"%EvalErrorPrototype%":EvalError.prototype,"%Float32Array%":typeof Float32Array=="undefined"?void 0:Float32Array,"%Float32ArrayPrototype%":typeof Float32Array=="undefined"?void 0:Float32Array.prototype,"%Float64Array%":typeof Float64Array=="undefined"?void 0:Float64Array,"%Float64ArrayPrototype%":typeof Float64Array=="undefined"?void 0:Float64Array.prototype,"%Function%":Function,"%FunctionPrototype%":Function.prototype,"%Generator%":void 0,"%GeneratorFunction%":void 0,"%GeneratorPrototype%":void 0,"%Int8Array%":typeof Int8Array=="undefined"?void 0:Int8Array,"%Int8ArrayPrototype%":typeof Int8Array=="undefined"?void 0:Int8Array.prototype,"%Int16Array%":typeof Int16Array=="undefined"?void 0:Int16Array,"%Int16ArrayPrototype%":typeof Int16Array=="undefined"?void 0:Int8Array.prototype,"%Int32Array%":typeof Int32Array=="undefined"?void 0:Int32Array,"%Int32ArrayPrototype%":typeof Int32Array=="undefined"?void 0:Int32Array.prototype,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":va?Ea(Ea([][Symbol.iterator]())):void 0,"%JSON%":typeof JSON=="object"?JSON:void 0,"%JSONParse%":typeof JSON=="object"?JSON.parse:void 0,"%Map%":typeof Map=="undefined"?void 0:Map,"%MapIteratorPrototype%":typeof Map!="undefined"&&va?Ea(new Map()[Symbol.iterator]()):void 0,"%MapPrototype%":typeof Map=="undefined"?void 0:Map.prototype,"%Math%":Math,"%Number%":Number,"%NumberPrototype%":Number.prototype,"%Object%":Object,"%ObjectPrototype%":Object.prototype,"%ObjProto_toString%":Object.prototype.toString,"%ObjProto_valueOf%":Object.prototype.valueOf,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise=="undefined"?void 0:Promise,"%PromisePrototype%":typeof Promise=="undefined"?void 0:Promise.prototype,"%PromiseProto_then%":typeof Promise=="undefined"?void 0:Promise.prototype.then,"%Promise_all%":typeof Promise=="undefined"?void 0:Promise.all,"%Promise_reject%":typeof Promise=="undefined"?void 0:Promise.reject,"%Promise_resolve%":typeof Promise=="undefined"?void 0:Promise.resolve,"%Proxy%":typeof Proxy=="undefined"?void 0:Proxy,"%RangeError%":RangeError,"%RangeErrorPrototype%":RangeError.prototype,"%ReferenceError%":ReferenceError,"%ReferenceErrorPrototype%":ReferenceError.prototype,"%Reflect%":typeof Reflect=="undefined"?void 0:Reflect,"%RegExp%":RegExp,"%RegExpPrototype%":RegExp.prototype,"%Set%":typeof Set=="undefined"?void 0:Set,"%SetIteratorPrototype%":typeof Set!="undefined"&&va?Ea(new Set()[Symbol.iterator]()):void 0,"%SetPrototype%":typeof Set=="undefined"?void 0:Set.prototype,"%SharedArrayBuffer%":typeof SharedArrayBuffer=="undefined"?void 0:SharedArrayBuffer,"%SharedArrayBufferPrototype%":typeof SharedArrayBuffer=="undefined"?void 0:SharedArrayBuffer.prototype,"%String%":String,"%StringIteratorPrototype%":va?Ea(""[Symbol.iterator]()):void 0,"%StringPrototype%":String.prototype,"%Symbol%":va?Symbol:void 0,"%SymbolPrototype%":va?Symbol.prototype:void 0,"%SyntaxError%":SyntaxError,"%SyntaxErrorPrototype%":SyntaxError.prototype,"%ThrowTypeError%":a6,"%TypedArray%":Av,"%TypedArrayPrototype%":Av?Av.prototype:void 0,"%TypeError%":Xl,"%TypeErrorPrototype%":Xl.prototype,"%Uint8Array%":typeof Uint8Array=="undefined"?void 0:Uint8Array,"%Uint8ArrayPrototype%":typeof Uint8Array=="undefined"?void 0:Uint8Array.prototype,"%Uint8ClampedArray%":typeof Uint8ClampedArray=="undefined"?void 0:Uint8ClampedArray,"%Uint8ClampedArrayPrototype%":typeof Uint8ClampedArray=="undefined"?void 0:Uint8ClampedArray.prototype,"%Uint16Array%":typeof Uint16Array=="undefined"?void 0:Uint16Array,"%Uint16ArrayPrototype%":typeof Uint16Array=="undefined"?void 0:Uint16Array.prototype,"%Uint32Array%":typeof Uint32Array=="undefined"?void 0:Uint32Array,"%Uint32ArrayPrototype%":typeof Uint32Array=="undefined"?void 0:Uint32Array.prototype,"%URIError%":URIError,"%URIErrorPrototype%":URIError.prototype,"%WeakMap%":typeof WeakMap=="undefined"?void 0:WeakMap,"%WeakMapPrototype%":typeof WeakMap=="undefined"?void 0:WeakMap.prototype,"%WeakSet%":typeof WeakSet=="undefined"?void 0:WeakSet,"%WeakSetPrototype%":typeof WeakSet=="undefined"?void 0:WeakSet.prototype},ZI=w0.call(Function.call,String.prototype.replace),s6=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,c6=/\\(\\)?/g,l6=function(t){var e=[];return ZI(t,s6,function(r,n,i,o){e[e.length]=i?ZI(o,c6,"$1"):n||r;}),e},u6=function(t,e){if(!(t in bv))throw new SyntaxError("intrinsic "+t+" does not exist!");if(bv[t]===void 0&&!e)throw new Xl("intrinsic "+t+" exists, but is not available. Please file an issue!");return bv[t]},d6=function(t,e){if(typeof t!="string"||t.length===0)throw new TypeError("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof e!="boolean")throw new TypeError('"allowMissing" argument must be a boolean');for(var r=l6(t),n=u6("%"+(r.length>0?r[0]:"")+"%",e),i=1;i<r.length;i+=1)if(n!=null)if(Ca&&i+1>=r.length){var o=Ca(n,r[i]);if(!e&&!(r[i]in n))throw new Xl("base intrinsic for "+t+" exists, but the property is not available.");n=o?o.get||o.value:n[r[i]];}else n=n[r[i]];return n},QI=w0,b0=d6("%Function%"),f6=b0.apply,p6=b0.call;(A0=function(){return QI.apply(p6,arguments)}).apply=function(){return QI.apply(f6,arguments)};h6=A0,XI=function(t){return t!=t},m6=(Nv=function(t,e){return t===0&&e===0?1/t==1/e:t===e||!(!XI(t)||!XI(e))},Nv),y6=(Ov=function(){return typeof Object.is=="function"?Object.is:m6},Ov),g6=Up,v6=Up,E6=Nv,R0=Ov,C6=function(){var t=y6();return g6(Object,{is:t},{is:function(){return Object.is!==t}}),t},_0=h6(R0(),Object);v6(_0,{getPolyfill:R0,implementation:E6,shim:C6});I0=_0;Pv=function(t){return t!=t};S6=Pv,T6=(Mv=function(){return Number.isNaN&&Number.isNaN(NaN)&&!Number.isNaN("a")?Number.isNaN:S6},Up),w6=Mv,A6=Up,b6=Pv,N0=Mv,R6=function(){var t=w6();return T6(Number,{isNaN:t},{isNaN:function(){return Number.isNaN!==t}}),t},O0=N0();A6(O0,{getPolyfill:N0,implementation:b6,shim:R6});_6=O0,Rv={},e0=!1;t0={},r0=!1;N6=/a/g.flags!==void 0,Mp=function(t){var e=[];return t.forEach(function(r){return e.push(r)}),e},i0=function(t){var e=[];return t.forEach(function(r,n){return e.push([n,r])}),e},o0=Object.is?Object.is:I0,kp=Object.getOwnPropertySymbols?Object.getOwnPropertySymbols:function(){return []},xv=Number.isNaN?Number.isNaN:_6;Ql=Uv(Object.prototype.hasOwnProperty),Pp=Uv(Object.prototype.propertyIsEnumerable),a0=Uv(Object.prototype.toString),xr=re.types,O6=xr.isAnyArrayBuffer,x6=xr.isArrayBufferView,s0=xr.isDate,Ip=xr.isMap,c0=xr.isRegExp,Np=xr.isSet,k6=xr.isNativeError,P6=xr.isBoxedPrimitive,l0=xr.isNumberObject,u0=xr.isStringObject,d0=xr.isBooleanObject,f0=xr.isBigIntObject,M6=xr.isSymbolObject,U6=xr.isFloat32Array,B6=xr.isFloat64Array;g0={isDeepEqual:function(t,e){return vn(t,e,!1)},isDeepStrictEqual:function(t,e){return vn(t,e,!0)}},_v={},v0=!1;je=kv();je.AssertionError;je.deepEqual;je.deepStrictEqual;je.doesNotReject;je.doesNotThrow;je.equal;je.fail;je.ifError;je.notDeepEqual;je.notDeepStrictEqual;je.notEqual;je.notStrictEqual;je.ok;je.rejects;je.strict;je.strictEqual;je.throws;je.AssertionError;je.deepEqual;je.deepStrictEqual;je.doesNotReject;je.doesNotThrow;je.equal;je.fail;je.ifError;je.notDeepEqual;je.notDeepStrictEqual;je.notEqual;je.notStrictEqual;je.ok;je.rejects;je.strict;je.strictEqual;je.throws;q6=je.AssertionError,j6=je.deepEqual,H6=je.deepStrictEqual,$6=je.doesNotReject,V6=je.doesNotThrow,G6=je.equal,W6=je.fail,K6=je.ifError,Y6=je.notDeepEqual,J6=je.notDeepStrictEqual,Z6=je.notEqual,Q6=je.notStrictEqual,wt=je.ok,X6=je.rejects,eH=je.strict,tH=je.strictEqual,rH=je.throws;});var U0=ce((hne,M0)=>{y();p();h();m();var lc=1e3,uc=lc*60,dc=uc*60,Sa=dc*24,nH=Sa*7,iH=Sa*365.25;M0.exports=function(t,e){e=e||{};var r=typeof t;if(r==="string"&&t.length>0)return oH(t);if(r==="number"&&isFinite(t))return e.long?sH(t):aH(t);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(t))};function oH(t){if(t=String(t),!(t.length>100)){var e=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(t);if(e){var r=parseFloat(e[1]),n=(e[2]||"ms").toLowerCase();switch(n){case"years":case"year":case"yrs":case"yr":case"y":return r*iH;case"weeks":case"week":case"w":return r*nH;case"days":case"day":case"d":return r*Sa;case"hours":case"hour":case"hrs":case"hr":case"h":return r*dc;case"minutes":case"minute":case"mins":case"min":case"m":return r*uc;case"seconds":case"second":case"secs":case"sec":case"s":return r*lc;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return r;default:return}}}}function aH(t){var e=Math.abs(t);return e>=Sa?Math.round(t/Sa)+"d":e>=dc?Math.round(t/dc)+"h":e>=uc?Math.round(t/uc)+"m":e>=lc?Math.round(t/lc)+"s":t+"ms"}function sH(t){var e=Math.abs(t);return e>=Sa?Bp(t,e,Sa,"day"):e>=dc?Bp(t,e,dc,"hour"):e>=uc?Bp(t,e,uc,"minute"):e>=lc?Bp(t,e,lc,"second"):t+" ms"}function Bp(t,e,r,n){var i=e>=r*1.5;return Math.round(t/r)+" "+n+(i?"s":"")}});var D0=ce((Ene,B0)=>{y();p();h();m();function cH(t){r.debug=r,r.default=r,r.coerce=u,r.disable=o,r.enable=i,r.enabled=a,r.humanize=U0(),r.destroy=d,Object.keys(t).forEach(f=>{r[f]=t[f];}),r.names=[],r.skips=[],r.formatters={};function e(f){let g=0;for(let C=0;C<f.length;C++)g=(g<<5)-g+f.charCodeAt(C),g|=0;return r.colors[Math.abs(g)%r.colors.length]}r.selectColor=e;function r(f){let g,C=null,S,E;function T(..._){if(!T.enabled)return;let P=T,M=Number(new Date),D=M-(g||M);P.diff=D,P.prev=g,P.curr=M,g=M,_[0]=r.coerce(_[0]),typeof _[0]!="string"&&_.unshift("%O");let V=0;_[0]=_[0].replace(/%([a-zA-Z%])/g,(_e,ue)=>{if(_e==="%%")return "%";V++;let le=r.formatters[ue];if(typeof le=="function"){let fe=_[V];_e=le.call(P,fe),_.splice(V,1),V--;}return _e}),r.formatArgs.call(P,_),(P.log||r.log).apply(P,_);}return T.namespace=f,T.useColors=r.useColors(),T.color=r.selectColor(f),T.extend=n,T.destroy=r.destroy,Object.defineProperty(T,"enabled",{enumerable:!0,configurable:!1,get:()=>C!==null?C:(S!==r.namespaces&&(S=r.namespaces,E=r.enabled(f)),E),set:_=>{C=_;}}),typeof r.init=="function"&&r.init(T),T}function n(f,g){let C=r(this.namespace+(typeof g=="undefined"?":":g)+f);return C.log=this.log,C}function i(f){r.save(f),r.namespaces=f,r.names=[],r.skips=[];let g,C=(typeof f=="string"?f:"").split(/[\s,]+/),S=C.length;for(g=0;g<S;g++)C[g]&&(f=C[g].replace(/\*/g,".*?"),f[0]==="-"?r.skips.push(new RegExp("^"+f.slice(1)+"$")):r.names.push(new RegExp("^"+f+"$")));}function o(){let f=[...r.names.map(s),...r.skips.map(s).map(g=>"-"+g)].join(",");return r.enable(""),f}function a(f){if(f[f.length-1]==="*")return !0;let g,C;for(g=0,C=r.skips.length;g<C;g++)if(r.skips[g].test(f))return !1;for(g=0,C=r.names.length;g<C;g++)if(r.names[g].test(f))return !0;return !1}function s(f){return f.toString().substring(2,f.toString().length-2).replace(/\.\*\?$/,"*")}function u(f){return f instanceof Error?f.stack||f.message:f}function d(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.");}return r.enable(r.load()),r}B0.exports=cH;});var Bv=ce((Zr,Dp)=>{y();p();h();m();Zr.formatArgs=uH;Zr.save=dH;Zr.load=fH;Zr.useColors=lH;Zr.storage=pH();Zr.destroy=(()=>{let t=!1;return ()=>{t||(t=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."));}})();Zr.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function lH(){if(typeof window!="undefined"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs))return !0;if(typeof navigator!="undefined"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return !1;let t;return typeof document!="undefined"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window!="undefined"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator!="undefined"&&navigator.userAgent&&(t=navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/))&&parseInt(t[1],10)>=31||typeof navigator!="undefined"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function uH(t){if(t[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+t[0]+(this.useColors?"%c ":" ")+"+"+Dp.exports.humanize(this.diff),!this.useColors)return;let e="color: "+this.color;t.splice(1,0,e,"color: inherit");let r=0,n=0;t[0].replace(/%[a-zA-Z%]/g,i=>{i!=="%%"&&(r++,i==="%c"&&(n=r));}),t.splice(n,0,e);}Zr.log=console.debug||console.log||(()=>{});function dH(t){try{t?Zr.storage.setItem("debug",t):Zr.storage.removeItem("debug");}catch(e){}}function fH(){let t;try{t=Zr.storage.getItem("debug");}catch(e){}return !t&&typeof A!="undefined"&&"env"in A&&(t=A.env.DEBUG),t}function pH(){try{return localStorage}catch(t){}}Dp.exports=D0()(Zr);var{formatters:hH}=Dp.exports;hH.j=function(t){try{return JSON.stringify(t)}catch(e){return "[UnexpectedJSONParseError]: "+e.message}};});var Fv=ce(Cn=>{y();p();h();m();Cn.fetch=eu(globalThis.fetch)&&eu(globalThis.ReadableStream);Cn.writableStream=eu(globalThis.WritableStream);Cn.abortController=eu(globalThis.AbortController);var vo;function Dv(){if(vo!==void 0)return vo;if(globalThis.XMLHttpRequest){vo=new globalThis.XMLHttpRequest;try{vo.open("GET",globalThis.XDomainRequest?"/":"https://example.com");}catch(t){vo=null;}}else vo=null;return vo}function Lv(t){var e=Dv();if(!e)return !1;try{return e.responseType=t,e.responseType===t}catch(r){}return !1}Cn.arraybuffer=Cn.fetch||Lv("arraybuffer");Cn.msstream=!Cn.fetch&&Lv("ms-stream");Cn.mozchunkedarraybuffer=!Cn.fetch&&Lv("moz-chunked-arraybuffer");Cn.overrideMimeType=Cn.fetch||(Dv()?eu(Dv().overrideMimeType):!1);function eu(t){return typeof t=="function"}vo=null;});var zv=ce((Sn,L0)=>{y();p();h();m();Sn=L0.exports=jf();Sn.Stream=Sn;Sn.Readable=Sn;Sn.Writable=Ff();Sn.Duplex=fo();Sn.Transform=Jf();Sn.PassThrough=bg();Sn.finished=Ol();Sn.pipeline=_g();});var Hv=ce(jv=>{y();p();h();m();var F0=Fv(),mH=xi(),z0=zv(),Lp=jv.readyStates={UNSENT:0,OPENED:1,HEADERS_RECEIVED:2,LOADING:3,DONE:4},qv=jv.IncomingMessage=function(t,e,r,n){var i=this;if(z0.Readable.call(i),i._mode=r,i.headers={},i.rawHeaders=[],i.trailers={},i.rawTrailers=[],i.on("end",function(){A.nextTick(function(){i.emit("close");});}),r==="fetch"){let g=function(){a.read().then(function(C){if(!i._destroyed){if(n(C.done),C.done){i.push(null);return}i.push(R.Buffer.from(C.value)),g();}}).catch(function(C){n(!0),i._destroyed||i.emit("error",C);});};if(i._fetchResponse=e,i.url=e.url,i.statusCode=e.status,i.statusMessage=e.statusText,e.headers.forEach(function(C,S){i.headers[S.toLowerCase()]=C,i.rawHeaders.push(S,C);}),F0.writableStream){var o=new WritableStream({write:function(C){return n(!1),new Promise(function(S,E){i._destroyed?E():i.push(R.Buffer.from(C))?S():i._resumeFetch=S;})},close:function(){n(!0),i._destroyed||i.push(null);},abort:function(C){n(!0),i._destroyed||i.emit("error",C);}});try{e.body.pipeTo(o).catch(function(C){n(!0),i._destroyed||i.emit("error",C);});return}catch(C){}}var a=e.body.getReader();g();}else {i._xhr=t,i._pos=0,i.url=t.responseURL,i.statusCode=t.status,i.statusMessage=t.statusText;var s=t.getAllResponseHeaders().split(/\r?\n/);if(s.forEach(function(g){var C=g.match(/^([^:]+):\s*(.*)/);if(C){var S=C[1].toLowerCase();S==="set-cookie"?(i.headers[S]===void 0&&(i.headers[S]=[]),i.headers[S].push(C[2])):i.headers[S]!==void 0?i.headers[S]+=", "+C[2]:i.headers[S]=C[2],i.rawHeaders.push(C[1],C[2]);}}),i._charset="x-user-defined",!F0.overrideMimeType){var u=i.rawHeaders["mime-type"];if(u){var d=u.match(/;\s*charset=([^;])(;|$)/);d&&(i._charset=d[1].toLowerCase());}i._charset||(i._charset="utf-8");}}};mH(qv,z0.Readable);qv.prototype._read=function(){var t=this,e=t._resumeFetch;e&&(t._resumeFetch=null,e());};qv.prototype._onXHRProgress=function(t){var e=this,r=e._xhr,n=null;switch(e._mode){case"text":if(n=r.responseText,n.length>e._pos){var i=n.substr(e._pos);if(e._charset==="x-user-defined"){for(var o=R.Buffer.alloc(i.length),a=0;a<i.length;a++)o[a]=i.charCodeAt(a)&255;e.push(o);}else e.push(i,e._charset);e._pos=n.length;}break;case"arraybuffer":if(r.readyState!==Lp.DONE||!r.response)break;n=r.response,e.push(R.Buffer.from(new Uint8Array(n)));break;case"moz-chunked-arraybuffer":if(n=r.response,r.readyState!==Lp.LOADING||!n)break;e.push(R.Buffer.from(new Uint8Array(n)));break;case"ms-stream":if(n=r.response,r.readyState!==Lp.LOADING)break;var s=new globalThis.MSStreamReader;s.onprogress=function(){s.result.byteLength>e._pos&&(e.push(R.Buffer.from(new Uint8Array(s.result.slice(e._pos)))),e._pos=s.result.byteLength);},s.onload=function(){t(!0),e.push(null);},s.readAsArrayBuffer(n);break}e._xhr.readyState===Lp.DONE&&e._mode!=="ms-stream"&&(t(!0),e.push(null));};});var $0=ce((jne,H0)=>{y();p();h();m();var Ta=Fv(),yH=xi(),j0=Hv(),$v=zv(),gH=j0.IncomingMessage,q0=j0.readyStates;function vH(t,e){return Ta.fetch&&e?"fetch":Ta.mozchunkedarraybuffer?"moz-chunked-arraybuffer":Ta.msstream?"ms-stream":Ta.arraybuffer&&t?"arraybuffer":"text"}var _r=H0.exports=function(t){var e=this;$v.Writable.call(e),e._opts=t,e._body=[],e._headers={},t.auth&&e.setHeader("Authorization","Basic "+R.Buffer.from(t.auth).toString("base64")),Object.keys(t.headers).forEach(function(i){e.setHeader(i,t.headers[i]);});var r,n=!0;if(t.mode==="disable-fetch"||"requestTimeout"in t&&!Ta.abortController)n=!1,r=!0;else if(t.mode==="prefer-streaming")r=!1;else if(t.mode==="allow-wrong-content-type")r=!Ta.overrideMimeType;else if(!t.mode||t.mode==="default"||t.mode==="prefer-fast")r=!0;else throw new Error("Invalid value for opts.mode");e._mode=vH(r,n),e._fetchTimer=null,e._socketTimeout=null,e._socketTimer=null,e.on("finish",function(){e._onFinish();});};yH(_r,$v.Writable);_r.prototype.setHeader=function(t,e){var r=this,n=t.toLowerCase();CH.indexOf(n)===-1&&(r._headers[n]={name:t,value:e});};_r.prototype.getHeader=function(t){var e=this._headers[t.toLowerCase()];return e?e.value:null};_r.prototype.removeHeader=function(t){var e=this;delete e._headers[t.toLowerCase()];};_r.prototype._onFinish=function(){var t=this;if(!t._destroyed){var e=t._opts;"timeout"in e&&e.timeout!==0&&t.setTimeout(e.timeout);var r=t._headers,n=null;e.method!=="GET"&&e.method!=="HEAD"&&(n=new Blob(t._body,{type:(r["content-type"]||{}).value||""}));var i=[];if(Object.keys(r).forEach(function(u){var d=r[u].name,f=r[u].value;Array.isArray(f)?f.forEach(function(g){i.push([d,g]);}):i.push([d,f]);}),t._mode==="fetch"){var o=null;if(Ta.abortController){var a=new AbortController;o=a.signal,t._fetchAbortController=a,"requestTimeout"in e&&e.requestTimeout!==0&&(t._fetchTimer=globalThis.setTimeout(function(){t.emit("requestTimeout"),t._fetchAbortController&&t._fetchAbortController.abort();},e.requestTimeout));}globalThis.fetch(t._opts.url,{method:t._opts.method,headers:i,body:n||void 0,mode:"cors",credentials:e.withCredentials?"include":"same-origin",signal:o}).then(function(u){t._fetchResponse=u,t._resetTimers(!1),t._connect();},function(u){t._resetTimers(!0),t._destroyed||t.emit("error",u);});}else {var s=t._xhr=new globalThis.XMLHttpRequest;try{s.open(t._opts.method,t._opts.url,!0);}catch(u){A.nextTick(function(){t.emit("error",u);});return}"responseType"in s&&(s.responseType=t._mode),"withCredentials"in s&&(s.withCredentials=!!e.withCredentials),t._mode==="text"&&"overrideMimeType"in s&&s.overrideMimeType("text/plain; charset=x-user-defined"),"requestTimeout"in e&&(s.timeout=e.requestTimeout,s.ontimeout=function(){t.emit("requestTimeout");}),i.forEach(function(u){s.setRequestHeader(u[0],u[1]);}),t._response=null,s.onreadystatechange=function(){switch(s.readyState){case q0.LOADING:case q0.DONE:t._onXHRProgress();break}},t._mode==="moz-chunked-arraybuffer"&&(s.onprogress=function(){t._onXHRProgress();}),s.onerror=function(){t._destroyed||(t._resetTimers(!0),t.emit("error",new Error("XHR error")));};try{s.send(n);}catch(u){A.nextTick(function(){t.emit("error",u);});return}}}};function EH(t){try{var e=t.status;return e!==null&&e!==0}catch(r){return !1}}_r.prototype._onXHRProgress=function(){var t=this;t._resetTimers(!1),!(!EH(t._xhr)||t._destroyed)&&(t._response||t._connect(),t._response._onXHRProgress(t._resetTimers.bind(t)));};_r.prototype._connect=function(){var t=this;t._destroyed||(t._response=new gH(t._xhr,t._fetchResponse,t._mode,t._resetTimers.bind(t)),t._response.on("error",function(e){t.emit("error",e);}),t.emit("response",t._response));};_r.prototype._write=function(t,e,r){var n=this;n._body.push(t),r();};_r.prototype._resetTimers=function(t){var e=this;globalThis.clearTimeout(e._socketTimer),e._socketTimer=null,t?(globalThis.clearTimeout(e._fetchTimer),e._fetchTimer=null):e._socketTimeout&&(e._socketTimer=globalThis.setTimeout(function(){e.emit("timeout");},e._socketTimeout));};_r.prototype.abort=_r.prototype.destroy=function(t){var e=this;e._destroyed=!0,e._resetTimers(!0),e._response&&(e._response._destroyed=!0),e._xhr?e._xhr.abort():e._fetchAbortController&&e._fetchAbortController.abort(),t&&e.emit("error",t);};_r.prototype.end=function(t,e,r){var n=this;typeof t=="function"&&(r=t,t=void 0),$v.Writable.prototype.end.call(n,t,e,r);};_r.prototype.setTimeout=function(t,e){var r=this;e&&r.once("timeout",e),r._socketTimeout=t,r._resetTimers(!1);};_r.prototype.flushHeaders=function(){};_r.prototype.setNoDelay=function(){};_r.prototype.setSocketKeepAlive=function(){};var CH=["accept-charset","accept-encoding","access-control-request-headers","access-control-request-method","connection","content-length","cookie","cookie2","date","dnt","expect","host","keep-alive","origin","referer","te","trailer","transfer-encoding","upgrade","via"];});var G0=ce((Wne,V0)=>{y();p();h();m();V0.exports=TH;var SH=Object.prototype.hasOwnProperty;function TH(){for(var t={},e=0;e<arguments.length;e++){var r=arguments[e];for(var n in r)SH.call(r,n)&&(t[n]=r[n]);}return t}});var K0=ce((Qne,W0)=>{y();p();h();m();W0.exports={100:"Continue",101:"Switching Protocols",102:"Processing",200:"OK",201:"Created",202:"Accepted",203:"Non-Authoritative Information",204:"No Content",205:"Reset Content",206:"Partial Content",207:"Multi-Status",208:"Already Reported",226:"IM Used",300:"Multiple Choices",301:"Moved Permanently",302:"Found",303:"See Other",304:"Not Modified",305:"Use Proxy",307:"Temporary Redirect",308:"Permanent Redirect",400:"Bad Request",401:"Unauthorized",402:"Payment Required",403:"Forbidden",404:"Not Found",405:"Method Not Allowed",406:"Not Acceptable",407:"Proxy Authentication Required",408:"Request Timeout",409:"Conflict",410:"Gone",411:"Length Required",412:"Precondition Failed",413:"Payload Too Large",414:"URI Too Long",415:"Unsupported Media Type",416:"Range Not Satisfiable",417:"Expectation Failed",418:"I'm a teapot",421:"Misdirected Request",422:"Unprocessable Entity",423:"Locked",424:"Failed Dependency",425:"Unordered Collection",426:"Upgrade Required",428:"Precondition Required",429:"Too Many Requests",431:"Request Header Fields Too Large",451:"Unavailable For Legal Reasons",500:"Internal Server Error",501:"Not Implemented",502:"Bad Gateway",503:"Service Unavailable",504:"Gateway Timeout",505:"HTTP Version Not Supported",506:"Variant Also Negotiates",507:"Insufficient Storage",508:"Loop Detected",509:"Bandwidth Limit Exceeded",510:"Not Extended",511:"Network Authentication Required"};});function wa(t){throw new RangeError(RH[t])}function Y0(t,e){let r=t.split("@"),n="";r.length>1&&(n=r[0]+"@",t=r[1]);let i=function(o,a){let s=[],u=o.length;for(;u--;)s[u]=a(o[u]);return s}((t=t.replace(bH,".")).split("."),e).join(".");return n+i}function X0(t){let e=[],r=0,n=t.length;for(;r<n;){let i=t.charCodeAt(r++);if(i>=55296&&i<=56319&&r<n){let o=t.charCodeAt(r++);(64512&o)==56320?e.push(((1023&i)<<10)+(1023&o)+65536):(e.push(i),r--);}else e.push(i);}return e}var wH,AH,bH,RH,li,Vv,J0,eN,Z0,Q0,Eo,Gv=Qt(()=>{y();p();h();m();wH=/^xn--/,AH=/[^\0-\x7E]/,bH=/[\x2E\u3002\uFF0E\uFF61]/g,RH={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},li=Math.floor,Vv=String.fromCharCode;J0=function(t,e){return t+22+75*(t<26)-((e!=0)<<5)},eN=function(t,e,r){let n=0;for(t=r?li(t/700):t>>1,t+=li(t/e);t>455;n+=36)t=li(t/35);return li(n+36*t/(t+38))},Z0=function(t){let e=[],r=t.length,n=0,i=128,o=72,a=t.lastIndexOf("-");a<0&&(a=0);for(let u=0;u<a;++u)t.charCodeAt(u)>=128&&wa("not-basic"),e.push(t.charCodeAt(u));for(let u=a>0?a+1:0;u<r;){let d=n;for(let g=1,C=36;;C+=36){u>=r&&wa("invalid-input");let S=(s=t.charCodeAt(u++))-48<10?s-22:s-65<26?s-65:s-97<26?s-97:36;(S>=36||S>li((2147483647-n)/g))&&wa("overflow"),n+=S*g;let E=C<=o?1:C>=o+26?26:C-o;if(S<E)break;let T=36-E;g>li(2147483647/T)&&wa("overflow"),g*=T;}let f=e.length+1;o=eN(n-d,f,d==0),li(n/f)>2147483647-i&&wa("overflow"),i+=li(n/f),n%=f,e.splice(n++,0,i);}var s;return String.fromCodePoint(...e)},Q0=function(t){let e=[],r=(t=X0(t)).length,n=128,i=0,o=72;for(let u of t)u<128&&e.push(Vv(u));let a=e.length,s=a;for(a&&e.push("-");s<r;){let u=2147483647;for(let f of t)f>=n&&f<u&&(u=f);let d=s+1;u-n>li((2147483647-i)/d)&&wa("overflow"),i+=(u-n)*d,n=u;for(let f of t)if(f<n&&++i>2147483647&&wa("overflow"),f==n){let g=i;for(let C=36;;C+=36){let S=C<=o?1:C>=o+26?26:C-o;if(g<S)break;let E=g-S,T=36-S;e.push(Vv(J0(S+E%T,0))),g=li(E/T);}e.push(Vv(J0(g,0))),o=eN(i,d,s==a),i=0,++s;}++i,++n;}return e.join("")},Eo={version:"2.1.0",ucs2:{decode:X0,encode:t=>String.fromCodePoint(...t)},decode:Z0,encode:Q0,toASCII:function(t){return Y0(t,function(e){return AH.test(e)?"xn--"+Q0(e):e})},toUnicode:function(t){return Y0(t,function(e){return wH.test(e)?Z0(e.slice(4).toLowerCase()):e})}};Eo.decode;Eo.encode;Eo.toASCII;Eo.toUnicode;Eo.ucs2;Eo.version;});function _H(t,e){return Object.prototype.hasOwnProperty.call(t,e)}var IH,tu,NH,ui,Wv=Qt(()=>{y();p();h();m();IH=function(t,e,r,n){e=e||"&",r=r||"=";var i={};if(typeof t!="string"||t.length===0)return i;var o=/\+/g;t=t.split(e);var a=1e3;n&&typeof n.maxKeys=="number"&&(a=n.maxKeys);var s=t.length;a>0&&s>a&&(s=a);for(var u=0;u<s;++u){var d,f,g,C,S=t[u].replace(o,"%20"),E=S.indexOf(r);E>=0?(d=S.substr(0,E),f=S.substr(E+1)):(d=S,f=""),g=decodeURIComponent(d),C=decodeURIComponent(f),_H(i,g)?Array.isArray(i[g])?i[g].push(C):i[g]=[i[g],C]:i[g]=C;}return i},tu=function(t){switch(typeof t){case"string":return t;case"boolean":return t?"true":"false";case"number":return isFinite(t)?t:"";default:return ""}},NH=function(t,e,r,n){return e=e||"&",r=r||"=",t===null&&(t=void 0),typeof t=="object"?Object.keys(t).map(function(i){var o=encodeURIComponent(tu(i))+r;return Array.isArray(t[i])?t[i].map(function(a){return o+encodeURIComponent(tu(a))}).join(e):o+encodeURIComponent(tu(t[i]))}).join(e):n?encodeURIComponent(tu(n))+r+encodeURIComponent(tu(t)):""},ui={};ui.decode=ui.parse=IH,ui.encode=ui.stringify=NH;ui.decode;ui.encode;ui.parse;ui.stringify;});function OH(){if(tN)return Kv;tN=!0;var t=Kv={},e,r;function n(){throw new Error("setTimeout has not been defined")}function i(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?e=setTimeout:e=n;}catch(T){e=n;}try{typeof clearTimeout=="function"?r=clearTimeout:r=i;}catch(T){r=i;}})();function o(T){if(e===setTimeout)return setTimeout(T,0);if((e===n||!e)&&setTimeout)return e=setTimeout,setTimeout(T,0);try{return e(T,0)}catch(_){try{return e.call(null,T,0)}catch(P){return e.call(this||fc,T,0)}}}function a(T){if(r===clearTimeout)return clearTimeout(T);if((r===i||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(T);try{return r(T)}catch(_){try{return r.call(null,T)}catch(P){return r.call(this||fc,T)}}}var s=[],u=!1,d,f=-1;function g(){!u||!d||(u=!1,d.length?s=d.concat(s):f=-1,s.length&&C());}function C(){if(!u){var T=o(g);u=!0;for(var _=s.length;_;){for(d=s,s=[];++f<_;)d&&d[f].run();f=-1,_=s.length;}d=null,u=!1,a(T);}}t.nextTick=function(T){var _=new Array(arguments.length-1);if(arguments.length>1)for(var P=1;P<arguments.length;P++)_[P-1]=arguments[P];s.push(new S(T,_)),s.length===1&&!u&&o(C);};function S(T,_){(this||fc).fun=T,(this||fc).array=_;}S.prototype.run=function(){(this||fc).fun.apply(null,(this||fc).array);},t.title="browser",t.browser=!0,t.env={},t.argv=[],t.version="",t.versions={};function E(){}return t.on=E,t.addListener=E,t.once=E,t.off=E,t.removeListener=E,t.removeAllListeners=E,t.emit=E,t.prependListener=E,t.prependOnceListener=E,t.listeners=function(T){return []},t.binding=function(T){throw new Error("process.binding is not supported")},t.cwd=function(){return "/"},t.chdir=function(T){throw new Error("process.chdir is not supported")},t.umask=function(){return 0},Kv}var Kv,tN,fc,ft,Aa=Qt(()=>{y();p();h();m();Kv={},tN=!1,fc=typeof globalThis!="undefined"?globalThis:typeof self!="undefined"?self:globalThis;ft=OH();ft.platform="browser";ft.addListener;ft.argv;ft.binding;ft.browser;ft.chdir;ft.cwd;ft.emit;ft.env;ft.listeners;ft.nextTick;ft.off;ft.on;ft.once;ft.prependListener;ft.prependOnceListener;ft.removeAllListeners;ft.removeListener;ft.title;ft.umask;ft.version;ft.versions;});function xH(){if(rN)return Yv;rN=!0;var t=ft;function e(o){if(typeof o!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(o))}function r(o,a){for(var s="",u=0,d=-1,f=0,g,C=0;C<=o.length;++C){if(C<o.length)g=o.charCodeAt(C);else {if(g===47)break;g=47;}if(g===47){if(!(d===C-1||f===1))if(d!==C-1&&f===2){if(s.length<2||u!==2||s.charCodeAt(s.length-1)!==46||s.charCodeAt(s.length-2)!==46){if(s.length>2){var S=s.lastIndexOf("/");if(S!==s.length-1){S===-1?(s="",u=0):(s=s.slice(0,S),u=s.length-1-s.lastIndexOf("/")),d=C,f=0;continue}}else if(s.length===2||s.length===1){s="",u=0,d=C,f=0;continue}}a&&(s.length>0?s+="/..":s="..",u=2);}else s.length>0?s+="/"+o.slice(d+1,C):s=o.slice(d+1,C),u=C-d-1;d=C,f=0;}else g===46&&f!==-1?++f:f=-1;}return s}function n(o,a){var s=a.dir||a.root,u=a.base||(a.name||"")+(a.ext||"");return s?s===a.root?s+u:s+o+u:u}var i={resolve:function(){for(var a="",s=!1,u,d=arguments.length-1;d>=-1&&!s;d--){var f;d>=0?f=arguments[d]:(u===void 0&&(u=t.cwd()),f=u),e(f),f.length!==0&&(a=f+"/"+a,s=f.charCodeAt(0)===47);}return a=r(a,!s),s?a.length>0?"/"+a:"/":a.length>0?a:"."},normalize:function(a){if(e(a),a.length===0)return ".";var s=a.charCodeAt(0)===47,u=a.charCodeAt(a.length-1)===47;return a=r(a,!s),a.length===0&&!s&&(a="."),a.length>0&&u&&(a+="/"),s?"/"+a:a},isAbsolute:function(a){return e(a),a.length>0&&a.charCodeAt(0)===47},join:function(){if(arguments.length===0)return ".";for(var a,s=0;s<arguments.length;++s){var u=arguments[s];e(u),u.length>0&&(a===void 0?a=u:a+="/"+u);}return a===void 0?".":i.normalize(a)},relative:function(a,s){if(e(a),e(s),a===s||(a=i.resolve(a),s=i.resolve(s),a===s))return "";for(var u=1;u<a.length&&a.charCodeAt(u)===47;++u);for(var d=a.length,f=d-u,g=1;g<s.length&&s.charCodeAt(g)===47;++g);for(var C=s.length,S=C-g,E=f<S?f:S,T=-1,_=0;_<=E;++_){if(_===E){if(S>E){if(s.charCodeAt(g+_)===47)return s.slice(g+_+1);if(_===0)return s.slice(g+_)}else f>E&&(a.charCodeAt(u+_)===47?T=_:_===0&&(T=0));break}var P=a.charCodeAt(u+_),M=s.charCodeAt(g+_);if(P!==M)break;P===47&&(T=_);}var D="";for(_=u+T+1;_<=d;++_)(_===d||a.charCodeAt(_)===47)&&(D.length===0?D+="..":D+="/..");return D.length>0?D+s.slice(g+T):(g+=T,s.charCodeAt(g)===47&&++g,s.slice(g))},_makeLong:function(a){return a},dirname:function(a){if(e(a),a.length===0)return ".";for(var s=a.charCodeAt(0),u=s===47,d=-1,f=!0,g=a.length-1;g>=1;--g)if(s=a.charCodeAt(g),s===47){if(!f){d=g;break}}else f=!1;return d===-1?u?"/":".":u&&d===1?"//":a.slice(0,d)},basename:function(a,s){if(s!==void 0&&typeof s!="string")throw new TypeError('"ext" argument must be a string');e(a);var u=0,d=-1,f=!0,g;if(s!==void 0&&s.length>0&&s.length<=a.length){if(s.length===a.length&&s===a)return "";var C=s.length-1,S=-1;for(g=a.length-1;g>=0;--g){var E=a.charCodeAt(g);if(E===47){if(!f){u=g+1;break}}else S===-1&&(f=!1,S=g+1),C>=0&&(E===s.charCodeAt(C)?--C===-1&&(d=g):(C=-1,d=S));}return u===d?d=S:d===-1&&(d=a.length),a.slice(u,d)}else {for(g=a.length-1;g>=0;--g)if(a.charCodeAt(g)===47){if(!f){u=g+1;break}}else d===-1&&(f=!1,d=g+1);return d===-1?"":a.slice(u,d)}},extname:function(a){e(a);for(var s=-1,u=0,d=-1,f=!0,g=0,C=a.length-1;C>=0;--C){var S=a.charCodeAt(C);if(S===47){if(!f){u=C+1;break}continue}d===-1&&(f=!1,d=C+1),S===46?s===-1?s=C:g!==1&&(g=1):s!==-1&&(g=-1);}return s===-1||d===-1||g===0||g===1&&s===d-1&&s===u+1?"":a.slice(s,d)},format:function(a){if(a===null||typeof a!="object")throw new TypeError('The "pathObject" argument must be of type Object. Received type '+typeof a);return n("/",a)},parse:function(a){e(a);var s={root:"",dir:"",base:"",ext:"",name:""};if(a.length===0)return s;var u=a.charCodeAt(0),d=u===47,f;d?(s.root="/",f=1):f=0;for(var g=-1,C=0,S=-1,E=!0,T=a.length-1,_=0;T>=f;--T){if(u=a.charCodeAt(T),u===47){if(!E){C=T+1;break}continue}S===-1&&(E=!1,S=T+1),u===46?g===-1?g=T:_!==1&&(_=1):g!==-1&&(_=-1);}return g===-1||S===-1||_===0||_===1&&g===S-1&&g===C+1?S!==-1&&(C===0&&d?s.base=s.name=a.slice(1,S):s.base=s.name=a.slice(C,S)):(C===0&&d?(s.name=a.slice(1,g),s.base=a.slice(1,S)):(s.name=a.slice(C,g),s.base=a.slice(C,S)),s.ext=a.slice(g,S)),C>0?s.dir=a.slice(0,C-1):d&&(s.dir="/"),s},sep:"/",delimiter:":",win32:null,posix:null};return i.posix=i,Yv=i,Yv}var Yv,rN,Pt,ru=Qt(()=>{y();p();h();m();Aa();Yv={},rN=!1;Pt=xH();});var zp={};Ut(zp,{URL:()=>s$,Url:()=>r$,default:()=>At,fileURLToPath:()=>Fp,format:()=>n$,parse:()=>a$,pathToFileURL:()=>cN,resolve:()=>i$,resolveObject:()=>o$});function Tn(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null;}function nu(t,e,r){if(t&&di.isObject(t)&&t instanceof Tn)return t;var n=new Tn;return n.parse(t,e,r),n}function FH(){if(aN)return Qv;aN=!0;var t=Rt;function e(o){if(typeof o!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(o))}function r(o,a){for(var s="",u=0,d=-1,f=0,g,C=0;C<=o.length;++C){if(C<o.length)g=o.charCodeAt(C);else {if(g===47)break;g=47;}if(g===47){if(!(d===C-1||f===1))if(d!==C-1&&f===2){if(s.length<2||u!==2||s.charCodeAt(s.length-1)!==46||s.charCodeAt(s.length-2)!==46){if(s.length>2){var S=s.lastIndexOf("/");if(S!==s.length-1){S===-1?(s="",u=0):(s=s.slice(0,S),u=s.length-1-s.lastIndexOf("/")),d=C,f=0;continue}}else if(s.length===2||s.length===1){s="",u=0,d=C,f=0;continue}}a&&(s.length>0?s+="/..":s="..",u=2);}else s.length>0?s+="/"+o.slice(d+1,C):s=o.slice(d+1,C),u=C-d-1;d=C,f=0;}else g===46&&f!==-1?++f:f=-1;}return s}function n(o,a){var s=a.dir||a.root,u=a.base||(a.name||"")+(a.ext||"");return s?s===a.root?s+u:s+o+u:u}var i={resolve:function(){for(var a="",s=!1,u,d=arguments.length-1;d>=-1&&!s;d--){var f;d>=0?f=arguments[d]:(u===void 0&&(u=t.cwd()),f=u),e(f),f.length!==0&&(a=f+"/"+a,s=f.charCodeAt(0)===47);}return a=r(a,!s),s?a.length>0?"/"+a:"/":a.length>0?a:"."},normalize:function(a){if(e(a),a.length===0)return ".";var s=a.charCodeAt(0)===47,u=a.charCodeAt(a.length-1)===47;return a=r(a,!s),a.length===0&&!s&&(a="."),a.length>0&&u&&(a+="/"),s?"/"+a:a},isAbsolute:function(a){return e(a),a.length>0&&a.charCodeAt(0)===47},join:function(){if(arguments.length===0)return ".";for(var a,s=0;s<arguments.length;++s){var u=arguments[s];e(u),u.length>0&&(a===void 0?a=u:a+="/"+u);}return a===void 0?".":i.normalize(a)},relative:function(a,s){if(e(a),e(s),a===s||(a=i.resolve(a),s=i.resolve(s),a===s))return "";for(var u=1;u<a.length&&a.charCodeAt(u)===47;++u);for(var d=a.length,f=d-u,g=1;g<s.length&&s.charCodeAt(g)===47;++g);for(var C=s.length,S=C-g,E=f<S?f:S,T=-1,_=0;_<=E;++_){if(_===E){if(S>E){if(s.charCodeAt(g+_)===47)return s.slice(g+_+1);if(_===0)return s.slice(g+_)}else f>E&&(a.charCodeAt(u+_)===47?T=_:_===0&&(T=0));break}var P=a.charCodeAt(u+_),M=s.charCodeAt(g+_);if(P!==M)break;P===47&&(T=_);}var D="";for(_=u+T+1;_<=d;++_)(_===d||a.charCodeAt(_)===47)&&(D.length===0?D+="..":D+="/..");return D.length>0?D+s.slice(g+T):(g+=T,s.charCodeAt(g)===47&&++g,s.slice(g))},_makeLong:function(a){return a},dirname:function(a){if(e(a),a.length===0)return ".";for(var s=a.charCodeAt(0),u=s===47,d=-1,f=!0,g=a.length-1;g>=1;--g)if(s=a.charCodeAt(g),s===47){if(!f){d=g;break}}else f=!1;return d===-1?u?"/":".":u&&d===1?"//":a.slice(0,d)},basename:function(a,s){if(s!==void 0&&typeof s!="string")throw new TypeError('"ext" argument must be a string');e(a);var u=0,d=-1,f=!0,g;if(s!==void 0&&s.length>0&&s.length<=a.length){if(s.length===a.length&&s===a)return "";var C=s.length-1,S=-1;for(g=a.length-1;g>=0;--g){var E=a.charCodeAt(g);if(E===47){if(!f){u=g+1;break}}else S===-1&&(f=!1,S=g+1),C>=0&&(E===s.charCodeAt(C)?--C===-1&&(d=g):(C=-1,d=S));}return u===d?d=S:d===-1&&(d=a.length),a.slice(u,d)}else {for(g=a.length-1;g>=0;--g)if(a.charCodeAt(g)===47){if(!f){u=g+1;break}}else d===-1&&(f=!1,d=g+1);return d===-1?"":a.slice(u,d)}},extname:function(a){e(a);for(var s=-1,u=0,d=-1,f=!0,g=0,C=a.length-1;C>=0;--C){var S=a.charCodeAt(C);if(S===47){if(!f){u=C+1;break}continue}d===-1&&(f=!1,d=C+1),S===46?s===-1?s=C:g!==1&&(g=1):s!==-1&&(g=-1);}return s===-1||d===-1||g===0||g===1&&s===d-1&&s===u+1?"":a.slice(s,d)},format:function(a){if(a===null||typeof a!="object")throw new TypeError('The "pathObject" argument must be of type Object. Received type '+typeof a);return n("/",a)},parse:function(a){e(a);var s={root:"",dir:"",base:"",ext:"",name:""};if(a.length===0)return s;var u=a.charCodeAt(0),d=u===47,f;d?(s.root="/",f=1):f=0;for(var g=-1,C=0,S=-1,E=!0,T=a.length-1,_=0;T>=f;--T){if(u=a.charCodeAt(T),u===47){if(!E){C=T+1;break}continue}S===-1&&(E=!1,S=T+1),u===46?g===-1?g=T:_!==1&&(_=1):g!==-1&&(_=-1);}return g===-1||S===-1||_===0||_===1&&g===S-1&&g===C+1?S!==-1&&(C===0&&d?s.base=s.name=a.slice(1,S):s.base=s.name=a.slice(C,S)):(C===0&&d?(s.name=a.slice(1,g),s.base=a.slice(1,S)):(s.name=a.slice(C,g),s.base=a.slice(C,S)),s.ext=a.slice(g,S)),C>0?s.dir=a.slice(0,C-1):d&&(s.dir="/"),s},sep:"/",delimiter:":",win32:null,posix:null};return i.posix=i,Qv=i,Qv}function ZH(t){if(typeof t=="string")t=new URL(t);else if(!(t instanceof URL))throw new Deno.errors.InvalidData("invalid argument path , must be a string or URL");if(t.protocol!=="file:")throw new Deno.errors.InvalidData("invalid url scheme");return eE?QH(t):XH(t)}function QH(t){let e=t.hostname,r=t.pathname;for(let n=0;n<r.length;n++)if(r[n]==="%"){let i=r.codePointAt(n+2)||32;if(r[n+1]==="2"&&i===102||r[n+1]==="5"&&i===99)throw new Deno.errors.InvalidData("must not include encoded \\ or / characters")}if(r=r.replace(VH,"\\"),r=decodeURIComponent(r),e!=="")return `\\\\${e}${r}`;{let n=r.codePointAt(1)|32,i=r[2];if(n<HH||n>$H||i!==":")throw new Deno.errors.InvalidData("file url path must be absolute");return r.slice(1)}}function XH(t){if(t.hostname!=="")throw new Deno.errors.InvalidData("invalid file url hostname");let e=t.pathname;for(let r=0;r<e.length;r++)if(e[r]==="%"){let n=e.codePointAt(r+2)||32;if(e[r+1]==="2"&&n===102)throw new Deno.errors.InvalidData("must not include encoded / characters")}return decodeURIComponent(e)}function e$(t){let e=sN.resolve(t),r=t.charCodeAt(t.length-1);(r===jH||eE&&r===qH)&&e[e.length-1]!==sN.sep&&(e+="/");let n=new URL("file://");return e.includes("%")&&(e=e.replace(GH,"%25")),!eE&&e.includes("\\")&&(e=e.replace(WH,"%5C")),e.includes(`
`)&&(e=e.replace(KH,"%0A")),e.includes("\r")&&(e=e.replace(YH,"%0D")),e.includes("	")&&(e=e.replace(JH,"%09")),n.pathname=e,n}function Fp(t){if(typeof t=="string")t=new URL(t);else if(!(t instanceof URL))throw new Deno.errors.InvalidData("invalid argument path , must be a string or URL");if(t.protocol!=="file:")throw new Deno.errors.InvalidData("invalid url scheme");return tE?v$(t):E$(t)}function v$(t){let e=t.hostname,r=t.pathname;for(let n=0;n<r.length;n++)if(r[n]==="%"){let i=r.codePointAt(n+2)||32;if(r[n+1]==="2"&&i===102||r[n+1]==="5"&&i===99)throw new Deno.errors.InvalidData("must not include encoded \\ or / characters")}if(r=r.replace(f$,"\\"),r=decodeURIComponent(r),e!=="")return `\\\\${e}${r}`;{let n=r.codePointAt(1)|32,i=r[2];if(n<u$||n>d$||i!==":")throw new Deno.errors.InvalidData("file url path must be absolute");return r.slice(1)}}function E$(t){if(t.hostname!=="")throw new Deno.errors.InvalidData("invalid file url hostname");let e=t.pathname;for(let r=0;r<e.length;r++)if(e[r]==="%"){let n=e.codePointAt(r+2)||32;if(e[r+1]==="2"&&n===102)throw new Deno.errors.InvalidData("must not include encoded / characters")}return decodeURIComponent(e)}function cN(t){let e=Pt.resolve(t),r=t.charCodeAt(t.length-1);(r===l$||tE&&r===c$)&&e[e.length-1]!==Pt.sep&&(e+="/");let n=new URL("file://");return e.includes("%")&&(e=e.replace(p$,"%25")),!tE&&e.includes("\\")&&(e=e.replace(h$,"%5C")),e.includes(`
`)&&(e=e.replace(m$,"%0A")),e.includes("\r")&&(e=e.replace(y$,"%0D")),e.includes("	")&&(e=e.replace(g$,"%09")),n.pathname=e,n}var At,kH,di,PH,MH,UH,BH,Xv,nN,iN,oN,DH,LH,Jv,pc,Zv,Qv,aN,sN,zH,qH,jH,HH,$H,eE,VH,GH,WH,KH,YH,JH,t$,r$,n$,i$,o$,a$,s$,c$,l$,u$,d$,tE,f$,p$,h$,m$,y$,g$,iu=Qt(()=>{y();p();h();m();Gv();Wv();so();ru();Aa();At={},kH=Eo,di={isString:function(t){return typeof t=="string"},isObject:function(t){return typeof t=="object"&&t!==null},isNull:function(t){return t===null},isNullOrUndefined:function(t){return t==null}};At.parse=nu,At.resolve=function(t,e){return nu(t,!1,!0).resolve(e)},At.resolveObject=function(t,e){return t?nu(t,!1,!0).resolveObject(e):e},At.format=function(t){return di.isString(t)&&(t=nu(t)),t instanceof Tn?t.format():Tn.prototype.format.call(t)},At.Url=Tn;PH=/^([a-z0-9.+-]+:)/i,MH=/:[0-9]*$/,UH=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,BH=["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r",`
`,"	"]),Xv=["'"].concat(BH),nN=["%","/","?",";","#"].concat(Xv),iN=["/","?","#"],oN=/^[+a-z0-9A-Z_-]{0,63}$/,DH=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,LH={javascript:!0,"javascript:":!0},Jv={javascript:!0,"javascript:":!0},pc={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},Zv=ui;Tn.prototype.parse=function(t,e,r){if(!di.isString(t))throw new TypeError("Parameter 'url' must be a string, not "+typeof t);var n=t.indexOf("?"),i=n!==-1&&n<t.indexOf("#")?"?":"#",o=t.split(i);o[0]=o[0].replace(/\\/g,"/");var a=t=o.join(i);if(a=a.trim(),!r&&t.split("#").length===1){var s=UH.exec(a);if(s)return this.path=a,this.href=a,this.pathname=s[1],s[2]?(this.search=s[2],this.query=e?Zv.parse(this.search.substr(1)):this.search.substr(1)):e&&(this.search="",this.query={}),this}var u=PH.exec(a);if(u){var d=(u=u[0]).toLowerCase();this.protocol=d,a=a.substr(u.length);}if(r||u||a.match(/^\/\/[^@\/]+@[^@\/]+/)){var f=a.substr(0,2)==="//";!f||u&&Jv[u]||(a=a.substr(2),this.slashes=!0);}if(!Jv[u]&&(f||u&&!pc[u])){for(var g,C,S=-1,E=0;E<iN.length;E++)(T=a.indexOf(iN[E]))!==-1&&(S===-1||T<S)&&(S=T);for((C=S===-1?a.lastIndexOf("@"):a.lastIndexOf("@",S))!==-1&&(g=a.slice(0,C),a=a.slice(C+1),this.auth=decodeURIComponent(g)),S=-1,E=0;E<nN.length;E++){var T;(T=a.indexOf(nN[E]))!==-1&&(S===-1||T<S)&&(S=T);}S===-1&&(S=a.length),this.host=a.slice(0,S),a=a.slice(S),this.parseHost(),this.hostname=this.hostname||"";var _=this.hostname[0]==="["&&this.hostname[this.hostname.length-1]==="]";if(!_)for(var P=this.hostname.split(/\./),M=(E=0,P.length);E<M;E++){var D=P[E];if(D&&!D.match(oN)){for(var V="",Y=0,_e=D.length;Y<_e;Y++)D.charCodeAt(Y)>127?V+="x":V+=D[Y];if(!V.match(oN)){var ue=P.slice(0,E),le=P.slice(E+1),fe=D.match(DH);fe&&(ue.push(fe[1]),le.unshift(fe[2])),le.length&&(a="/"+le.join(".")+a),this.hostname=ue.join(".");break}}}this.hostname.length>255?this.hostname="":this.hostname=this.hostname.toLowerCase(),_||(this.hostname=kH.toASCII(this.hostname));var ve=this.port?":"+this.port:"",H=this.hostname||"";this.host=H+ve,this.href+=this.host,_&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),a[0]!=="/"&&(a="/"+a));}if(!LH[d])for(E=0,M=Xv.length;E<M;E++){var X=Xv[E];if(a.indexOf(X)!==-1){var Ae=encodeURIComponent(X);Ae===X&&(Ae=escape(X)),a=a.split(X).join(Ae);}}var Te=a.indexOf("#");Te!==-1&&(this.hash=a.substr(Te),a=a.slice(0,Te));var Ee=a.indexOf("?");if(Ee!==-1?(this.search=a.substr(Ee),this.query=a.substr(Ee+1),e&&(this.query=Zv.parse(this.query)),a=a.slice(0,Ee)):e&&(this.search="",this.query={}),a&&(this.pathname=a),pc[d]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){ve=this.pathname||"";var Se=this.search||"";this.path=ve+Se;}return this.href=this.format(),this},Tn.prototype.format=function(){var t=this.auth||"";t&&(t=(t=encodeURIComponent(t)).replace(/%3A/i,":"),t+="@");var e=this.protocol||"",r=this.pathname||"",n=this.hash||"",i=!1,o="";this.host?i=t+this.host:this.hostname&&(i=t+(this.hostname.indexOf(":")===-1?this.hostname:"["+this.hostname+"]"),this.port&&(i+=":"+this.port)),this.query&&di.isObject(this.query)&&Object.keys(this.query).length&&(o=Zv.stringify(this.query));var a=this.search||o&&"?"+o||"";return e&&e.substr(-1)!==":"&&(e+=":"),this.slashes||(!e||pc[e])&&i!==!1?(i="//"+(i||""),r&&r.charAt(0)!=="/"&&(r="/"+r)):i||(i=""),n&&n.charAt(0)!=="#"&&(n="#"+n),a&&a.charAt(0)!=="?"&&(a="?"+a),e+i+(r=r.replace(/[?#]/g,function(s){return encodeURIComponent(s)}))+(a=a.replace("#","%23"))+n},Tn.prototype.resolve=function(t){return this.resolveObject(nu(t,!1,!0)).format()},Tn.prototype.resolveObject=function(t){if(di.isString(t)){var e=new Tn;e.parse(t,!1,!0),t=e;}for(var r=new Tn,n=Object.keys(this),i=0;i<n.length;i++){var o=n[i];r[o]=this[o];}if(r.hash=t.hash,t.href==="")return r.href=r.format(),r;if(t.slashes&&!t.protocol){for(var a=Object.keys(t),s=0;s<a.length;s++){var u=a[s];u!=="protocol"&&(r[u]=t[u]);}return pc[r.protocol]&&r.hostname&&!r.pathname&&(r.path=r.pathname="/"),r.href=r.format(),r}if(t.protocol&&t.protocol!==r.protocol){if(!pc[t.protocol]){for(var d=Object.keys(t),f=0;f<d.length;f++){var g=d[f];r[g]=t[g];}return r.href=r.format(),r}if(r.protocol=t.protocol,t.host||Jv[t.protocol])r.pathname=t.pathname;else {for(var C=(t.pathname||"").split("/");C.length&&!(t.host=C.shift()););t.host||(t.host=""),t.hostname||(t.hostname=""),C[0]!==""&&C.unshift(""),C.length<2&&C.unshift(""),r.pathname=C.join("/");}if(r.search=t.search,r.query=t.query,r.host=t.host||"",r.auth=t.auth,r.hostname=t.hostname||t.host,r.port=t.port,r.pathname||r.search){var S=r.pathname||"",E=r.search||"";r.path=S+E;}return r.slashes=r.slashes||t.slashes,r.href=r.format(),r}var T=r.pathname&&r.pathname.charAt(0)==="/",_=t.host||t.pathname&&t.pathname.charAt(0)==="/",P=_||T||r.host&&t.pathname,M=P,D=r.pathname&&r.pathname.split("/")||[],V=(C=t.pathname&&t.pathname.split("/")||[],r.protocol&&!pc[r.protocol]);if(V&&(r.hostname="",r.port=null,r.host&&(D[0]===""?D[0]=r.host:D.unshift(r.host)),r.host="",t.protocol&&(t.hostname=null,t.port=null,t.host&&(C[0]===""?C[0]=t.host:C.unshift(t.host)),t.host=null),P=P&&(C[0]===""||D[0]==="")),_)r.host=t.host||t.host===""?t.host:r.host,r.hostname=t.hostname||t.hostname===""?t.hostname:r.hostname,r.search=t.search,r.query=t.query,D=C;else if(C.length)D||(D=[]),D.pop(),D=D.concat(C),r.search=t.search,r.query=t.query;else if(!di.isNullOrUndefined(t.search))return V&&(r.hostname=r.host=D.shift(),(fe=!!(r.host&&r.host.indexOf("@")>0)&&r.host.split("@"))&&(r.auth=fe.shift(),r.host=r.hostname=fe.shift())),r.search=t.search,r.query=t.query,di.isNull(r.pathname)&&di.isNull(r.search)||(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.href=r.format(),r;if(!D.length)return r.pathname=null,r.search?r.path="/"+r.search:r.path=null,r.href=r.format(),r;for(var Y=D.slice(-1)[0],_e=(r.host||t.host||D.length>1)&&(Y==="."||Y==="..")||Y==="",ue=0,le=D.length;le>=0;le--)(Y=D[le])==="."?D.splice(le,1):Y===".."?(D.splice(le,1),ue++):ue&&(D.splice(le,1),ue--);if(!P&&!M)for(;ue--;ue)D.unshift("..");!P||D[0]===""||D[0]&&D[0].charAt(0)==="/"||D.unshift(""),_e&&D.join("/").substr(-1)!=="/"&&D.push("");var fe,ve=D[0]===""||D[0]&&D[0].charAt(0)==="/";return V&&(r.hostname=r.host=ve?"":D.length?D.shift():"",(fe=!!(r.host&&r.host.indexOf("@")>0)&&r.host.split("@"))&&(r.auth=fe.shift(),r.host=r.hostname=fe.shift())),(P=P||r.host&&D.length)&&!ve&&D.unshift(""),D.length?r.pathname=D.join("/"):(r.pathname=null,r.path=null),di.isNull(r.pathname)&&di.isNull(r.search)||(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.auth=t.auth||r.auth,r.slashes=r.slashes||t.slashes,r.href=r.format(),r},Tn.prototype.parseHost=function(){var t=this.host,e=MH.exec(t);e&&((e=e[0])!==":"&&(this.port=e.substr(1)),t=t.substr(0,t.length-e.length)),t&&(this.hostname=t);};At.Url;At.format;At.resolve;At.resolveObject;Qv={},aN=!1;sN=FH(),zH=typeof Deno!="undefined"?Deno.build.os==="windows"?"win32":Deno.build.os:void 0;At.URL=typeof URL!="undefined"?URL:null;At.pathToFileURL=e$;At.fileURLToPath=ZH;At.Url;At.format;At.resolve;At.resolveObject;At.URL;qH=92,jH=47,HH=97,$H=122,eE=zH==="win32",VH=/\//g,GH=/%/g,WH=/\\/g,KH=/\n/g,YH=/\r/g,JH=/\t/g;t$=typeof Deno!="undefined"?Deno.build.os==="windows"?"win32":Deno.build.os:void 0;At.URL=typeof URL!="undefined"?URL:null;At.pathToFileURL=cN;At.fileURLToPath=Fp;r$=At.Url,n$=At.format,i$=At.resolve,o$=At.resolveObject,a$=At.parse,s$=At.URL,c$=92,l$=47,u$=97,d$=122,tE=t$==="win32",f$=/\//g,p$=/%/g,h$=/\\/g,m$=/\n/g,y$=/\r/g,g$=/\t/g;});var hc=ce(uN=>{y();p();h();m();var lN=$0(),C$=Hv(),S$=G0(),T$=K0(),w$=(iu(),ar(zp)),Ln=uN;Ln.request=function(t,e){typeof t=="string"?t=w$.parse(t):t=S$(t);var r=globalThis.location.protocol.search(/^https?:$/)===-1?"http:":"",n=t.protocol||r,i=t.hostname||t.host,o=t.port,a=t.path||"/";i&&i.indexOf(":")!==-1&&(i="["+i+"]"),t.url=(i?n+"//"+i:"")+(o?":"+o:"")+a,t.method=(t.method||"GET").toUpperCase(),t.headers=t.headers||{};var s=new lN(t);return e&&s.on("response",e),s};Ln.get=function(e,r){var n=Ln.request(e,r);return n.end(),n};Ln.ClientRequest=lN;Ln.IncomingMessage=C$.IncomingMessage;Ln.Agent=function(){};Ln.Agent.defaultMaxSockets=4;Ln.globalAgent=new Ln.Agent;Ln.STATUS_CODES=T$;Ln.METHODS=["CHECKOUT","CONNECT","COPY","DELETE","GET","HEAD","LOCK","M-SEARCH","MERGE","MKACTIVITY","MKCOL","MOVE","NOTIFY","OPTIONS","PATCH","POST","PROPFIND","PROPPATCH","PURGE","PUT","REPORT","SEARCH","SUBSCRIBE","TRACE","UNLOCK","UNSUBSCRIBE"];});var nE=ce((Lie,fN)=>{y();p();h();m();var ou=hc(),A$=(iu(),ar(zp)),rE=fN.exports;for(qp in ou)ou.hasOwnProperty(qp)&&(rE[qp]=ou[qp]);var qp;rE.request=function(t,e){return t=dN(t),ou.request.call(this,t,e)};rE.get=function(t,e){return t=dN(t),ou.get.call(this,t,e)};function dN(t){if(typeof t=="string"&&(t=A$.parse(t)),t.protocol||(t.protocol="https:"),t.protocol!=="https:")throw new Error('Protocol "'+t.protocol+'" not supported. Expected "https:"');return t}});var mN=ce(jr=>{y();p();h();m();var b$=jr&&jr.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i);}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r];}),R$=jr&&jr.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e});}:function(t,e){t.default=e;}),pN=jr&&jr.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&b$(e,t,r);return R$(e,t),e};Object.defineProperty(jr,"__esModule",{value:!0});jr.req=jr.json=jr.toBuffer=void 0;var _$=pN(hc()),I$=pN(nE());function hN(t){return L(this,null,function*(){let e=0,r=[];try{for(var n=df(t),i,o,a;i=!(o=yield n.next()).done;i=!1){let s=o.value;e+=s.length,r.push(s);}}catch(o){a=[o];}finally{try{i&&(o=n.return)&&(yield o.call(n));}finally{if(a)throw a[0]}}return R.Buffer.concat(r,e)})}jr.toBuffer=hN;function N$(t){return L(this,null,function*(){let r=(yield hN(t)).toString("utf8");try{return JSON.parse(r)}catch(n){let i=n;throw i.message+=` (input: ${r})`,i}})}jr.json=N$;function O$(t,e={}){let n=((typeof t=="string"?t:t.href).startsWith("https:")?I$:_$).request(t,e),i=new Promise((o,a)=>{n.once("response",o).once("error",a).end();});return n.then=i.then.bind(i),n}jr.req=O$;});var vN=ce(Qr=>{y();p();h();m();var gN=Qr&&Qr.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i);}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r];}),x$=Qr&&Qr.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e});}:function(t,e){t.default=e;}),k$=Qr&&Qr.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&gN(e,t,r);return x$(e,t),e},P$=Qr&&Qr.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&gN(e,t,r);};Object.defineProperty(Qr,"__esModule",{value:!0});Qr.Agent=void 0;var yN=k$(hc());P$(mN(),Qr);var fi=Symbol("AgentBaseInternalState"),iE=class extends yN.Agent{constructor(e){super(e),this[fi]={};}isSecureEndpoint(e){if(e){if(typeof e.secureEndpoint=="boolean")return e.secureEndpoint;if(typeof e.protocol=="string")return e.protocol==="https:"}let{stack:r}=new Error;return typeof r!="string"?!1:r.split(`
`).some(n=>n.indexOf("(https.js:")!==-1||n.indexOf("node:https:")!==-1)}createSocket(e,r,n){let i=ae(q({},r),{secureEndpoint:this.isSecureEndpoint(r)});Promise.resolve().then(()=>this.connect(e,i)).then(o=>{if(o instanceof yN.Agent)return o.addRequest(e,i);this[fi].currentSocket=o,super.createSocket(e,r,n);},n);}createConnection(){let e=this[fi].currentSocket;if(this[fi].currentSocket=void 0,!e)throw new Error("No socket was returned in the `connect()` function");return e}get defaultPort(){var e;return (e=this[fi].defaultPort)!=null?e:this.protocol==="https:"?443:80}set defaultPort(e){this[fi]&&(this[fi].defaultPort=e);}get protocol(){var e;return (e=this[fi].protocol)!=null?e:this.isSecureEndpoint()?"https:":"http:"}set protocol(e){this[fi]&&(this[fi].protocol=e);}};Qr.Agent=iE;});var EN=ce(mc=>{y();p();h();m();var M$=mc&&mc.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(mc,"__esModule",{value:!0});mc.parseProxyResponse=void 0;var U$=M$(Bv()),jp=(0, U$.default)("https-proxy-agent:parse-proxy-response");function B$(t){return new Promise((e,r)=>{let n=0,i=[];function o(){let f=t.read();f?d(f):t.once("readable",o);}function a(){t.removeListener("end",s),t.removeListener("error",u),t.removeListener("readable",o);}function s(){a(),jp("onend"),r(new Error("Proxy connection ended before receiving CONNECT response"));}function u(f){a(),jp("onerror %o",f),r(f);}function d(f){i.push(f),n+=f.length;let g=R.Buffer.concat(i,n),C=g.indexOf(`\r
\r
`);if(C===-1){jp("have not received end of HTTP headers yet..."),o();return}let S=g.slice(0,C).toString("ascii").split(`\r
`),E=S.shift();if(!E)return t.destroy(),r(new Error("No header received from proxy CONNECT response"));let T=E.split(" "),_=+T[1],P=T.slice(2).join(" "),M={};for(let D of S){if(!D)continue;let V=D.indexOf(":");if(V===-1)return t.destroy(),r(new Error(`Invalid header from proxy CONNECT response: "${D}"`));let Y=D.slice(0,V).toLowerCase(),_e=D.slice(V+1).trimStart(),ue=M[Y];typeof ue=="string"?M[Y]=[ue,_e]:Array.isArray(ue)?ue.push(_e):M[Y]=_e;}jp("got proxy server response: %o %o",E,M),a(),e({connect:{statusCode:_,statusText:P,headers:M},buffered:g});}t.on("error",u),t.on("end",s),o();})}mc.parseProxyResponse=B$;});var AN=ce(wn=>{y();p();h();m();var D$=wn&&wn.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i);}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r];}),L$=wn&&wn.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e});}:function(t,e){t.default=e;}),TN=wn&&wn.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&D$(e,t,r);return L$(e,t),e},wN=wn&&wn.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(wn,"__esModule",{value:!0});wn.HttpsProxyAgent=void 0;var oE=TN((LI(),ar(DI))),CN=TN((zI(),ar(FI))),F$=wN((En(),ar(P0))),z$=wN(Bv()),q$=vN(),j$=(iu(),ar(zp)),H$=EN(),au=(0, z$.default)("https-proxy-agent"),Hp=class extends q$.Agent{constructor(e,r){var o;super(r),this.options={path:void 0},this.proxy=typeof e=="string"?new j$.URL(e):e,this.proxyHeaders=(o=r==null?void 0:r.headers)!=null?o:{},au("Creating new HttpsProxyAgent instance: %o",this.proxy.href);let n=(this.proxy.hostname||this.proxy.host).replace(/^\[|\]$/g,""),i=this.proxy.port?parseInt(this.proxy.port,10):this.proxy.protocol==="https:"?443:80;this.connectOpts=ae(q({ALPNProtocols:["http/1.1"]},r?SN(r,"headers"):null),{host:n,port:i});}connect(e,r){return L(this,null,function*(){let{proxy:n}=this;if(!r.host)throw new TypeError('No "host" provided');let i;if(n.protocol==="https:"){au("Creating `tls.Socket`: %o",this.connectOpts);let C=this.connectOpts.servername||this.connectOpts.host;i=CN.connect(ae(q({},this.connectOpts),{servername:C}));}else au("Creating `net.Socket`: %o",this.connectOpts),i=oE.connect(this.connectOpts);let o=typeof this.proxyHeaders=="function"?this.proxyHeaders():q({},this.proxyHeaders),a=oE.isIPv6(r.host)?`[${r.host}]`:r.host,s=`CONNECT ${a}:${r.port} HTTP/1.1\r
`;if(n.username||n.password){let C=`${decodeURIComponent(n.username)}:${decodeURIComponent(n.password)}`;o["Proxy-Authorization"]=`Basic ${R.Buffer.from(C).toString("base64")}`;}o.Host=`${a}:${r.port}`,o["Proxy-Connection"]||(o["Proxy-Connection"]=this.keepAlive?"Keep-Alive":"close");for(let C of Object.keys(o))s+=`${C}: ${o[C]}\r
`;let u=(0, H$.parseProxyResponse)(i);i.write(`${s}\r
`);let{connect:d,buffered:f}=yield u;if(e.emit("proxyConnect",d),this.emit("proxyConnect",d,e),d.statusCode===200){if(e.once("socket",$$),r.secureEndpoint){au("Upgrading socket connection to TLS");let C=r.servername||r.host;return CN.connect(ae(q({},SN(r,"host","path","port")),{socket:i,servername:C}))}return i}i.destroy();let g=new oE.Socket({writable:!1});return g.readable=!0,e.once("socket",C=>{au("Replaying proxy buffer for failed request"),(0, F$.default)(C.listenerCount("data")>0),C.push(f),C.push(null);}),g})}};Hp.protocols=["http","https"];wn.HttpsProxyAgent=Hp;function $$(t){t.resume();}function SN(t,...e){let r={},n;for(n in t)e.includes(n)||(r[n]=t[n]);return r}});var GN=ce((Xle,g4)=>{g4.exports={name:"botframework-connector",author:"Microsoft Corp.",description:"Bot Connector is autorest generated connector client.",version:"4.1.6",license:"MIT",keywords:["botconnector","bots","chatbots"],bugs:{url:"https://github.com/Microsoft/botbuilder-js/issues"},repository:{type:"git",url:"https://github.com/Microsoft/botbuilder-js.git"},main:"lib/index.js",browser:"lib/browser.js",types:"lib/index.d.ts",typesVersions:{"<3.9":{"*":["_ts3.4/*"]}},dependencies:{"@azure/core-rest-pipeline":"^1.18.1","@azure/identity":"^4.4.1","@azure/msal-node":"^2.13.1","@types/jsonwebtoken":"9.0.6",axios:"^1.8.2",base64url:"^3.0.0","botbuilder-stdlib":"4.1.6","botframework-schema":"4.1.6",buffer:"^6.0.3","cross-fetch":"^4.0.0","https-proxy-agent":"^7.0.5",jsonwebtoken:"^9.0.2","node-fetch":"^2.7.0","openssl-wrapper":"^0.3.4","rsa-pem-from-mod-exp":"^0.8.6",zod:"^3.23.8"},devDependencies:{"@types/node":"^18.19.123","botbuilder-test-utils":"0.0.0",dotenv:"^16.4.5",nock:"^13.5.5",should:"^13.2.3",uuid:"^11.0.5"},scripts:{build:"tsc -b","build:browser":"npm-run-all build:browser:clean build:browser:run","build:browser:clean":"rimraf --glob lib/browser.*","build:browser:run":"tsup --config ../../tsup/browser.config.ts","build:downlevel-dts":"downlevel-dts lib _ts3.4/lib --checksum",clean:"rimraf _ts3.4 lib tsconfig.tsbuildinfo",depcheck:"depcheck --config ../../.depcheckrc --ignores azure,sinon,browserify-fs,buffer,https-browserify,stream-browserify,stream-http",lint:"eslint .",postbuild:"npm-run-all -p build:browser build:downlevel-dts",test:"yarn build && yarn test:mocha","test:mocha":"nyc mocha tests --recursive"},files:["_ts3.4","lib","src"]};});var MP={};Ut(MP,{ChildProcess:()=>bi,_forkChild:()=>bi,default:()=>lG,exec:()=>bi,execFile:()=>bi,execFileSync:()=>bi,execSync:()=>bi,fork:()=>bi,spawn:()=>bi,spawnSync:()=>bi});function bi(){throw new Error("Node.js child_process is not supported by JSPM core in the browser")}var lG,UP=Qt(()=>{y();p();h();m();lG={_forkChild:bi,ChildProcess:bi,exec:bi,execFile:bi,execFileSync:bi,execSync:bi,fork:bi,spawn:bi,spawnSync:bi};});var LP=ce(Jd=>{y();p();h();m();Object.defineProperty(Jd,"__esModule",{value:!0});Jd.exec=void 0;Jd.default=DP;var uG=(UP(),ar(MP)),BP=function(e){return typeof e=="function"},dG={"cms.verify":/^verification successful/i,genrsa:/^generating/i,pkcs12:/^mac verified ok/i,"req.new":/^generating/i,"req.verify":/^verify ok/i,rsa:/^writing rsa key/i,"smime.verify":/^verification successful/i,"x509.req":/^signature ok/i};function DP(t,e,r,n){var i=e,o=r,a=n;R.Buffer.isBuffer(i)||(a=o,o=i,i=!1),BP(o)&&(a=o,o={});var s=t.split(".").map(function(E,T){return T?"-"+E:E}),u=[];Object.keys(o).forEach(function(E){o[E]===!1?u.push(E):o[E]===!0?s.push("-"+E):Array.isArray(o[E])?o[E].forEach(function(T){s.push("-"+E,T);}):s.push("-"+E,o[E]);}),s=s.concat(u);var d=(0, uG.spawn)("openssl",s),f=[],g=0,C=[],S=0;return d.stdout.on("data",function(E){g+=E.length,f.push(E);}),d.stderr.on("data",function(E){S+=E.length,C.push(E);}),d.on("close",function(E){var T=R.Buffer.concat(f,g),_=R.Buffer.concat(C,S).toString("utf8"),P=dG[t],M=null;(E||_&&P&&!_.match(P))&&(M=new Error(_),M.code=E),BP(a)&&a.apply(null,[M,T]);}),i&&d.stdin.write(i),d.stdin.end(),d}Jd.exec=DP;});var yM=ce((Jo,mM)=>{y();p();h();m();var wy=typeof globalThis!="undefined"&&globalThis||typeof self!="undefined"&&self||typeof globalThis!="undefined"&&globalThis,Ay=function(){function t(){this.fetch=!1,this.DOMException=wy.DOMException;}return t.prototype=wy,new t}();(function(t){(function(r){var n=typeof t!="undefined"&&t||typeof self!="undefined"&&self||typeof n!="undefined"&&n,i={searchParams:"URLSearchParams"in n,iterable:"Symbol"in n&&"iterator"in Symbol,blob:"FileReader"in n&&"Blob"in n&&function(){try{return new Blob,!0}catch(H){return !1}}(),formData:"FormData"in n,arrayBuffer:"ArrayBuffer"in n};function o(H){return H&&DataView.prototype.isPrototypeOf(H)}if(i.arrayBuffer)var a=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],s=ArrayBuffer.isView||function(H){return H&&a.indexOf(Object.prototype.toString.call(H))>-1};function u(H){if(typeof H!="string"&&(H=String(H)),/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(H)||H==="")throw new TypeError('Invalid character in header field name: "'+H+'"');return H.toLowerCase()}function d(H){return typeof H!="string"&&(H=String(H)),H}function f(H){var X={next:function(){var Ae=H.shift();return {done:Ae===void 0,value:Ae}}};return i.iterable&&(X[Symbol.iterator]=function(){return X}),X}function g(H){this.map={},H instanceof g?H.forEach(function(X,Ae){this.append(Ae,X);},this):Array.isArray(H)?H.forEach(function(X){this.append(X[0],X[1]);},this):H&&Object.getOwnPropertyNames(H).forEach(function(X){this.append(X,H[X]);},this);}g.prototype.append=function(H,X){H=u(H),X=d(X);var Ae=this.map[H];this.map[H]=Ae?Ae+", "+X:X;},g.prototype.delete=function(H){delete this.map[u(H)];},g.prototype.get=function(H){return H=u(H),this.has(H)?this.map[H]:null},g.prototype.has=function(H){return this.map.hasOwnProperty(u(H))},g.prototype.set=function(H,X){this.map[u(H)]=d(X);},g.prototype.forEach=function(H,X){for(var Ae in this.map)this.map.hasOwnProperty(Ae)&&H.call(X,this.map[Ae],Ae,this);},g.prototype.keys=function(){var H=[];return this.forEach(function(X,Ae){H.push(Ae);}),f(H)},g.prototype.values=function(){var H=[];return this.forEach(function(X){H.push(X);}),f(H)},g.prototype.entries=function(){var H=[];return this.forEach(function(X,Ae){H.push([Ae,X]);}),f(H)},i.iterable&&(g.prototype[Symbol.iterator]=g.prototype.entries);function C(H){if(H.bodyUsed)return Promise.reject(new TypeError("Already read"));H.bodyUsed=!0;}function S(H){return new Promise(function(X,Ae){H.onload=function(){X(H.result);},H.onerror=function(){Ae(H.error);};})}function E(H){var X=new FileReader,Ae=S(X);return X.readAsArrayBuffer(H),Ae}function T(H){var X=new FileReader,Ae=S(X);return X.readAsText(H),Ae}function _(H){for(var X=new Uint8Array(H),Ae=new Array(X.length),Te=0;Te<X.length;Te++)Ae[Te]=String.fromCharCode(X[Te]);return Ae.join("")}function P(H){if(H.slice)return H.slice(0);var X=new Uint8Array(H.byteLength);return X.set(new Uint8Array(H)),X.buffer}function M(){return this.bodyUsed=!1,this._initBody=function(H){this.bodyUsed=this.bodyUsed,this._bodyInit=H,H?typeof H=="string"?this._bodyText=H:i.blob&&Blob.prototype.isPrototypeOf(H)?this._bodyBlob=H:i.formData&&FormData.prototype.isPrototypeOf(H)?this._bodyFormData=H:i.searchParams&&URLSearchParams.prototype.isPrototypeOf(H)?this._bodyText=H.toString():i.arrayBuffer&&i.blob&&o(H)?(this._bodyArrayBuffer=P(H.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):i.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(H)||s(H))?this._bodyArrayBuffer=P(H):this._bodyText=H=Object.prototype.toString.call(H):this._bodyText="",this.headers.get("content-type")||(typeof H=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):i.searchParams&&URLSearchParams.prototype.isPrototypeOf(H)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"));},i.blob&&(this.blob=function(){var H=C(this);if(H)return H;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){if(this._bodyArrayBuffer){var H=C(this);return H||(ArrayBuffer.isView(this._bodyArrayBuffer)?Promise.resolve(this._bodyArrayBuffer.buffer.slice(this._bodyArrayBuffer.byteOffset,this._bodyArrayBuffer.byteOffset+this._bodyArrayBuffer.byteLength)):Promise.resolve(this._bodyArrayBuffer))}else return this.blob().then(E)}),this.text=function(){var H=C(this);if(H)return H;if(this._bodyBlob)return T(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(_(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},i.formData&&(this.formData=function(){return this.text().then(_e)}),this.json=function(){return this.text().then(JSON.parse)},this}var D=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function V(H){var X=H.toUpperCase();return D.indexOf(X)>-1?X:H}function Y(H,X){if(!(this instanceof Y))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');X=X||{};var Ae=X.body;if(H instanceof Y){if(H.bodyUsed)throw new TypeError("Already read");this.url=H.url,this.credentials=H.credentials,X.headers||(this.headers=new g(H.headers)),this.method=H.method,this.mode=H.mode,this.signal=H.signal,!Ae&&H._bodyInit!=null&&(Ae=H._bodyInit,H.bodyUsed=!0);}else this.url=String(H);if(this.credentials=X.credentials||this.credentials||"same-origin",(X.headers||!this.headers)&&(this.headers=new g(X.headers)),this.method=V(X.method||this.method||"GET"),this.mode=X.mode||this.mode||null,this.signal=X.signal||this.signal,this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&Ae)throw new TypeError("Body not allowed for GET or HEAD requests");if(this._initBody(Ae),(this.method==="GET"||this.method==="HEAD")&&(X.cache==="no-store"||X.cache==="no-cache")){var Te=/([?&])_=[^&]*/;if(Te.test(this.url))this.url=this.url.replace(Te,"$1_="+new Date().getTime());else {var Ee=/\?/;this.url+=(Ee.test(this.url)?"&":"?")+"_="+new Date().getTime();}}}Y.prototype.clone=function(){return new Y(this,{body:this._bodyInit})};function _e(H){var X=new FormData;return H.trim().split("&").forEach(function(Ae){if(Ae){var Te=Ae.split("="),Ee=Te.shift().replace(/\+/g," "),Se=Te.join("=").replace(/\+/g," ");X.append(decodeURIComponent(Ee),decodeURIComponent(Se));}}),X}function ue(H){var X=new g,Ae=H.replace(/\r?\n[\t ]+/g," ");return Ae.split("\r").map(function(Te){return Te.indexOf(`
`)===0?Te.substr(1,Te.length):Te}).forEach(function(Te){var Ee=Te.split(":"),Se=Ee.shift().trim();if(Se){var te=Ee.join(":").trim();X.append(Se,te);}}),X}M.call(Y.prototype);function le(H,X){if(!(this instanceof le))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');X||(X={}),this.type="default",this.status=X.status===void 0?200:X.status,this.ok=this.status>=200&&this.status<300,this.statusText=X.statusText===void 0?"":""+X.statusText,this.headers=new g(X.headers),this.url=X.url||"",this._initBody(H);}M.call(le.prototype),le.prototype.clone=function(){return new le(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new g(this.headers),url:this.url})},le.error=function(){var H=new le(null,{status:0,statusText:""});return H.type="error",H};var fe=[301,302,303,307,308];le.redirect=function(H,X){if(fe.indexOf(X)===-1)throw new RangeError("Invalid status code");return new le(null,{status:X,headers:{location:H}})},r.DOMException=n.DOMException;try{new r.DOMException;}catch(H){r.DOMException=function(X,Ae){this.message=X,this.name=Ae;var Te=Error(X);this.stack=Te.stack;},r.DOMException.prototype=Object.create(Error.prototype),r.DOMException.prototype.constructor=r.DOMException;}function ve(H,X){return new Promise(function(Ae,Te){var Ee=new Y(H,X);if(Ee.signal&&Ee.signal.aborted)return Te(new r.DOMException("Aborted","AbortError"));var Se=new XMLHttpRequest;function te(){Se.abort();}Se.onload=function(){var ne={status:Se.status,statusText:Se.statusText,headers:ue(Se.getAllResponseHeaders()||"")};ne.url="responseURL"in Se?Se.responseURL:ne.headers.get("X-Request-URL");var oe="response"in Se?Se.response:Se.responseText;setTimeout(function(){Ae(new le(oe,ne));},0);},Se.onerror=function(){setTimeout(function(){Te(new TypeError("Network request failed"));},0);},Se.ontimeout=function(){setTimeout(function(){Te(new TypeError("Network request failed"));},0);},Se.onabort=function(){setTimeout(function(){Te(new r.DOMException("Aborted","AbortError"));},0);};function W(ne){try{return ne===""&&n.location.href?n.location.href:ne}catch(oe){return ne}}Se.open(Ee.method,W(Ee.url),!0),Ee.credentials==="include"?Se.withCredentials=!0:Ee.credentials==="omit"&&(Se.withCredentials=!1),"responseType"in Se&&(i.blob?Se.responseType="blob":i.arrayBuffer&&Ee.headers.get("Content-Type")&&Ee.headers.get("Content-Type").indexOf("application/octet-stream")!==-1&&(Se.responseType="arraybuffer")),X&&typeof X.headers=="object"&&!(X.headers instanceof g)?Object.getOwnPropertyNames(X.headers).forEach(function(ne){Se.setRequestHeader(ne,d(X.headers[ne]));}):Ee.headers.forEach(function(ne,oe){Se.setRequestHeader(oe,ne);}),Ee.signal&&(Ee.signal.addEventListener("abort",te),Se.onreadystatechange=function(){Se.readyState===4&&Ee.signal.removeEventListener("abort",te);}),Se.send(typeof Ee._bodyInit=="undefined"?null:Ee._bodyInit);})}return ve.polyfill=!0,n.fetch||(n.fetch=ve,n.Headers=g,n.Request=Y,n.Response=le),r.Headers=g,r.Request=Y,r.Response=le,r.fetch=ve,r})({});})(Ay);Ay.fetch.ponyfill=!0;delete Ay.fetch.polyfill;var yl=wy.fetch?wy:Ay;Jo=yl.fetch;Jo.default=yl.fetch;Jo.fetch=yl.fetch;Jo.Headers=yl.Headers;Jo.Request=yl.Request;Jo.Response=yl.Response;mM.exports=Jo;});y();p();h();m();y();p();h();m();y();p();h();m();y();p();h();m();y();p();h();m();var we=class t extends Error{constructor(r,n){super(r);this.statusCode=n;}static isStatusCodeError(r){return !!(r&&typeof r.statusCode=="number")}static determineStatusCodeAndBuildMessage(r){let n=r&&r.message?r.message:"Internal Server Error",i=t.determineStatusCode(n);return `HTTP/1.1 ${i} ${qce.StatusCodes[i]}\r
${n}\r
Connection: 'close'\r
\r
`}static determineStatusCode(r){if(typeof r=="string"){if(r.toLowerCase().startsWith("unauthorized"))return qce.StatusCodes.UNAUTHORIZED;if(r.toLowerCase().startsWith("'authheader'"))return qce.StatusCodes.BAD_REQUEST}return qce.StatusCodes.INTERNAL_SERVER_ERROR}};y();p();h();m();var br=class{constructor(e=[],r,n){this.requiredEndorsements=e;this.validateClaims=r;this.validTokenIssuers=n;}};y();p();h();m();exports.AuthenticationConstants = void 0;(Ee=>(Ee.ToChannelFromBotLoginUrl="https://login.microsoftonline.com/botframework.com",Ee.ToChannelFromBotLoginUrlPrefix="https://login.microsoftonline.com/",Ee.ToChannelFromBotTokenEndpointPath="/oauth2/v2.0/token",Ee.DefaultChannelAuthTenant="botframework.com",Ee.ToChannelFromBotOAuthScope="https://api.botframework.com",Ee.ToBotFromChannelTokenIssuer="https://api.botframework.com",Ee.OAuthUrl="https://api.botframework.com",Ee.BotOpenIdMetadataKey="BotOpenIdMetadata",Ee.ChannelService="ChannelService",Ee.OAuthUrlKey="OAuthApiEndpoint",Ee.EmulateOAuthCardsKey="EmulateOAuthCards",Ee.ToBotFromChannelOpenIdMetadataUrl="https://login.botframework.com/v1/.well-known/openidconfiguration",Ee.ToBotFromEnterpriseChannelOpenIdMetadataUrlFormat="https://{channelService}.enterprisechannel.botframework.com/v1/.well-known/openidconfiguration",Ee.ToBotFromEmulatorOpenIdMetadataUrl="https://login.microsoftonline.com/common/v2.0/.well-known/openid-configuration",Ee.ValidTokenIssuerUrlTemplateV1="https://sts.windows.net/",Ee.ValidTokenIssuerUrlTemplateV2="https://login.microsoftonline.com/",Ee.ValidGovernmentTokenIssuerUrlTemplateV1="https://login.microsoftonline.us/",Ee.ValidGovernmentTokenIssuerUrlTemplateV2="https://login.microsoftonline.us/",Ee.AllowedSigningAlgorithms=["RS256","RS384","RS512"],Ee.AuthorizedParty="azp",Ee.AudienceClaim="aud",Ee.IssuerClaim="iss",Ee.KeyIdHeader="kid",Ee.VersionClaim="ver",Ee.AppIdClaim="appid",Ee.ServiceUrlClaim="serviceurl",Ee.TenantIdClaim="tid",Ee.AnonymousSkillAppId="AnonymousSkill",Ee.AnonymousAuthType="anonymous",Ee.CertificateThumbprint="CertificateThumbprint",Ee.CertificatePrivateKey="CertificatePrivateKey"))(exports.AuthenticationConstants||(exports.AuthenticationConstants={}));y();p();h();m();y();p();h();m();var cu=Ar(Wl());y();p();h();m();var ci=class{constructor(e,r){this.claims=e;this.authenticationType=r;}get isAuthenticated(){return typeof this.authenticationType=="boolean"?this.authenticationType:this.authenticationType!=null}getClaimValue(e){var n;let r=this.claims.find(i=>i.type===e);return (n=r==null?void 0:r.value)!=null?n:null}};y();p();h();m();var Kl=class{static validate(e,r){if(e===null||e.trim()==="")return !0;if(r===null)throw new we("endorsements required",qce.StatusCodes.UNAUTHORIZED);return new Set(r).has(e)}};y();p();h();m();var RN=Ar(OI()),_N=Ar(MI()),aE=Ar(BI()),IN=Ar(AN());var $p=class{constructor(e,r,n=24){this.url=e;this.proxySettings=r;this.tokenRefreshInterval=n;this.lastUpdated=0;}getKey(e){return L(this,null,function*(){if(this.lastUpdated<Date.now()-this.tokenRefreshInterval*1e3*60*60)return yield this.refreshCache(),this.findKey(e);{let r=this.findKey(e);return !r&&this.lastUpdated<Date.now()-1e3*60*60?(yield this.refreshCache(),this.findKey(e)):r}})}refreshCache(){return L(this,null,function*(){let e=null;if(this.proxySettings){let n=`http://${this.proxySettings.host}:${this.proxySettings.port}`;e=new IN.HttpsProxyAgent(n);}let r=yield (0, aE.default)(this.url,{agent:e});if(r.ok){let n=yield r.json(),i=yield (0, aE.default)(n.jwks_uri,{agent:e});if(i.ok)this.lastUpdated=new Date().getTime(),this.keys=(yield i.json()).keys;else throw new we(`Failed to load Keys: ${i.status}`,qce.StatusCodes.INTERNAL_SERVER_ERROR)}else throw new we(`Failed to load openID config: ${r.status}`,qce.StatusCodes.INTERNAL_SERVER_ERROR)})}findKey(e){if(!this.keys)return null;for(let r of this.keys)if(r.kid===e){if(!r.n||!r.e)return null;let n=_N.default.toBase64(r.n),i=r.e;return {key:(0, RN.default)(n,i),endorsements:r.endorsements}}return null}};var Vp=class Vp{constructor(e,r,n,i,o){this.tokenValidationParameters=q({},e),this.tokenValidationParameters.algorithms=n,this.openIdMetadata=Vp.getOrAddOpenIdMetadata(r,i,o);}static getOrAddOpenIdMetadata(e,r,n){let i=this.openIdMetadataCache.get(e);return i||(i=new $p(e,r,n),this.openIdMetadataCache.set(e,i)),i}getIdentityFromAuthHeader(e,r,n){return L(this,null,function*(){if(!e)return null;let i=e.split(" ");return i.length===2?yield this.getIdentity(i[0],i[1],r,n||[]):null})}getIdentity(o,a,s){return L(this,arguments,function*(e,r,n,i=[]){return e!=="Bearer"||!r||!this.hasAllowedIssuer(r)?null:yield this.validateToken(r,n,i)})}hasAllowedIssuer(e){let r=(0, cu.decode)(e),n;if(r&&typeof r=="object")n=r.iss;else return !1;return Array.isArray(this.tokenValidationParameters.issuer)?this.tokenValidationParameters.issuer.indexOf(n)!==-1:typeof this.tokenValidationParameters.issuer=="string"?this.tokenValidationParameters.issuer===n:!1}validateToken(e,r,n){return L(this,null,function*(){let i={},o=(0, cu.decode)(e,{complete:!0});o&&typeof o=="object"&&(i=o.header);let a=i.kid,s=yield this.openIdMetadata.getKey(a);if(!s)throw new we("Signing Key could not be retrieved.",qce.StatusCodes.UNAUTHORIZED);try{let u={},d=(0,cu.verify)(e,s.key,this.tokenValidationParameters);d&&typeof d=="object"&&(u=d);let f=s.endorsements;if(Array.isArray(f)&&f.length!==0){if(!Kl.validate(r,f))throw new we(`Could not validate endorsement for key: ${a} with endorsements: ${f.join(",")}`,qce.StatusCodes.UNAUTHORIZED);if(!n.every(E=>Kl.validate(E,f)))throw new we(`Could not validate additional endorsement for key: ${a} with endorsements: ${n.join(",")}. Expected endorsements: ${n.join(",")}`,qce.StatusCodes.UNAUTHORIZED)}if(this.tokenValidationParameters.algorithms&&this.tokenValidationParameters.algorithms.indexOf(i.alg)===-1)throw new we(`"Token signing algorithm '${i.alg}' not in allowed list`,qce.StatusCodes.UNAUTHORIZED);let g=Object.entries(u).map(([C,S])=>({type:C,value:S}));return new ci(g,!0)}catch(u){throw u.name==="TokenExpiredError"?(console.error(u),new we("The token has expired",qce.StatusCodes.UNAUTHORIZED)):(console.error(`Error finding key for token. Available keys: ${s.key}`),u)}})}};Vp.openIdMetadataCache=new Map;var pr=Vp;exports.ChannelValidation = void 0;(o=>{o.ToBotFromChannelTokenValidationParameters={issuer:[exports.AuthenticationConstants.ToBotFromChannelTokenIssuer],audience:void 0,clockTolerance:300,ignoreExpiration:!1};function r(g,C,S,E){return L(this,arguments,function*(a,s,u,d,f=new br){let T=yield n(a,s,d,f);if(T.getClaimValue(exports.AuthenticationConstants.ServiceUrlClaim)!==u)throw new we("Unauthorized. ServiceUrl claim do not match.",qce.StatusCodes.UNAUTHORIZED);return T})}o.authenticateChannelTokenWithServiceUrl=r;function n(f,g,C){return L(this,arguments,function*(a,s,u,d=new br){let E=yield new pr(o.ToBotFromChannelTokenValidationParameters,o.OpenIdMetadataEndpoint?o.OpenIdMetadataEndpoint:exports.AuthenticationConstants.ToBotFromChannelOpenIdMetadataUrl,exports.AuthenticationConstants.AllowedSigningAlgorithms).getIdentityFromAuthHeader(a,u,d.requiredEndorsements);return yield i(E,s)})}o.authenticateChannelToken=n;function i(a,s){return L(this,null,function*(){if(!a||!a.isAuthenticated)throw new we("Unauthorized. Is not authenticated",qce.StatusCodes.UNAUTHORIZED);if(a.getClaimValue(exports.AuthenticationConstants.IssuerClaim)!==exports.AuthenticationConstants.ToBotFromChannelTokenIssuer)throw new we("Unauthorized. Issuer Claim MUST be present.",qce.StatusCodes.UNAUTHORIZED);let u=a.getClaimValue(exports.AuthenticationConstants.AudienceClaim);if(!(yield s.isValidAppId(u||"")))throw new we(`Unauthorized. Invalid AppId passed on token: ${u}`,qce.StatusCodes.UNAUTHORIZED);return a})}o.validateIdentity=i;})(exports.ChannelValidation||(exports.ChannelValidation={}));y();p();h();m();var NN=Ar(Wl());y();p();h();m();exports.GovernmentConstants = void 0;(d=>(d.ChannelService="https://botframework.azure.us",d.ToChannelFromBotLoginUrl="https://login.microsoftonline.us/MicrosoftServices.onmicrosoft.us",d.ToChannelFromBotLoginUrlPrefix="https://login.microsoftonline.us/",d.DefaultChannelAuthTenant="MicrosoftServices.onmicrosoft.us",d.ToChannelFromBotOAuthScope="https://api.botframework.us",d.ToBotFromChannelTokenIssuer="https://api.botframework.us",d.OAuthUrl="https://api.botframework.azure.us",d.ToBotFromChannelOpenIdMetadataUrl="https://login.botframework.azure.us/v1/.well-known/openidconfiguration",d.ToBotFromEmulatorOpenIdMetadataUrl="https://login.microsoftonline.us/cab8a31a-1906-4287-a0d8-4eef66b95f6e/v2.0/.well-known/openid-configuration"))(exports.GovernmentConstants||(exports.GovernmentConstants={}));y();p();h();m();var Fn={issuer:["https://sts.windows.net/d6d49420-f39b-4df7-a1dc-d59a935871db/","https://login.microsoftonline.com/d6d49420-f39b-4df7-a1dc-d59a935871db/v2.0","https://sts.windows.net/f8cdef31-a31e-4b4a-93e4-5f571e91255a/","https://login.microsoftonline.com/f8cdef31-a31e-4b4a-93e4-5f571e91255a/v2.0","https://sts.windows.net/72f988bf-86f1-41af-91ab-2d7cd011db47/","https://sts.windows.net/cab8a31a-1906-4287-a0d8-4eef66b95f6e/","https://login.microsoftonline.us/cab8a31a-1906-4287-a0d8-4eef66b95f6e/v2.0","https://login.microsoftonline.us/f8cdef31-a31e-4b4a-93e4-5f571e91255a/","https://login.microsoftonline.us/f8cdef31-a31e-4b4a-93e4-5f571e91255a/v2.0"],audience:void 0,clockTolerance:5*60,ignoreExpiration:!1},sE={issuer:[],audience:void 0,clockTolerance:5*60,ignoreExpiration:!1};exports.EmulatorValidation = void 0;(n=>{n.ToBotFromEmulatorTokenValidationParameters=Fn;function e(i){var g;if(!i)return !1;let o=i.split(" ");if(o.length!==2)return !1;let a=o[0],s=o[1];if(a!=="Bearer")return !1;let u=(0, NN.decode)(s,{complete:!0});if(!u)return !1;let d=u.payload[exports.AuthenticationConstants.IssuerClaim];if(!d)return !1;let f=Fn.issuer;if(Array.isArray(f)){let C=(g=u==null?void 0:u.payload[exports.AuthenticationConstants.TenantIdClaim])!=null?g:"";C!=""&&f.find(S=>S.includes(C))==null&&(f.push(`${exports.AuthenticationConstants.ValidTokenIssuerUrlTemplateV1}${C}/`),f.push(`${exports.AuthenticationConstants.ValidTokenIssuerUrlTemplateV2}${C}/v2.0`),f.push(`${exports.AuthenticationConstants.ValidGovernmentTokenIssuerUrlTemplateV1}${C}/`),f.push(`${exports.AuthenticationConstants.ValidGovernmentTokenIssuerUrlTemplateV2}${C}/v2.0`));}return !(f&&f.indexOf(d)===-1)}n.isTokenFromEmulator=e;function r(d,f,g,C){return L(this,arguments,function*(i,o,a,s,u=new br){let S=a!==void 0&&exports.JwtTokenValidation.isGovernment(a)?exports.GovernmentConstants.ToBotFromEmulatorOpenIdMetadataUrl:exports.AuthenticationConstants.ToBotFromEmulatorOpenIdMetadataUrl,T=yield new pr(n.ToBotFromEmulatorTokenValidationParameters,S,exports.AuthenticationConstants.AllowedSigningAlgorithms).getIdentityFromAuthHeader(i,s,u.requiredEndorsements);if(!T)throw new we("Unauthorized. No valid identity.",qce.StatusCodes.UNAUTHORIZED);if(!T.isAuthenticated)throw new we("Unauthorized. Is not authenticated",qce.StatusCodes.UNAUTHORIZED);let _=T.getClaimValue(exports.AuthenticationConstants.VersionClaim);if(_===null)throw new we('Unauthorized. "ver" claim is required on Emulator Tokens.',qce.StatusCodes.UNAUTHORIZED);let P="";if(!_||_==="1.0"){let M=T.getClaimValue(exports.AuthenticationConstants.AppIdClaim);if(!M)throw new we('Unauthorized. "appid" claim is required on Emulator Token version "1.0".',qce.StatusCodes.UNAUTHORIZED);P=M;}else if(_==="2.0"){let M=T.getClaimValue(exports.AuthenticationConstants.AuthorizedParty);if(!M)throw new we('Unauthorized. "azp" claim is required on Emulator Token version "2.0".',qce.StatusCodes.UNAUTHORIZED);P=M;}else throw new we(`Unauthorized. Unknown Emulator Token version "${_}".`,qce.StatusCodes.UNAUTHORIZED);if(!(yield o.isValidAppId(P)))throw new we(`Unauthorized. Invalid AppId passed on token: ${P}`,qce.StatusCodes.UNAUTHORIZED);return T})}n.authenticateEmulatorToken=r;})(exports.EmulatorValidation||(exports.EmulatorValidation={}));y();p();h();m();exports.EnterpriseChannelValidation = void 0;(i=>{i.ToBotFromEnterpriseChannelTokenValidationParameters={issuer:[exports.AuthenticationConstants.ToBotFromChannelTokenIssuer],audience:void 0,clockTolerance:300,ignoreExpiration:!1};function e(o,a,s,u,d){return L(this,null,function*(){let f=yield r(o,a,u,d);if(f.getClaimValue(exports.AuthenticationConstants.ServiceUrlClaim)!==s)throw new we("Unauthorized. ServiceUrl claim do not match.",qce.StatusCodes.UNAUTHORIZED);return f})}i.authenticateChannelTokenWithServiceUrl=e;function r(f,g,C,S){return L(this,arguments,function*(o,a,s,u,d=new br){let T=yield new pr(i.ToBotFromEnterpriseChannelTokenValidationParameters,exports.ChannelValidation.OpenIdMetadataEndpoint?exports.ChannelValidation.OpenIdMetadataEndpoint:exports.AuthenticationConstants.ToBotFromEnterpriseChannelOpenIdMetadataUrlFormat.replace("{channelService}",u),exports.AuthenticationConstants.AllowedSigningAlgorithms).getIdentityFromAuthHeader(o,s,d.requiredEndorsements);return yield n(T,a)})}i.authenticateChannelToken=r;function n(o,a){return L(this,null,function*(){if(!o)throw new we("Unauthorized. No valid identity.",qce.StatusCodes.UNAUTHORIZED);if(!o.isAuthenticated)throw new we("Unauthorized. Is not authenticated",qce.StatusCodes.UNAUTHORIZED);if(o.getClaimValue(exports.AuthenticationConstants.IssuerClaim)!==exports.AuthenticationConstants.ToBotFromChannelTokenIssuer)throw new we("Unauthorized. Issuer Claim MUST be present.",qce.StatusCodes.UNAUTHORIZED);let s=o.getClaimValue(exports.AuthenticationConstants.AudienceClaim);if(!(yield a.isValidAppId(s||"")))throw new we(`Unauthorized. Invalid AppId passed on token: ${s}`,qce.StatusCodes.UNAUTHORIZED);return o})}i.validateIdentity=n;})(exports.EnterpriseChannelValidation||(exports.EnterpriseChannelValidation={}));y();p();h();m();exports.GovernmentChannelValidation = void 0;(o=>{o.ToBotFromGovernmentChannelTokenValidationParameters={issuer:[exports.GovernmentConstants.ToBotFromChannelTokenIssuer],audience:void 0,clockTolerance:300,ignoreExpiration:!1};function r(a,s,u,d){return L(this,null,function*(){let f=yield n(a,s,d);if(f.getClaimValue(exports.AuthenticationConstants.ServiceUrlClaim)!==u)throw new we("Unauthorized. ServiceUrl claim do not match.",qce.StatusCodes.UNAUTHORIZED);return f})}o.authenticateChannelTokenWithServiceUrl=r;function n(f,g,C){return L(this,arguments,function*(a,s,u,d=new br){let E=yield new pr(o.ToBotFromGovernmentChannelTokenValidationParameters,o.OpenIdMetadataEndpoint?o.OpenIdMetadataEndpoint:exports.GovernmentConstants.ToBotFromChannelOpenIdMetadataUrl,exports.AuthenticationConstants.AllowedSigningAlgorithms).getIdentityFromAuthHeader(a,u,d.requiredEndorsements);return yield i(E,s)})}o.authenticateChannelToken=n;function i(a,s){return L(this,null,function*(){if(!a)throw new we("Unauthorized. No valid identity.",qce.StatusCodes.UNAUTHORIZED);if(!a.isAuthenticated)throw new we("Unauthorized. Is not authenticated",qce.StatusCodes.UNAUTHORIZED);if(a.getClaimValue(exports.AuthenticationConstants.IssuerClaim)!==exports.GovernmentConstants.ToBotFromChannelTokenIssuer)throw new we("Unauthorized. Issuer Claim MUST be present.",qce.StatusCodes.UNAUTHORIZED);let u=a.getClaimValue(exports.AuthenticationConstants.AudienceClaim);if(!(yield s.isValidAppId(u||"")))throw new we(`Unauthorized. Invalid AppId passed on token: ${u}`,qce.StatusCodes.UNAUTHORIZED);return a})}o.validateIdentity=i;})(exports.GovernmentChannelValidation||(exports.GovernmentChannelValidation={}));y();p();h();m();var ON=Ar(Wl());exports.SkillValidation = void 0;(o=>{function t(a){if(!exports.JwtTokenValidation.isValidTokenFormat(a))return !1;let[,...s]=a.trim().split(" "),u=(0, ON.decode)(s.join(" ")),d=[];return u&&typeof u=="object"&&(d=Object.entries(u).map(([f,g])=>({type:f,value:g}))),e(d)}o.isSkillToken=t;function e(a){if(!a)throw new TypeError("SkillValidation.isSkillClaim(): missing claims.");let s=a.reduce((E,T)=>ae(q({},E),{[T.type]:T}),{}),u=s[exports.AuthenticationConstants.AppIdClaim];if(u&&u.value===exports.AuthenticationConstants.AnonymousSkillAppId)return !0;let d=s[exports.AuthenticationConstants.VersionClaim];if(!(d&&d.value))return !1;let g=s[exports.AuthenticationConstants.AudienceClaim],C=g&&g.value;if(!g||exports.AuthenticationConstants.ToBotFromChannelTokenIssuer===C||exports.GovernmentConstants.ToBotFromChannelTokenIssuer===C)return !1;let S=exports.JwtTokenValidation.getAppIdFromClaims(a);return S?S!==C:!1}o.isSkillClaim=e;function r(a,s,u,d,f){return L(this,null,function*(){var _;if(!f)throw new we("SkillValidation.authenticateChannelToken(): invalid authConfig parameter",qce.StatusCodes.INTERNAL_SERVER_ERROR);let g=exports.JwtTokenValidation.isGovernment(u)?exports.GovernmentConstants.ToBotFromEmulatorOpenIdMetadataUrl:exports.AuthenticationConstants.ToBotFromEmulatorOpenIdMetadataUrl,C=ae(q({},Fn),{issuer:[...Fn.issuer,...(_=f.validTokenIssuers)!=null?_:[]]}),S=new pr(C,g,exports.AuthenticationConstants.AllowedSigningAlgorithms),E=a.split(" "),T=yield S.getIdentity(E[0],E[1],d,f.requiredEndorsements);return yield n(T,s),T})}o.authenticateChannelToken=r;function n(a,s){return L(this,null,function*(){if(!a)throw new we("SkillValidation.validateIdentity(): Invalid identity",qce.StatusCodes.UNAUTHORIZED);if(!a.isAuthenticated)throw new we("SkillValidation.validateIdentity(): Token not authenticated",qce.StatusCodes.UNAUTHORIZED);if(!a.getClaimValue(exports.AuthenticationConstants.VersionClaim))throw new we(`SkillValidation.validateIdentity(): '${exports.AuthenticationConstants.VersionClaim}' claim is required on skill Tokens.`,qce.StatusCodes.UNAUTHORIZED);let d=a.getClaimValue(exports.AuthenticationConstants.AudienceClaim);if(!d)throw new we(`SkillValidation.validateIdentity(): '${exports.AuthenticationConstants.AudienceClaim}' claim is required on skill Tokens.`,qce.StatusCodes.UNAUTHORIZED);if(!(yield s.isValidAppId(d)))throw new we("SkillValidation.validateIdentity(): Invalid audience.",qce.StatusCodes.UNAUTHORIZED);if(!exports.JwtTokenValidation.getAppIdFromClaims(a.claims))throw new we("SkillValidation.validateIdentity(): Invalid appId.",qce.StatusCodes.UNAUTHORIZED)})}o.validateIdentity=n;function i(){return new ci([{type:exports.AuthenticationConstants.AppIdClaim,value:exports.AuthenticationConstants.AnonymousSkillAppId}],exports.AuthenticationConstants.AnonymousAuthType)}o.createAnonymousSkillClaim=i;})(exports.SkillValidation||(exports.SkillValidation={}));y();p();h();m();y();p();h();m();var Wp=class{toJSON(){return {name:this.constructor.name,appId:this.appId}}constructor(e,r){this.appId=e,this.appPassword=r;}isValidAppId(e){return Promise.resolve(this.appId===e)}getAppPassword(e){return Promise.resolve(this.appId===e?this.appPassword:null)}isAuthenticationDisabled(){return Promise.resolve(!this.appId)}};exports.AseChannelValidation = void 0;(s=>{let t="AseChannel",e,r;function i(u){let d=u.MicrosoftAppId,f=u.MicrosoftAppTenantId;r=u.ChannelService,s.MetadataUrl=r!==void 0&&exports.JwtTokenValidation.isGovernment(r)?exports.GovernmentConstants.ToBotFromEmulatorOpenIdMetadataUrl:exports.AuthenticationConstants.ToBotFromEmulatorOpenIdMetadataUrl,e=new Wp(d,"");let g=[f,"f8cdef31-a31e-4b4a-93e4-5f571e91255a","d6d49420-f39b-4df7-a1dc-d59a935871db"],C=[];g.forEach(S=>{C.push(`https://sts.windows.net/${S}/`),C.push(`https://login.microsoftonline.com/${S}/v2.0`),C.push(`https://login.microsoftonline.us/${S}/v2.0`);}),sE.issuer=C;}s.init=i;function o(u){return u===t}s.isTokenFromAseChannel=o;function a(f){return L(this,arguments,function*(u,d=new br){let C=yield new pr(sE,s.MetadataUrl,exports.AuthenticationConstants.AllowedSigningAlgorithms).getIdentityFromAuthHeader(u,t,d.requiredEndorsements);if(!C)throw new we("Unauthorized. No valid identity.",qce.StatusCodes.UNAUTHORIZED);if(!C.isAuthenticated)throw new we("Unauthorized. Is not authenticated",qce.StatusCodes.UNAUTHORIZED);let S=C.getClaimValue(exports.AuthenticationConstants.VersionClaim);if(S===null)throw new we('Unauthorized. "ver" claim is required on Emulator Tokens.',qce.StatusCodes.UNAUTHORIZED);let E="";if(!S||S==="1.0"){let T=C.getClaimValue(exports.AuthenticationConstants.AppIdClaim);if(!T)throw new we('Unauthorized. "appid" claim is required on Emulator Token version "1.0".',qce.StatusCodes.UNAUTHORIZED);E=T;}else if(S==="2.0"){let T=C.getClaimValue(exports.AuthenticationConstants.AuthorizedParty);if(!T)throw new we('Unauthorized. "azp" claim is required on Emulator Token version "2.0".',qce.StatusCodes.UNAUTHORIZED);E=T;}else throw new we(`Unauthorized. Unknown Emulator Token version "${S}".`,qce.StatusCodes.UNAUTHORIZED);if(!(yield e.isValidAppId(E)))throw new we(`Unauthorized. Invalid AppId passed on token: ${E}`,qce.StatusCodes.UNAUTHORIZED);return C})}s.authenticateAseChannelToken=a;})(exports.AseChannelValidation||(exports.AseChannelValidation={}));exports.JwtTokenValidation = void 0;(d=>{function t(f,g,C,S,E){return L(this,null,function*(){if(E||(E=new br),yield C.isAuthenticationDisabled())return f.channelId===qce.Channels.Emulator&&f.recipient&&f.recipient.role===qce.RoleTypes.Skill?exports.SkillValidation.createAnonymousSkillClaim():new ci([],exports.AuthenticationConstants.AnonymousAuthType);if(!g.trim())throw new we("Unauthorized Access. Request is not authorized",qce.StatusCodes.UNAUTHORIZED);return yield e(g,C,S,f.channelId,f.serviceUrl,E)})}d.authenticateRequest=t;function e(_,P,M,D){return L(this,arguments,function*(f,g,C,S,E="",T=new br){if(!f.trim())throw new we("'authHeader' required.",qce.StatusCodes.BAD_REQUEST);let V=yield r(f,g,C,S,T,E);return yield n(T,V.claims),V})}d.validateAuthHeader=e;function r(f,g,C,S,E,T){return L(this,null,function*(){return exports.AseChannelValidation.isTokenFromAseChannel(S)?exports.AseChannelValidation.authenticateAseChannelToken(f):exports.SkillValidation.isSkillToken(f)?yield exports.SkillValidation.authenticateChannelToken(f,g,C,S,E):exports.EmulatorValidation.isTokenFromEmulator(f)?yield exports.EmulatorValidation.authenticateEmulatorToken(f,g,C,S):o(C)?a(T)?yield exports.ChannelValidation.authenticateChannelTokenWithServiceUrl(f,g,T,S):yield exports.ChannelValidation.authenticateChannelToken(f,g,S):s(C)?a(T)?yield exports.GovernmentChannelValidation.authenticateChannelTokenWithServiceUrl(f,g,T,S):yield exports.GovernmentChannelValidation.authenticateChannelToken(f,g,S):a(T)?yield exports.EnterpriseChannelValidation.authenticateChannelTokenWithServiceUrl(f,g,T,S,C):yield exports.EnterpriseChannelValidation.authenticateChannelToken(f,g,S,C)})}function n(C){return L(this,arguments,function*(f,g=[]){if(f.validateClaims)yield f.validateClaims(g);else if(exports.SkillValidation.isSkillClaim(g))throw new we("Unauthorized Access. Request is not authorized. Skill Claims require validation.",qce.StatusCodes.UNAUTHORIZED)})}function i(f){if(!f)throw new TypeError("JwtTokenValidation.getAppIdFromClaims(): missing claims.");let g,C=f.reduce((T,_)=>ae(q({},T),{[_.type]:_}),{}),S=C[exports.AuthenticationConstants.VersionClaim],E=S&&S.value;if(!E||E==="1.0"){let T=C[exports.AuthenticationConstants.AppIdClaim];T&&T.value&&(g=T.value);}else if(E==="2.0"){let T=C[exports.AuthenticationConstants.AuthorizedParty];T&&T.value&&(g=T.value);}return g}d.getAppIdFromClaims=i;function o(f){return !f||f.length===0}function a(f){let g=f.trim(),C=g.startsWith("http")||g.startsWith("wss")?g:`https://${g}`;try{return !!new URL(C)}catch(S){return !1}}function s(f){return f&&f.toLowerCase()===exports.GovernmentConstants.ChannelService}d.isGovernment=s;function u(f){if(!f)return !1;let g=f.trim().split(" ");return !(g.length!==2||g[0]!=="Bearer")}d.isValidTokenFormat=u;})(exports.JwtTokenValidation||(exports.JwtTokenValidation={}));En();function Gse(t){wt(t),wt(t.length);let e=new Set(t);return r=>L(this,null,function*(){if(!e.has("*")&&exports.SkillValidation.isSkillClaim(r)){let n=exports.JwtTokenValidation.getAppIdFromClaims(r);if(!e.has(n))throw new Error(`Received a request from an application with an appID of "${n}". To enable requests from this skill, add the skill to your configuration file.`)}})}y();p();h();m();y();p();h();m();var pu=class{constructor(e,r=azureCoreHttpCompat.Constants.HeaderConstants.AUTHORIZATION_SCHEME){this.authorizationScheme=azureCoreHttpCompat.Constants.HeaderConstants.AUTHORIZATION_SCHEME;if(!e)throw new Error("token cannot be null or undefined.");this.token=e,this.authorizationScheme=r;}signRequest(e){return e.headers||(e.headers=new azureCoreHttpCompat.HttpHeaders),e.headers.set(azureCoreHttpCompat.Constants.HeaderConstants.AUTHORIZATION,`${this.authorizationScheme} ${this.token}`),Promise.resolve(e)}};var hu=class hu{toJSON(){return {name:this.constructor.name,appId:this.appId,tenant:this.tenant,oAuthEndpoint:this.oAuthEndpoint,oAuthScope:this.oAuthScope}}constructor(e,r,n=null){this.appId=e,this.tenant=r,this.oAuthEndpoint=this.GetToChannelFromBotLoginUrlPrefix()+this.tenant,this.oAuthScope=n&&n.length>0?n:this.GetToChannelFromBotOAuthScope();}get tenant(){return this._tenant}set tenant(e){this._tenant=e&&e.length>0?e:this.GetDefaultChannelAuthTenant();}get oAuthScope(){return this._oAuthScope}set oAuthScope(e){this._oAuthScope=e,this.tokenCacheKey=`${this.appId}${this.oAuthScope}-cache`;}get oAuthEndpoint(){return this._oAuthEndpoint}set oAuthEndpoint(e){this._oAuthEndpoint=e;}static trustServiceUrl(){}static isTrustedServiceUrl(){return !0}signRequest(e){return L(this,null,function*(){return this.shouldSetToken()?new pu(yield this.getToken()).signRequest(e):e})}getToken(e=!1){return L(this,null,function*(){if(!e){let n=hu.cache.get(this.tokenCacheKey);if(n&&n.expiresOn>new Date)return n.accessToken}let r=yield this.refreshToken();if(r&&r.accessToken)return r.expiresOn.setMinutes(r.expiresOn.getMinutes()-5),hu.cache.set(this.tokenCacheKey,r),r.accessToken;throw new Error("Authentication: No response or error received from MSAL.")})}GetToChannelFromBotOAuthScope(){return exports.AuthenticationConstants.ToChannelFromBotOAuthScope}GetToChannelFromBotLoginUrlPrefix(){return exports.AuthenticationConstants.ToChannelFromBotLoginUrlPrefix}GetDefaultChannelAuthTenant(){return exports.AuthenticationConstants.DefaultChannelAuthTenant}shouldSetToken(){return this.appId&&this.appId!==exports.AuthenticationConstants.AnonymousSkillAppId}};hu.cache=new Map;var An=hu;y();p();h();m();y();p();h();m();y();p();h();m();var Kp=class{createBotFrameworkClient(){throw new Error("NotImplemented")}getOriginatingAudience(){throw new Error("NotImplemented")}authenticateChannelRequest(e){throw new Error("NotImplemented")}generateCallerId(e,r,n){return L(this,null,function*(){return (yield e.isAuthenticationDisabled())?null:exports.SkillValidation.isSkillClaim(r.claims)?`${qce.CallerIdConstants.BotToBotPrefix}${exports.JwtTokenValidation.getAppIdFromClaims(r.claims)}`:n})}};y();p();h();m();y();p();h();m();y();p();h();m();y();p();h();m();y();p();h();m();var xN={serializedName:"AttachmentView",type:{name:"Composite",className:"AttachmentView",modelProperties:{viewId:{serializedName:"viewId",type:{name:"String"}},size:{serializedName:"size",type:{name:"Number"}}}}},Yp={serializedName:"AttachmentInfo",type:{name:"Composite",className:"AttachmentInfo",modelProperties:{name:{serializedName:"name",type:{name:"String"}},type:{serializedName:"type",type:{name:"String"}},views:{serializedName:"views",type:{name:"Sequence",element:{type:{name:"Composite",className:"AttachmentView"}}}}}}},yc={serializedName:"InnerHttpError",type:{name:"Composite",className:"InnerHttpError",modelProperties:{statusCode:{serializedName:"statusCode",type:{name:"Number"}},body:{serializedName:"body",type:{name:"Object"}}}}},gc={serializedName:"Error",type:{name:"Composite",className:"ErrorModel",modelProperties:{code:{serializedName:"code",type:{name:"String"}},message:{serializedName:"message",type:{name:"String"}},innerHttpError:{serializedName:"innerHttpError",type:{name:"Composite",className:"InnerHttpError"}}}}},Tt={serializedName:"ErrorResponse",type:{name:"Composite",className:"ErrorResponse",modelProperties:{error:{serializedName:"error",type:{name:"Composite",className:"ErrorModel"}}}}},Jp={serializedName:"ChannelAccount",type:{name:"Composite",className:"ChannelAccount",modelProperties:{id:{serializedName:"id",type:{name:"String"}},name:{serializedName:"name",type:{name:"String"}},aadObjectId:{serializedName:"aadObjectId",type:{name:"String"}},role:{serializedName:"role",type:{name:"String"}},properties:{serializedName:"properties",type:{name:"Object"}}}}},kN={serializedName:"ConversationAccount",type:{name:"Composite",className:"ConversationAccount",modelProperties:{isGroup:{serializedName:"isGroup",type:{name:"Boolean"}},conversationType:{serializedName:"conversationType",type:{name:"String"}},id:{serializedName:"id",type:{name:"String"}},name:{serializedName:"name",type:{name:"String"}},aadObjectId:{serializedName:"aadObjectId",type:{name:"String"}},role:{serializedName:"role",type:{name:"String"}},tenantId:{serializedName:"tenantId",type:{name:"String"}},properties:{serializedName:"properties",type:{name:"Object"}}}}},PN={serializedName:"MessageReaction",type:{name:"Composite",className:"MessageReaction",modelProperties:{type:{serializedName:"type",type:{name:"String"}}}}},MN={serializedName:"CardAction",type:{name:"Composite",className:"CardAction",modelProperties:{type:{serializedName:"type",type:{name:"String"}},title:{serializedName:"title",type:{name:"String"}},image:{serializedName:"image",type:{name:"String"}},text:{serializedName:"text",type:{name:"String"}},displayText:{serializedName:"displayText",type:{name:"String"}},value:{serializedName:"value",type:{name:"Object"}},channelData:{serializedName:"channelData",type:{name:"Object"}},imageAltText:{serializedName:"imageAltText",type:{name:"String"}}}}},UN={serializedName:"SuggestedActions",type:{name:"Composite",className:"SuggestedActions",modelProperties:{to:{serializedName:"to",type:{name:"Sequence",element:{type:{name:"String"}}}},actions:{serializedName:"actions",type:{name:"Sequence",element:{type:{name:"Composite",className:"CardAction"}}}}}}},BN={serializedName:"Attachment",type:{name:"Composite",className:"Attachment",modelProperties:{contentType:{serializedName:"contentType",type:{name:"String"}},contentUrl:{serializedName:"contentUrl",type:{name:"String"}},content:{serializedName:"content",type:{name:"Object"}},name:{serializedName:"name",type:{name:"String"}},thumbnailUrl:{serializedName:"thumbnailUrl",type:{name:"String"}}}}},DN={serializedName:"Entity",type:{name:"Composite",className:"Entity",modelProperties:{type:{serializedName:"type",type:{name:"String"}},text:{serializedName:"text",type:{name:"String"}},mentioned:{serializedName:"mentioned",type:{name:"Composite",className:"ChannelAccount"}}}}},LN={serializedName:"ConversationReference",type:{name:"Composite",className:"ConversationReference",modelProperties:{activityId:{serializedName:"activityId",type:{name:"String"}},user:{serializedName:"user",type:{name:"Composite",className:"ChannelAccount"}},bot:{serializedName:"bot",type:{name:"Composite",className:"ChannelAccount"}},conversation:{serializedName:"conversation",type:{name:"Composite",className:"ConversationAccount"}},channelId:{serializedName:"channelId",type:{name:"String"}},serviceUrl:{serializedName:"serviceUrl",type:{name:"String"}}}}},FN={serializedName:"TextHighlight",type:{name:"Composite",className:"TextHighlight",modelProperties:{text:{serializedName:"text",type:{name:"String"}},occurrence:{serializedName:"occurrence",type:{name:"Number"}}}}},zN={serializedName:"SemanticAction",type:{name:"Composite",className:"SemanticAction",modelProperties:{id:{serializedName:"id",type:{name:"String"}},state:{serializedName:"state",type:{name:"String"}},entities:{serializedName:"entities",type:{name:"Dictionary",value:{type:{name:"Composite",className:"Entity"}}}}}}},vc={serializedName:"Activity",type:{name:"Composite",className:"Activity",modelProperties:{type:{serializedName:"type",type:{name:"String"}},id:{serializedName:"id",type:{name:"String"}},timestamp:{serializedName:"timestamp",type:{name:"DateTime"}},localTimestamp:{serializedName:"localTimestamp",type:{name:"DateTime"}},localTimezone:{serializedName:"localTimezone",type:{name:"String"}},callerId:{serializedName:"callerId",type:{name:"String"}},serviceUrl:{serializedName:"serviceUrl",type:{name:"String"}},channelId:{serializedName:"channelId",type:{name:"String"}},from:{serializedName:"from",type:{name:"Composite",className:"ChannelAccount"}},conversation:{serializedName:"conversation",type:{name:"Composite",className:"ConversationAccount"}},recipient:{serializedName:"recipient",type:{name:"Composite",className:"ChannelAccount"}},textFormat:{serializedName:"textFormat",type:{name:"String"}},attachmentLayout:{serializedName:"attachmentLayout",type:{name:"String"}},membersAdded:{serializedName:"membersAdded",type:{name:"Sequence",element:{type:{name:"Composite",className:"ChannelAccount"}}}},membersRemoved:{serializedName:"membersRemoved",type:{name:"Sequence",element:{type:{name:"Composite",className:"ChannelAccount"}}}},reactionsAdded:{serializedName:"reactionsAdded",type:{name:"Sequence",element:{type:{name:"Composite",className:"MessageReaction"}}}},reactionsRemoved:{serializedName:"reactionsRemoved",type:{name:"Sequence",element:{type:{name:"Composite",className:"MessageReaction"}}}},topicName:{serializedName:"topicName",type:{name:"String"}},historyDisclosed:{serializedName:"historyDisclosed",type:{name:"Boolean"}},locale:{serializedName:"locale",type:{name:"String"}},text:{serializedName:"text",type:{name:"String"}},speak:{serializedName:"speak",type:{name:"String"}},inputHint:{serializedName:"inputHint",type:{name:"String"}},summary:{serializedName:"summary",type:{name:"String"}},suggestedActions:{serializedName:"suggestedActions",type:{name:"Composite",className:"SuggestedActions"}},attachments:{serializedName:"attachments",type:{name:"Sequence",element:{type:{name:"Composite",className:"Attachment"}}}},entities:{serializedName:"entities",type:{name:"Sequence",element:{type:{name:"Composite",className:"Entity",additionalProperties:{type:{name:"Object"}}}}}},channelData:{serializedName:"channelData",type:{name:"Object"}},action:{serializedName:"action",type:{name:"String"}},replyToId:{serializedName:"replyToId",type:{name:"String"}},label:{serializedName:"label",type:{name:"String"}},valueType:{serializedName:"valueType",type:{name:"String"}},value:{serializedName:"value",type:{name:"Object"}},name:{serializedName:"name",type:{name:"String"}},relatesTo:{serializedName:"relatesTo",type:{name:"Composite",className:"ConversationReference"}},code:{serializedName:"code",type:{name:"String"}},expiration:{serializedName:"expiration",type:{name:"DateTime"}},importance:{serializedName:"importance",type:{name:"String"}},deliveryMode:{serializedName:"deliveryMode",type:{name:"String"}},listenFor:{serializedName:"listenFor",type:{name:"Sequence",element:{type:{name:"String"}}}},textHighlights:{serializedName:"textHighlights",type:{name:"Sequence",element:{type:{name:"Composite",className:"TextHighlight"}}}},semanticAction:{serializedName:"semanticAction",type:{name:"Composite",className:"SemanticAction"}}}}},Zp={serializedName:"ConversationParameters",type:{name:"Composite",className:"ConversationParameters",modelProperties:{isGroup:{serializedName:"isGroup",type:{name:"Boolean"}},bot:{serializedName:"bot",type:{name:"Composite",className:"ChannelAccount"}},members:{serializedName:"members",type:{name:"Sequence",element:{type:{name:"Composite",className:"ChannelAccount"}}}},topicName:{serializedName:"topicName",type:{name:"String"}},tenantId:{serializedName:"tenantId",type:{name:"String"}},activity:{serializedName:"activity",type:{name:"Composite",className:"Activity"}},channelData:{serializedName:"channelData",type:{name:"Object"}}}}},Ec={serializedName:"ConversationResourceResponse",type:{name:"Composite",className:"ConversationResourceResponse",modelProperties:{activityId:{serializedName:"activityId",type:{name:"String"}},serviceUrl:{serializedName:"serviceUrl",type:{name:"String"}},id:{serializedName:"id",type:{name:"String"}}}}},qN={serializedName:"ConversationMembers",type:{name:"Composite",className:"ConversationMembers",modelProperties:{id:{serializedName:"id",type:{name:"String"}},members:{serializedName:"members",type:{name:"Sequence",element:{type:{name:"Composite",className:"ChannelAccount"}}}}}}},Qp={serializedName:"ConversationsResult",type:{name:"Composite",className:"ConversationsResult",modelProperties:{continuationToken:{serializedName:"continuationToken",type:{name:"String"}},conversations:{serializedName:"conversations",type:{name:"Sequence",element:{type:{name:"Composite",className:"ConversationMembers"}}}}}}};var mr={serializedName:"ResourceResponse",type:{name:"Composite",className:"ResourceResponse",modelProperties:{id:{serializedName:"id",type:{name:"String"}}}}},Xp={serializedName:"Transcript",type:{name:"Composite",className:"Transcript",modelProperties:{activities:{serializedName:"activities",type:{name:"Sequence",element:{type:{name:"Composite",className:"Activity"}}}}}}},eh={serializedName:"PagedMembersResult",type:{name:"Composite",className:"PagedMembersResult",modelProperties:{continuationToken:{serializedName:"continuationToken",type:{name:"String"}},members:{serializedName:"members",type:{name:"Sequence",element:{type:{name:"Composite",className:"ChannelAccount"}}}}}}},th={serializedName:"AttachmentData",type:{name:"Composite",className:"AttachmentData",modelProperties:{type:{serializedName:"type",type:{name:"String"}},name:{serializedName:"name",type:{name:"String"}},originalBase64:{serializedName:"originalBase64",type:{name:"ByteArray"}},thumbnailBase64:{serializedName:"thumbnailBase64",type:{name:"ByteArray"}}}}};var zn={};y();p();h();m();Ds(zn,qce__namespace);y();p();h();m();y();p();h();m();var uE={};Ut(uE,{AttachmentInfo:()=>Yp,AttachmentView:()=>xN,ErrorModel:()=>gc,ErrorResponse:()=>Tt,InnerHttpError:()=>yc});y();p();h();m();y();p();h();m();var mu={parameterPath:"activityId",mapper:{required:!0,serializedName:"activityId",type:{name:"String"}}},dE={parameterPath:"attachmentId",mapper:{required:!0,serializedName:"attachmentId",type:{name:"String"}}},fE={parameterPath:["options","continuationToken"],mapper:{serializedName:"continuationToken",type:{name:"String"}}},bn={parameterPath:"conversationId",mapper:{required:!0,serializedName:"conversationId",type:{name:"String"}}},pE={parameterPath:"memberId",mapper:{required:!0,serializedName:"memberId",type:{name:"String"}}},jN={parameterPath:["options","pageSize"],mapper:{serializedName:"pageSize",type:{name:"Number"}}},HN={parameterPath:"viewId",mapper:{required:!0,serializedName:"viewId",type:{name:"String"}}};var rh=class{constructor(e){this.client=e;}getAttachmentInfo(e,r,n){return this.client.sendOperationRequest({attachmentId:e,options:r},Z$,n)}getAttachment(e,r,n,i){return this.client.sendOperationRequest({attachmentId:e,viewId:r,options:n},Q$,i)}},VN=azureCoreHttpCompat.createSerializer(uE),Z$={httpMethod:"GET",path:"v3/attachments/{attachmentId}",urlParameters:[dE],responses:{200:{bodyMapper:Yp},default:{bodyMapper:Tt}},serializer:VN},Q$={httpMethod:"GET",path:"v3/attachments/{attachmentId}/views/{viewId}",urlParameters:[dE,HN],responses:{200:{bodyMapper:{serializedName:"parsedResponse",type:{name:"Stream"}}},301:{},302:{},default:{bodyMapper:Tt}},serializer:VN};y();p();h();m();var hE={};Ut(hE,{Activity:()=>vc,Attachment:()=>BN,AttachmentData:()=>th,CardAction:()=>MN,ChannelAccount:()=>Jp,ConversationAccount:()=>kN,ConversationMembers:()=>qN,ConversationParameters:()=>Zp,ConversationReference:()=>LN,ConversationResourceResponse:()=>Ec,ConversationsResult:()=>Qp,Entity:()=>DN,ErrorModel:()=>gc,ErrorResponse:()=>Tt,InnerHttpError:()=>yc,MessageReaction:()=>PN,PagedMembersResult:()=>eh,ResourceResponse:()=>mr,SemanticAction:()=>zN,SuggestedActions:()=>UN,TextHighlight:()=>FN,Transcript:()=>Xp});y();p();h();m();var mE={};Ut(mE,{ConversationIdHttpHeaderName:()=>yu});y();p();h();m();var yu="x-ms-conversation-id";var nh=class{constructor(e){this.client=e;}getConversations(e,r){return this.client.sendOperationRequest({options:e},e4,r)}createConversation(e,r,n){return this.client.sendOperationRequest({parameters:e,options:r},t4,n)}sendToConversation(e,r,n,i){return this.client.sendOperationRequest({conversationId:e,activity:r,options:n},r4,i)}sendConversationHistory(e,r,n,i){return this.client.sendOperationRequest({conversationId:e,history:r,options:n},n4,i)}updateActivity(e,r,n,i,o){return this.client.sendOperationRequest({conversationId:e,activityId:r,activity:n,options:i},i4,o)}replyToActivity(e,r,n,i,o){return this.client.sendOperationRequest({conversationId:e,activityId:r,activity:n,options:i},o4,o)}deleteActivity(e,r,n,i){return this.client.sendOperationRequest({conversationId:e,activityId:r,options:n},a4,i)}getConversationMembers(e,r,n){return this.client.sendOperationRequest({conversationId:e,options:r},s4,n)}getConversationMember(e,r,n,i){return this.client.sendOperationRequest({conversationId:e,memberId:r,options:n},c4,i)}getConversationPagedMembers(e,r,n){return this.client.sendOperationRequest({conversationId:e,options:r},l4,n)}deleteConversationMember(e,r,n,i){return this.client.sendOperationRequest({conversationId:e,memberId:r,options:n},u4,i)}getActivityMembers(e,r,n,i){return this.client.sendOperationRequest({conversationId:e,activityId:r,options:n},d4,i)}uploadAttachment(e,r,n,i){return this.client.sendOperationRequest({conversationId:e,attachmentUpload:r,options:n},f4,i)}},Xr=azureCoreHttpCompat.createSerializer(hE),e4={httpMethod:"GET",path:"v3/conversations",queryParameters:[fE],responses:{200:{bodyMapper:Qp},default:{bodyMapper:Tt}},serializer:Xr},t4={httpMethod:"POST",path:"v3/conversations",requestBody:{parameterPath:"parameters",mapper:ae(q({},Zp),{required:!0})},responses:{200:{bodyMapper:Ec},201:{bodyMapper:Ec},202:{bodyMapper:Ec},default:{bodyMapper:Tt}},serializer:Xr},r4={httpMethod:"POST",path:"v3/conversations/{conversationId}/activities",urlParameters:[bn],requestBody:{parameterPath:"activity",mapper:ae(q({},vc),{required:!0})},responses:{200:{bodyMapper:mr},201:{bodyMapper:mr},202:{bodyMapper:mr},default:{bodyMapper:Tt}},serializer:Xr},n4={httpMethod:"POST",path:"v3/conversations/{conversationId}/activities/history",urlParameters:[bn],requestBody:{parameterPath:"history",mapper:ae(q({},Xp),{required:!0})},responses:{200:{bodyMapper:mr},201:{bodyMapper:mr},202:{bodyMapper:mr},default:{bodyMapper:Tt}},serializer:Xr},i4={httpMethod:"PUT",path:"v3/conversations/{conversationId}/activities/{activityId}",urlParameters:[bn,mu],requestBody:{parameterPath:"activity",mapper:ae(q({},vc),{required:!0})},responses:{200:{bodyMapper:mr},201:{bodyMapper:mr},202:{bodyMapper:mr},default:{bodyMapper:Tt}},serializer:Xr},o4={httpMethod:"POST",path:"v3/conversations/{conversationId}/activities/{activityId}",urlParameters:[bn,mu],headerParameters:[{parameterPath:"conversationId",mapper:{serializedName:yu,type:{name:"String"}}}],requestBody:{parameterPath:"activity",mapper:ae(q({},vc),{required:!0})},responses:{200:{bodyMapper:mr},201:{bodyMapper:mr},202:{bodyMapper:mr},default:{bodyMapper:Tt}},serializer:Xr},a4={httpMethod:"DELETE",path:"v3/conversations/{conversationId}/activities/{activityId}",urlParameters:[bn,mu],responses:{200:{},202:{},default:{bodyMapper:Tt}},serializer:Xr},s4={httpMethod:"GET",path:"v3/conversations/{conversationId}/members",urlParameters:[bn],responses:{200:{bodyMapper:{serializedName:"parsedResponse",type:{name:"Sequence",element:{type:{name:"Composite",className:"ChannelAccount"}}}}},default:{bodyMapper:Tt}},serializer:Xr},c4={httpMethod:"GET",path:"v3/conversations/{conversationId}/members/{memberId}",urlParameters:[bn,pE],responses:{200:{bodyMapper:Jp},default:{bodyMapper:Tt}},serializer:Xr},l4={httpMethod:"GET",path:"v3/conversations/{conversationId}/pagedmembers",urlParameters:[bn],queryParameters:[jN,fE],responses:{200:{bodyMapper:eh},default:{}},serializer:Xr},u4={httpMethod:"DELETE",path:"v3/conversations/{conversationId}/members/{memberId}",urlParameters:[bn,pE],responses:{200:{},204:{},default:{bodyMapper:Tt}},serializer:Xr},d4={httpMethod:"GET",path:"v3/conversations/{conversationId}/activities/{activityId}/members",urlParameters:[bn,mu],responses:{200:{bodyMapper:{serializedName:"parsedResponse",type:{name:"Sequence",element:{type:{name:"Composite",className:"ChannelAccount"}}}}},default:{bodyMapper:Tt}},serializer:Xr},f4={httpMethod:"POST",path:"v3/conversations/{conversationId}/attachments",urlParameters:[bn],requestBody:{parameterPath:"attachmentUpload",mapper:ae(q({},th),{required:!0})},responses:{200:{bodyMapper:mr},201:{bodyMapper:mr},202:{bodyMapper:mr},default:{bodyMapper:Tt}},serializer:Xr};y();p();h();m();var m4="botframework-connector",y4="4.0.0",ih=class extends azureCoreHttpCompat.ServiceClientContext{constructor(e,r){super(e,ae(q({},r),{baseUri:(r==null?void 0:r.baseUri)||"https://api.botframework.com",userAgent:`${m4}/${y4} ${(r==null?void 0:r.userAgent)||""}`}));}};var gu=class extends ih{constructor(e,r){super(e,r),this.attachments=new rh(this),this.conversations=new nh(this);}};y();p();h();m();var oh=class{};var WN=GN(),ah=`Microsoft-BotFramework/3.1 ${WN.name}/${WN.version} `,vu=class extends oh{constructor(r,n,i,o,a,s={}){super();this.appId=r;this.toChannelFromBotOAuthScope=n;this.loginEndpoint=i;this.validateAuthority=o;this.credentialFactory=a;this.connectorClientOptions=s;}create(r,n){return L(this,null,function*(){var s,u,d;let i=yield this.credentialFactory.createCredentials(this.appId,n!=null?n:this.toChannelFromBotOAuthScope,this.loginEndpoint,this.validateAuthority),o=typeof((s=this.connectorClientOptions)==null?void 0:s.userAgent)=="function"?(u=this.connectorClientOptions)==null?void 0:u.userAgent(ah):(d=this.connectorClientOptions)==null?void 0:d.userAgent,a=ae(q({},this.connectorClientOptions),{baseUri:r,userAgent:`${ah} ${o!=null?o:""}`});return a.requestPolicyFactories=[{create:f=>({sendRequest:g=>(g.headers.contains("accept")||g.headers.set("accept","*/*"),f.sendRequest(g))})}],new gu(i,a)})}};y();p();h();m();y();p();h();m();var gt;(function(t){t.assertEqual=i=>i;function e(i){}t.assertIs=e;function r(i){throw new Error}t.assertNever=r,t.arrayToEnum=i=>{let o={};for(let a of i)o[a]=a;return o},t.getValidEnumValues=i=>{let o=t.objectKeys(i).filter(s=>typeof i[i[s]]!="number"),a={};for(let s of o)a[s]=i[s];return t.objectValues(a)},t.objectValues=i=>t.objectKeys(i).map(function(o){return i[o]}),t.objectKeys=typeof Object.keys=="function"?i=>Object.keys(i):i=>{let o=[];for(let a in i)Object.prototype.hasOwnProperty.call(i,a)&&o.push(a);return o},t.find=(i,o)=>{for(let a of i)if(o(a))return a},t.isInteger=typeof Number.isInteger=="function"?i=>Number.isInteger(i):i=>typeof i=="number"&&isFinite(i)&&Math.floor(i)===i;function n(i,o=" | "){return i.map(a=>typeof a=="string"?`'${a}'`:a).join(o)}t.joinValues=n,t.jsonStringifyReplacer=(i,o)=>typeof o=="bigint"?o.toString():o;})(gt||(gt={}));var KN;(function(t){t.mergeShapes=(e,r)=>q(q({},e),r);})(KN||(KN={}));var Me=gt.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),Na=t=>{switch(typeof t){case"undefined":return Me.undefined;case"string":return Me.string;case"number":return isNaN(t)?Me.nan:Me.number;case"boolean":return Me.boolean;case"function":return Me.function;case"bigint":return Me.bigint;case"symbol":return Me.symbol;case"object":return Array.isArray(t)?Me.array:t===null?Me.null:t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?Me.promise:typeof Map!="undefined"&&t instanceof Map?Me.map:typeof Set!="undefined"&&t instanceof Set?Me.set:typeof Date!="undefined"&&t instanceof Date?Me.date:Me.object;default:return Me.unknown}},Ce=gt.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);var Rn=class t extends Error{constructor(e){super(),this.issues=[],this.addIssue=n=>{this.issues=[...this.issues,n];},this.addIssues=(n=[])=>{this.issues=[...this.issues,...n];};let r=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,r):this.__proto__=r,this.name="ZodError",this.issues=e;}get errors(){return this.issues}format(e){let r=e||function(o){return o.message},n={_errors:[]},i=o=>{for(let a of o.issues)if(a.code==="invalid_union")a.unionErrors.map(i);else if(a.code==="invalid_return_type")i(a.returnTypeError);else if(a.code==="invalid_arguments")i(a.argumentsError);else if(a.path.length===0)n._errors.push(r(a));else {let s=n,u=0;for(;u<a.path.length;){let d=a.path[u];u===a.path.length-1?(s[d]=s[d]||{_errors:[]},s[d]._errors.push(r(a))):s[d]=s[d]||{_errors:[]},s=s[d],u++;}}};return i(this),n}static assert(e){if(!(e instanceof t))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,gt.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=r=>r.message){let r={},n=[];for(let i of this.issues)i.path.length>0?(r[i.path[0]]=r[i.path[0]]||[],r[i.path[0]].push(e(i))):n.push(e(i));return {formErrors:n,fieldErrors:r}}get formErrors(){return this.flatten()}};Rn.create=t=>new Rn(t);var Tu=(t,e)=>{let r;switch(t.code){case Ce.invalid_type:t.received===Me.undefined?r="Required":r=`Expected ${t.expected}, received ${t.received}`;break;case Ce.invalid_literal:r=`Invalid literal value, expected ${JSON.stringify(t.expected,gt.jsonStringifyReplacer)}`;break;case Ce.unrecognized_keys:r=`Unrecognized key(s) in object: ${gt.joinValues(t.keys,", ")}`;break;case Ce.invalid_union:r="Invalid input";break;case Ce.invalid_union_discriminator:r=`Invalid discriminator value. Expected ${gt.joinValues(t.options)}`;break;case Ce.invalid_enum_value:r=`Invalid enum value. Expected ${gt.joinValues(t.options)}, received '${t.received}'`;break;case Ce.invalid_arguments:r="Invalid function arguments";break;case Ce.invalid_return_type:r="Invalid function return type";break;case Ce.invalid_date:r="Invalid date";break;case Ce.invalid_string:typeof t.validation=="object"?"includes"in t.validation?(r=`Invalid input: must include "${t.validation.includes}"`,typeof t.validation.position=="number"&&(r=`${r} at one or more positions greater than or equal to ${t.validation.position}`)):"startsWith"in t.validation?r=`Invalid input: must start with "${t.validation.startsWith}"`:"endsWith"in t.validation?r=`Invalid input: must end with "${t.validation.endsWith}"`:gt.assertNever(t.validation):t.validation!=="regex"?r=`Invalid ${t.validation}`:r="Invalid";break;case Ce.too_small:t.type==="array"?r=`Array must contain ${t.exact?"exactly":t.inclusive?"at least":"more than"} ${t.minimum} element(s)`:t.type==="string"?r=`String must contain ${t.exact?"exactly":t.inclusive?"at least":"over"} ${t.minimum} character(s)`:t.type==="number"?r=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="date"?r=`Date must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(t.minimum))}`:r="Invalid input";break;case Ce.too_big:t.type==="array"?r=`Array must contain ${t.exact?"exactly":t.inclusive?"at most":"less than"} ${t.maximum} element(s)`:t.type==="string"?r=`String must contain ${t.exact?"exactly":t.inclusive?"at most":"under"} ${t.maximum} character(s)`:t.type==="number"?r=`Number must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="bigint"?r=`BigInt must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="date"?r=`Date must be ${t.exact?"exactly":t.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(t.maximum))}`:r="Invalid input";break;case Ce.custom:r="Invalid input";break;case Ce.invalid_intersection_types:r="Intersection results could not be merged";break;case Ce.not_multiple_of:r=`Number must be a multiple of ${t.multipleOf}`;break;case Ce.not_finite:r="Number must be finite";break;default:r=e.defaultError,gt.assertNever(t);}return {message:r}},v4=Tu;function gE(){return v4}var vE=t=>{let{data:e,path:r,errorMaps:n,issueData:i}=t,o=[...r,...i.path||[]],a=ae(q({},i),{path:o});if(i.message!==void 0)return ae(q({},i),{path:o,message:i.message});let s="",u=n.filter(d=>!!d).slice().reverse();for(let d of u)s=d(a,{data:e,defaultError:s}).message;return ae(q({},i),{path:o,message:s})};function Ie(t,e){let r=gE(),n=vE({issueData:e,data:t.data,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,r,r===Tu?void 0:Tu].filter(i=>!!i)});t.common.issues.push(n);}var kr=class t{constructor(){this.value="valid";}dirty(){this.value==="valid"&&(this.value="dirty");}abort(){this.value!=="aborted"&&(this.value="aborted");}static mergeArray(e,r){let n=[];for(let i of r){if(i.status==="aborted")return Je;i.status==="dirty"&&e.dirty(),n.push(i.value);}return {status:e.value,value:n}}static mergeObjectAsync(e,r){return L(this,null,function*(){let n=[];for(let i of r){let o=yield i.key,a=yield i.value;n.push({key:o,value:a});}return t.mergeObjectSync(e,n)})}static mergeObjectSync(e,r){let n={};for(let i of r){let{key:o,value:a}=i;if(o.status==="aborted"||a.status==="aborted")return Je;o.status==="dirty"&&e.dirty(),a.status==="dirty"&&e.dirty(),o.value!=="__proto__"&&(typeof a.value!="undefined"||i.alwaysSet)&&(n[o.value]=a.value);}return {status:e.value,value:n}}},Je=Object.freeze({status:"aborted"}),Eu=t=>({status:"dirty",value:t}),Hr=t=>({status:"valid",value:t}),YN=t=>t.status==="aborted",JN=t=>t.status==="dirty",sh=t=>t.status==="valid",ch=t=>typeof Promise!="undefined"&&t instanceof Promise;function lh(t,e,r,n){if(typeof e=="function"?t!==e||!n:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return e.get(t)}function QN(t,e,r,n,i){if(typeof e=="function"?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return e.set(t,r),r}var qe;(function(t){t.errToObj=e=>typeof e=="string"?{message:e}:e||{},t.toString=e=>typeof e=="string"?e:e==null?void 0:e.message;})(qe||(qe={}));var Cu,Su,_n=class{constructor(e,r,n,i){this._cachedPath=[],this.parent=e,this.data=r,this._path=n,this._key=i;}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}},ZN=(t,e)=>{if(sh(e))return {success:!0,data:e.value};if(!t.common.issues.length)throw new Error("Validation failed but no issues detected.");return {success:!1,get error(){if(this._error)return this._error;let r=new Rn(t.common.issues);return this._error=r,this._error}}};function et(t){if(!t)return {};let{errorMap:e,invalid_type_error:r,required_error:n,description:i}=t;if(e&&(r||n))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:i}:{errorMap:(a,s)=>{var u,d;let{message:f}=t;return a.code==="invalid_enum_value"?{message:f!=null?f:s.defaultError}:typeof s.data=="undefined"?{message:(u=f!=null?f:n)!==null&&u!==void 0?u:s.defaultError}:a.code!=="invalid_type"?{message:s.defaultError}:{message:(d=f!=null?f:r)!==null&&d!==void 0?d:s.defaultError}},description:i}}var nt=class{constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this);}get description(){return this._def.description}_getType(e){return Na(e.data)}_getOrReturnCtx(e,r){return r||{common:e.parent.common,data:e.data,parsedType:Na(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return {status:new kr,ctx:{common:e.parent.common,data:e.data,parsedType:Na(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){let r=this._parse(e);if(ch(r))throw new Error("Synchronous parse encountered promise.");return r}_parseAsync(e){let r=this._parse(e);return Promise.resolve(r)}parse(e,r){let n=this.safeParse(e,r);if(n.success)return n.data;throw n.error}safeParse(e,r){var n;let i={common:{issues:[],async:(n=r==null?void 0:r.async)!==null&&n!==void 0?n:!1,contextualErrorMap:r==null?void 0:r.errorMap},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Na(e)},o=this._parseSync({data:e,path:i.path,parent:i});return ZN(i,o)}parseAsync(e,r){return L(this,null,function*(){let n=yield this.safeParseAsync(e,r);if(n.success)return n.data;throw n.error})}safeParseAsync(e,r){return L(this,null,function*(){let n={common:{issues:[],contextualErrorMap:r==null?void 0:r.errorMap,async:!0},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Na(e)},i=this._parse({data:e,path:n.path,parent:n}),o=yield ch(i)?i:Promise.resolve(i);return ZN(n,o)})}refine(e,r){let n=i=>typeof r=="string"||typeof r=="undefined"?{message:r}:typeof r=="function"?r(i):r;return this._refinement((i,o)=>{let a=e(i),s=()=>o.addIssue(q({code:Ce.custom},n(i)));return typeof Promise!="undefined"&&a instanceof Promise?a.then(u=>u?!0:(s(),!1)):a?!0:(s(),!1)})}refinement(e,r){return this._refinement((n,i)=>e(n)?!0:(i.addIssue(typeof r=="function"?r(n,i):r),!1))}_refinement(e){return new jn({schema:this,typeName:Ke.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}optional(){return qn.create(this,this._def)}nullable(){return zi.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return wo.create(this,this._def)}promise(){return Oa.create(this,this._def)}or(e){return Ac.create([this,e],this._def)}and(e){return bc.create(this,e,this._def)}transform(e){return new jn(ae(q({},et(this._def)),{schema:this,typeName:Ke.ZodEffects,effect:{type:"transform",transform:e}}))}default(e){let r=typeof e=="function"?e:()=>e;return new Oc(ae(q({},et(this._def)),{innerType:this,defaultValue:r,typeName:Ke.ZodDefault}))}brand(){return new uh(q({typeName:Ke.ZodBranded,type:this},et(this._def)))}catch(e){let r=typeof e=="function"?e:()=>e;return new xc(ae(q({},et(this._def)),{innerType:this,catchValue:r,typeName:Ke.ZodCatch}))}describe(e){let r=this.constructor;return new r(ae(q({},this._def),{description:e}))}pipe(e){return dh.create(this,e)}readonly(){return kc.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}},E4=/^c[^\s-]{8,}$/i,C4=/^[0-9a-z]+$/,S4=/^[0-9A-HJKMNP-TV-Z]{26}$/,T4=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,w4=/^[a-z0-9_-]{21}$/i,A4=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,b4=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,R4="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$",yE,_4=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,I4=/^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/,N4=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,XN="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",O4=new RegExp(`^${XN}$`);function eO(t){let e="([01]\\d|2[0-3]):[0-5]\\d:[0-5]\\d";return t.precision?e=`${e}\\.\\d{${t.precision}}`:t.precision==null&&(e=`${e}(\\.\\d+)?`),e}function x4(t){return new RegExp(`^${eO(t)}$`)}function k4(t){let e=`${XN}T${eO(t)}`,r=[];return r.push(t.local?"Z?":"Z"),t.offset&&r.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${r.join("|")})`,new RegExp(`^${e}$`)}function P4(t,e){return !!((e==="v4"||!e)&&_4.test(t)||(e==="v6"||!e)&&I4.test(t))}var Sc=class t extends nt{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==Me.string){let o=this._getOrReturnCtx(e);return Ie(o,{code:Ce.invalid_type,expected:Me.string,received:o.parsedType}),Je}let n=new kr,i;for(let o of this._def.checks)if(o.kind==="min")e.data.length<o.value&&(i=this._getOrReturnCtx(e,i),Ie(i,{code:Ce.too_small,minimum:o.value,type:"string",inclusive:!0,exact:!1,message:o.message}),n.dirty());else if(o.kind==="max")e.data.length>o.value&&(i=this._getOrReturnCtx(e,i),Ie(i,{code:Ce.too_big,maximum:o.value,type:"string",inclusive:!0,exact:!1,message:o.message}),n.dirty());else if(o.kind==="length"){let a=e.data.length>o.value,s=e.data.length<o.value;(a||s)&&(i=this._getOrReturnCtx(e,i),a?Ie(i,{code:Ce.too_big,maximum:o.value,type:"string",inclusive:!0,exact:!0,message:o.message}):s&&Ie(i,{code:Ce.too_small,minimum:o.value,type:"string",inclusive:!0,exact:!0,message:o.message}),n.dirty());}else if(o.kind==="email")b4.test(e.data)||(i=this._getOrReturnCtx(e,i),Ie(i,{validation:"email",code:Ce.invalid_string,message:o.message}),n.dirty());else if(o.kind==="emoji")yE||(yE=new RegExp(R4,"u")),yE.test(e.data)||(i=this._getOrReturnCtx(e,i),Ie(i,{validation:"emoji",code:Ce.invalid_string,message:o.message}),n.dirty());else if(o.kind==="uuid")T4.test(e.data)||(i=this._getOrReturnCtx(e,i),Ie(i,{validation:"uuid",code:Ce.invalid_string,message:o.message}),n.dirty());else if(o.kind==="nanoid")w4.test(e.data)||(i=this._getOrReturnCtx(e,i),Ie(i,{validation:"nanoid",code:Ce.invalid_string,message:o.message}),n.dirty());else if(o.kind==="cuid")E4.test(e.data)||(i=this._getOrReturnCtx(e,i),Ie(i,{validation:"cuid",code:Ce.invalid_string,message:o.message}),n.dirty());else if(o.kind==="cuid2")C4.test(e.data)||(i=this._getOrReturnCtx(e,i),Ie(i,{validation:"cuid2",code:Ce.invalid_string,message:o.message}),n.dirty());else if(o.kind==="ulid")S4.test(e.data)||(i=this._getOrReturnCtx(e,i),Ie(i,{validation:"ulid",code:Ce.invalid_string,message:o.message}),n.dirty());else if(o.kind==="url")try{new URL(e.data);}catch(a){i=this._getOrReturnCtx(e,i),Ie(i,{validation:"url",code:Ce.invalid_string,message:o.message}),n.dirty();}else o.kind==="regex"?(o.regex.lastIndex=0,o.regex.test(e.data)||(i=this._getOrReturnCtx(e,i),Ie(i,{validation:"regex",code:Ce.invalid_string,message:o.message}),n.dirty())):o.kind==="trim"?e.data=e.data.trim():o.kind==="includes"?e.data.includes(o.value,o.position)||(i=this._getOrReturnCtx(e,i),Ie(i,{code:Ce.invalid_string,validation:{includes:o.value,position:o.position},message:o.message}),n.dirty()):o.kind==="toLowerCase"?e.data=e.data.toLowerCase():o.kind==="toUpperCase"?e.data=e.data.toUpperCase():o.kind==="startsWith"?e.data.startsWith(o.value)||(i=this._getOrReturnCtx(e,i),Ie(i,{code:Ce.invalid_string,validation:{startsWith:o.value},message:o.message}),n.dirty()):o.kind==="endsWith"?e.data.endsWith(o.value)||(i=this._getOrReturnCtx(e,i),Ie(i,{code:Ce.invalid_string,validation:{endsWith:o.value},message:o.message}),n.dirty()):o.kind==="datetime"?k4(o).test(e.data)||(i=this._getOrReturnCtx(e,i),Ie(i,{code:Ce.invalid_string,validation:"datetime",message:o.message}),n.dirty()):o.kind==="date"?O4.test(e.data)||(i=this._getOrReturnCtx(e,i),Ie(i,{code:Ce.invalid_string,validation:"date",message:o.message}),n.dirty()):o.kind==="time"?x4(o).test(e.data)||(i=this._getOrReturnCtx(e,i),Ie(i,{code:Ce.invalid_string,validation:"time",message:o.message}),n.dirty()):o.kind==="duration"?A4.test(e.data)||(i=this._getOrReturnCtx(e,i),Ie(i,{validation:"duration",code:Ce.invalid_string,message:o.message}),n.dirty()):o.kind==="ip"?P4(e.data,o.version)||(i=this._getOrReturnCtx(e,i),Ie(i,{validation:"ip",code:Ce.invalid_string,message:o.message}),n.dirty()):o.kind==="base64"?N4.test(e.data)||(i=this._getOrReturnCtx(e,i),Ie(i,{validation:"base64",code:Ce.invalid_string,message:o.message}),n.dirty()):gt.assertNever(o);return {status:n.value,value:e.data}}_regex(e,r,n){return this.refinement(i=>e.test(i),q({validation:r,code:Ce.invalid_string},qe.errToObj(n)))}_addCheck(e){return new t(ae(q({},this._def),{checks:[...this._def.checks,e]}))}email(e){return this._addCheck(q({kind:"email"},qe.errToObj(e)))}url(e){return this._addCheck(q({kind:"url"},qe.errToObj(e)))}emoji(e){return this._addCheck(q({kind:"emoji"},qe.errToObj(e)))}uuid(e){return this._addCheck(q({kind:"uuid"},qe.errToObj(e)))}nanoid(e){return this._addCheck(q({kind:"nanoid"},qe.errToObj(e)))}cuid(e){return this._addCheck(q({kind:"cuid"},qe.errToObj(e)))}cuid2(e){return this._addCheck(q({kind:"cuid2"},qe.errToObj(e)))}ulid(e){return this._addCheck(q({kind:"ulid"},qe.errToObj(e)))}base64(e){return this._addCheck(q({kind:"base64"},qe.errToObj(e)))}ip(e){return this._addCheck(q({kind:"ip"},qe.errToObj(e)))}datetime(e){var r,n;return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck(q({kind:"datetime",precision:typeof(e==null?void 0:e.precision)=="undefined"?null:e==null?void 0:e.precision,offset:(r=e==null?void 0:e.offset)!==null&&r!==void 0?r:!1,local:(n=e==null?void 0:e.local)!==null&&n!==void 0?n:!1},qe.errToObj(e==null?void 0:e.message)))}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck(q({kind:"time",precision:typeof(e==null?void 0:e.precision)=="undefined"?null:e==null?void 0:e.precision},qe.errToObj(e==null?void 0:e.message)))}duration(e){return this._addCheck(q({kind:"duration"},qe.errToObj(e)))}regex(e,r){return this._addCheck(q({kind:"regex",regex:e},qe.errToObj(r)))}includes(e,r){return this._addCheck(q({kind:"includes",value:e,position:r==null?void 0:r.position},qe.errToObj(r==null?void 0:r.message)))}startsWith(e,r){return this._addCheck(q({kind:"startsWith",value:e},qe.errToObj(r)))}endsWith(e,r){return this._addCheck(q({kind:"endsWith",value:e},qe.errToObj(r)))}min(e,r){return this._addCheck(q({kind:"min",value:e},qe.errToObj(r)))}max(e,r){return this._addCheck(q({kind:"max",value:e},qe.errToObj(r)))}length(e,r){return this._addCheck(q({kind:"length",value:e},qe.errToObj(r)))}nonempty(e){return this.min(1,qe.errToObj(e))}trim(){return new t(ae(q({},this._def),{checks:[...this._def.checks,{kind:"trim"}]}))}toLowerCase(){return new t(ae(q({},this._def),{checks:[...this._def.checks,{kind:"toLowerCase"}]}))}toUpperCase(){return new t(ae(q({},this._def),{checks:[...this._def.checks,{kind:"toUpperCase"}]}))}get isDatetime(){return !!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return !!this._def.checks.find(e=>e.kind==="date")}get isTime(){return !!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return !!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return !!this._def.checks.find(e=>e.kind==="email")}get isURL(){return !!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return !!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return !!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return !!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return !!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return !!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return !!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return !!this._def.checks.find(e=>e.kind==="ip")}get isBase64(){return !!this._def.checks.find(e=>e.kind==="base64")}get minLength(){let e=null;for(let r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxLength(){let e=null;for(let r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}};Sc.create=t=>{var e;return new Sc(q({checks:[],typeName:Ke.ZodString,coerce:(e=t==null?void 0:t.coerce)!==null&&e!==void 0?e:!1},et(t)))};function M4(t,e){let r=(t.toString().split(".")[1]||"").length,n=(e.toString().split(".")[1]||"").length,i=r>n?r:n,o=parseInt(t.toFixed(i).replace(".","")),a=parseInt(e.toFixed(i).replace(".",""));return o%a/Math.pow(10,i)}var wu=class t extends nt{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf;}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==Me.number){let o=this._getOrReturnCtx(e);return Ie(o,{code:Ce.invalid_type,expected:Me.number,received:o.parsedType}),Je}let n,i=new kr;for(let o of this._def.checks)o.kind==="int"?gt.isInteger(e.data)||(n=this._getOrReturnCtx(e,n),Ie(n,{code:Ce.invalid_type,expected:"integer",received:"float",message:o.message}),i.dirty()):o.kind==="min"?(o.inclusive?e.data<o.value:e.data<=o.value)&&(n=this._getOrReturnCtx(e,n),Ie(n,{code:Ce.too_small,minimum:o.value,type:"number",inclusive:o.inclusive,exact:!1,message:o.message}),i.dirty()):o.kind==="max"?(o.inclusive?e.data>o.value:e.data>=o.value)&&(n=this._getOrReturnCtx(e,n),Ie(n,{code:Ce.too_big,maximum:o.value,type:"number",inclusive:o.inclusive,exact:!1,message:o.message}),i.dirty()):o.kind==="multipleOf"?M4(e.data,o.value)!==0&&(n=this._getOrReturnCtx(e,n),Ie(n,{code:Ce.not_multiple_of,multipleOf:o.value,message:o.message}),i.dirty()):o.kind==="finite"?Number.isFinite(e.data)||(n=this._getOrReturnCtx(e,n),Ie(n,{code:Ce.not_finite,message:o.message}),i.dirty()):gt.assertNever(o);return {status:i.value,value:e.data}}gte(e,r){return this.setLimit("min",e,!0,qe.toString(r))}gt(e,r){return this.setLimit("min",e,!1,qe.toString(r))}lte(e,r){return this.setLimit("max",e,!0,qe.toString(r))}lt(e,r){return this.setLimit("max",e,!1,qe.toString(r))}setLimit(e,r,n,i){return new t(ae(q({},this._def),{checks:[...this._def.checks,{kind:e,value:r,inclusive:n,message:qe.toString(i)}]}))}_addCheck(e){return new t(ae(q({},this._def),{checks:[...this._def.checks,e]}))}int(e){return this._addCheck({kind:"int",message:qe.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:qe.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:qe.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:qe.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:qe.toString(e)})}multipleOf(e,r){return this._addCheck({kind:"multipleOf",value:e,message:qe.toString(r)})}finite(e){return this._addCheck({kind:"finite",message:qe.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:qe.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:qe.toString(e)})}get minValue(){let e=null;for(let r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxValue(){let e=null;for(let r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}get isInt(){return !!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&gt.isInteger(e.value))}get isFinite(){let e=null,r=null;for(let n of this._def.checks){if(n.kind==="finite"||n.kind==="int"||n.kind==="multipleOf")return !0;n.kind==="min"?(r===null||n.value>r)&&(r=n.value):n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);}return Number.isFinite(r)&&Number.isFinite(e)}};wu.create=t=>new wu(q({checks:[],typeName:Ke.ZodNumber,coerce:(t==null?void 0:t.coerce)||!1},et(t)));var Au=class t extends nt{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte;}_parse(e){if(this._def.coerce&&(e.data=BigInt(e.data)),this._getType(e)!==Me.bigint){let o=this._getOrReturnCtx(e);return Ie(o,{code:Ce.invalid_type,expected:Me.bigint,received:o.parsedType}),Je}let n,i=new kr;for(let o of this._def.checks)o.kind==="min"?(o.inclusive?e.data<o.value:e.data<=o.value)&&(n=this._getOrReturnCtx(e,n),Ie(n,{code:Ce.too_small,type:"bigint",minimum:o.value,inclusive:o.inclusive,message:o.message}),i.dirty()):o.kind==="max"?(o.inclusive?e.data>o.value:e.data>=o.value)&&(n=this._getOrReturnCtx(e,n),Ie(n,{code:Ce.too_big,type:"bigint",maximum:o.value,inclusive:o.inclusive,message:o.message}),i.dirty()):o.kind==="multipleOf"?e.data%o.value!==BigInt(0)&&(n=this._getOrReturnCtx(e,n),Ie(n,{code:Ce.not_multiple_of,multipleOf:o.value,message:o.message}),i.dirty()):gt.assertNever(o);return {status:i.value,value:e.data}}gte(e,r){return this.setLimit("min",e,!0,qe.toString(r))}gt(e,r){return this.setLimit("min",e,!1,qe.toString(r))}lte(e,r){return this.setLimit("max",e,!0,qe.toString(r))}lt(e,r){return this.setLimit("max",e,!1,qe.toString(r))}setLimit(e,r,n,i){return new t(ae(q({},this._def),{checks:[...this._def.checks,{kind:e,value:r,inclusive:n,message:qe.toString(i)}]}))}_addCheck(e){return new t(ae(q({},this._def),{checks:[...this._def.checks,e]}))}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:qe.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:qe.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:qe.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:qe.toString(e)})}multipleOf(e,r){return this._addCheck({kind:"multipleOf",value:e,message:qe.toString(r)})}get minValue(){let e=null;for(let r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxValue(){let e=null;for(let r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}};Au.create=t=>{var e;return new Au(q({checks:[],typeName:Ke.ZodBigInt,coerce:(e=t==null?void 0:t.coerce)!==null&&e!==void 0?e:!1},et(t)))};var bu=class extends nt{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==Me.boolean){let n=this._getOrReturnCtx(e);return Ie(n,{code:Ce.invalid_type,expected:Me.boolean,received:n.parsedType}),Je}return Hr(e.data)}};bu.create=t=>new bu(q({typeName:Ke.ZodBoolean,coerce:(t==null?void 0:t.coerce)||!1},et(t)));var Ru=class t extends nt{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==Me.date){let o=this._getOrReturnCtx(e);return Ie(o,{code:Ce.invalid_type,expected:Me.date,received:o.parsedType}),Je}if(isNaN(e.data.getTime())){let o=this._getOrReturnCtx(e);return Ie(o,{code:Ce.invalid_date}),Je}let n=new kr,i;for(let o of this._def.checks)o.kind==="min"?e.data.getTime()<o.value&&(i=this._getOrReturnCtx(e,i),Ie(i,{code:Ce.too_small,message:o.message,inclusive:!0,exact:!1,minimum:o.value,type:"date"}),n.dirty()):o.kind==="max"?e.data.getTime()>o.value&&(i=this._getOrReturnCtx(e,i),Ie(i,{code:Ce.too_big,message:o.message,inclusive:!0,exact:!1,maximum:o.value,type:"date"}),n.dirty()):gt.assertNever(o);return {status:n.value,value:new Date(e.data.getTime())}}_addCheck(e){return new t(ae(q({},this._def),{checks:[...this._def.checks,e]}))}min(e,r){return this._addCheck({kind:"min",value:e.getTime(),message:qe.toString(r)})}max(e,r){return this._addCheck({kind:"max",value:e.getTime(),message:qe.toString(r)})}get minDate(){let e=null;for(let r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(let r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e!=null?new Date(e):null}};Ru.create=t=>new Ru(q({checks:[],coerce:(t==null?void 0:t.coerce)||!1,typeName:Ke.ZodDate},et(t)));var _u=class extends nt{_parse(e){if(this._getType(e)!==Me.symbol){let n=this._getOrReturnCtx(e);return Ie(n,{code:Ce.invalid_type,expected:Me.symbol,received:n.parsedType}),Je}return Hr(e.data)}};_u.create=t=>new _u(q({typeName:Ke.ZodSymbol},et(t)));var Tc=class extends nt{_parse(e){if(this._getType(e)!==Me.undefined){let n=this._getOrReturnCtx(e);return Ie(n,{code:Ce.invalid_type,expected:Me.undefined,received:n.parsedType}),Je}return Hr(e.data)}};Tc.create=t=>new Tc(q({typeName:Ke.ZodUndefined},et(t)));var wc=class extends nt{_parse(e){if(this._getType(e)!==Me.null){let n=this._getOrReturnCtx(e);return Ie(n,{code:Ce.invalid_type,expected:Me.null,received:n.parsedType}),Je}return Hr(e.data)}};wc.create=t=>new wc(q({typeName:Ke.ZodNull},et(t)));var Iu=class extends nt{constructor(){super(...arguments),this._any=!0;}_parse(e){return Hr(e.data)}};Iu.create=t=>new Iu(q({typeName:Ke.ZodAny},et(t)));var To=class extends nt{constructor(){super(...arguments),this._unknown=!0;}_parse(e){return Hr(e.data)}};To.create=t=>new To(q({typeName:Ke.ZodUnknown},et(t)));var pi=class extends nt{_parse(e){let r=this._getOrReturnCtx(e);return Ie(r,{code:Ce.invalid_type,expected:Me.never,received:r.parsedType}),Je}};pi.create=t=>new pi(q({typeName:Ke.ZodNever},et(t)));var Nu=class extends nt{_parse(e){if(this._getType(e)!==Me.undefined){let n=this._getOrReturnCtx(e);return Ie(n,{code:Ce.invalid_type,expected:Me.void,received:n.parsedType}),Je}return Hr(e.data)}};Nu.create=t=>new Nu(q({typeName:Ke.ZodVoid},et(t)));var wo=class t extends nt{_parse(e){let{ctx:r,status:n}=this._processInputParams(e),i=this._def;if(r.parsedType!==Me.array)return Ie(r,{code:Ce.invalid_type,expected:Me.array,received:r.parsedType}),Je;if(i.exactLength!==null){let a=r.data.length>i.exactLength.value,s=r.data.length<i.exactLength.value;(a||s)&&(Ie(r,{code:a?Ce.too_big:Ce.too_small,minimum:s?i.exactLength.value:void 0,maximum:a?i.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:i.exactLength.message}),n.dirty());}if(i.minLength!==null&&r.data.length<i.minLength.value&&(Ie(r,{code:Ce.too_small,minimum:i.minLength.value,type:"array",inclusive:!0,exact:!1,message:i.minLength.message}),n.dirty()),i.maxLength!==null&&r.data.length>i.maxLength.value&&(Ie(r,{code:Ce.too_big,maximum:i.maxLength.value,type:"array",inclusive:!0,exact:!1,message:i.maxLength.message}),n.dirty()),r.common.async)return Promise.all([...r.data].map((a,s)=>i.type._parseAsync(new _n(r,a,r.path,s)))).then(a=>kr.mergeArray(n,a));let o=[...r.data].map((a,s)=>i.type._parseSync(new _n(r,a,r.path,s)));return kr.mergeArray(n,o)}get element(){return this._def.type}min(e,r){return new t(ae(q({},this._def),{minLength:{value:e,message:qe.toString(r)}}))}max(e,r){return new t(ae(q({},this._def),{maxLength:{value:e,message:qe.toString(r)}}))}length(e,r){return new t(ae(q({},this._def),{exactLength:{value:e,message:qe.toString(r)}}))}nonempty(e){return this.min(1,e)}};wo.create=(t,e)=>new wo(q({type:t,minLength:null,maxLength:null,exactLength:null,typeName:Ke.ZodArray},et(e)));function Cc(t){if(t instanceof en){let e={};for(let r in t.shape){let n=t.shape[r];e[r]=qn.create(Cc(n));}return new en(ae(q({},t._def),{shape:()=>e}))}else return t instanceof wo?new wo(ae(q({},t._def),{type:Cc(t.element)})):t instanceof qn?qn.create(Cc(t.unwrap())):t instanceof zi?zi.create(Cc(t.unwrap())):t instanceof Fi?Fi.create(t.items.map(e=>Cc(e))):t}var en=class t extends nt{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend;}_getCached(){if(this._cached!==null)return this._cached;let e=this._def.shape(),r=gt.objectKeys(e);return this._cached={shape:e,keys:r}}_parse(e){if(this._getType(e)!==Me.object){let d=this._getOrReturnCtx(e);return Ie(d,{code:Ce.invalid_type,expected:Me.object,received:d.parsedType}),Je}let{status:n,ctx:i}=this._processInputParams(e),{shape:o,keys:a}=this._getCached(),s=[];if(!(this._def.catchall instanceof pi&&this._def.unknownKeys==="strip"))for(let d in i.data)a.includes(d)||s.push(d);let u=[];for(let d of a){let f=o[d],g=i.data[d];u.push({key:{status:"valid",value:d},value:f._parse(new _n(i,g,i.path,d)),alwaysSet:d in i.data});}if(this._def.catchall instanceof pi){let d=this._def.unknownKeys;if(d==="passthrough")for(let f of s)u.push({key:{status:"valid",value:f},value:{status:"valid",value:i.data[f]}});else if(d==="strict")s.length>0&&(Ie(i,{code:Ce.unrecognized_keys,keys:s}),n.dirty());else if(d!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else {let d=this._def.catchall;for(let f of s){let g=i.data[f];u.push({key:{status:"valid",value:f},value:d._parse(new _n(i,g,i.path,f)),alwaysSet:f in i.data});}}return i.common.async?Promise.resolve().then(()=>L(this,null,function*(){let d=[];for(let f of u){let g=yield f.key,C=yield f.value;d.push({key:g,value:C,alwaysSet:f.alwaysSet});}return d})).then(d=>kr.mergeObjectSync(n,d)):kr.mergeObjectSync(n,u)}get shape(){return this._def.shape()}strict(e){return qe.errToObj,new t(q(ae(q({},this._def),{unknownKeys:"strict"}),e!==void 0?{errorMap:(r,n)=>{var i,o,a,s;let u=(a=(o=(i=this._def).errorMap)===null||o===void 0?void 0:o.call(i,r,n).message)!==null&&a!==void 0?a:n.defaultError;return r.code==="unrecognized_keys"?{message:(s=qe.errToObj(e).message)!==null&&s!==void 0?s:u}:{message:u}}}:{}))}strip(){return new t(ae(q({},this._def),{unknownKeys:"strip"}))}passthrough(){return new t(ae(q({},this._def),{unknownKeys:"passthrough"}))}extend(e){return new t(ae(q({},this._def),{shape:()=>q(q({},this._def.shape()),e)}))}merge(e){return new t({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>q(q({},this._def.shape()),e._def.shape()),typeName:Ke.ZodObject})}setKey(e,r){return this.augment({[e]:r})}catchall(e){return new t(ae(q({},this._def),{catchall:e}))}pick(e){let r={};return gt.objectKeys(e).forEach(n=>{e[n]&&this.shape[n]&&(r[n]=this.shape[n]);}),new t(ae(q({},this._def),{shape:()=>r}))}omit(e){let r={};return gt.objectKeys(this.shape).forEach(n=>{e[n]||(r[n]=this.shape[n]);}),new t(ae(q({},this._def),{shape:()=>r}))}deepPartial(){return Cc(this)}partial(e){let r={};return gt.objectKeys(this.shape).forEach(n=>{let i=this.shape[n];e&&!e[n]?r[n]=i:r[n]=i.optional();}),new t(ae(q({},this._def),{shape:()=>r}))}required(e){let r={};return gt.objectKeys(this.shape).forEach(n=>{if(e&&!e[n])r[n]=this.shape[n];else {let o=this.shape[n];for(;o instanceof qn;)o=o._def.innerType;r[n]=o;}}),new t(ae(q({},this._def),{shape:()=>r}))}keyof(){return tO(gt.objectKeys(this.shape))}};en.create=(t,e)=>new en(q({shape:()=>t,unknownKeys:"strip",catchall:pi.create(),typeName:Ke.ZodObject},et(e)));en.strictCreate=(t,e)=>new en(q({shape:()=>t,unknownKeys:"strict",catchall:pi.create(),typeName:Ke.ZodObject},et(e)));en.lazycreate=(t,e)=>new en(q({shape:t,unknownKeys:"strip",catchall:pi.create(),typeName:Ke.ZodObject},et(e)));var Ac=class extends nt{_parse(e){let{ctx:r}=this._processInputParams(e),n=this._def.options;function i(o){for(let s of o)if(s.result.status==="valid")return s.result;for(let s of o)if(s.result.status==="dirty")return r.common.issues.push(...s.ctx.common.issues),s.result;let a=o.map(s=>new Rn(s.ctx.common.issues));return Ie(r,{code:Ce.invalid_union,unionErrors:a}),Je}if(r.common.async)return Promise.all(n.map(o=>L(this,null,function*(){let a=ae(q({},r),{common:ae(q({},r.common),{issues:[]}),parent:null});return {result:yield o._parseAsync({data:r.data,path:r.path,parent:a}),ctx:a}}))).then(i);{let o,a=[];for(let u of n){let d=ae(q({},r),{common:ae(q({},r.common),{issues:[]}),parent:null}),f=u._parseSync({data:r.data,path:r.path,parent:d});if(f.status==="valid")return f;f.status==="dirty"&&!o&&(o={result:f,ctx:d}),d.common.issues.length&&a.push(d.common.issues);}if(o)return r.common.issues.push(...o.ctx.common.issues),o.result;let s=a.map(u=>new Rn(u));return Ie(r,{code:Ce.invalid_union,unionErrors:s}),Je}}get options(){return this._def.options}};Ac.create=(t,e)=>new Ac(q({options:t,typeName:Ke.ZodUnion},et(e)));function CE(t,e){let r=Na(t),n=Na(e);if(t===e)return {valid:!0,data:t};if(r===Me.object&&n===Me.object){let i=gt.objectKeys(e),o=gt.objectKeys(t).filter(s=>i.indexOf(s)!==-1),a=q(q({},t),e);for(let s of o){let u=CE(t[s],e[s]);if(!u.valid)return {valid:!1};a[s]=u.data;}return {valid:!0,data:a}}else if(r===Me.array&&n===Me.array){if(t.length!==e.length)return {valid:!1};let i=[];for(let o=0;o<t.length;o++){let a=t[o],s=e[o],u=CE(a,s);if(!u.valid)return {valid:!1};i.push(u.data);}return {valid:!0,data:i}}else return r===Me.date&&n===Me.date&&+t==+e?{valid:!0,data:t}:{valid:!1}}var bc=class extends nt{_parse(e){let{status:r,ctx:n}=this._processInputParams(e),i=(o,a)=>{if(YN(o)||YN(a))return Je;let s=CE(o.value,a.value);return s.valid?((JN(o)||JN(a))&&r.dirty(),{status:r.value,value:s.data}):(Ie(n,{code:Ce.invalid_intersection_types}),Je)};return n.common.async?Promise.all([this._def.left._parseAsync({data:n.data,path:n.path,parent:n}),this._def.right._parseAsync({data:n.data,path:n.path,parent:n})]).then(([o,a])=>i(o,a)):i(this._def.left._parseSync({data:n.data,path:n.path,parent:n}),this._def.right._parseSync({data:n.data,path:n.path,parent:n}))}};bc.create=(t,e,r)=>new bc(q({left:t,right:e,typeName:Ke.ZodIntersection},et(r)));var Fi=class t extends nt{_parse(e){let{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==Me.array)return Ie(n,{code:Ce.invalid_type,expected:Me.array,received:n.parsedType}),Je;if(n.data.length<this._def.items.length)return Ie(n,{code:Ce.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),Je;!this._def.rest&&n.data.length>this._def.items.length&&(Ie(n,{code:Ce.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),r.dirty());let o=[...n.data].map((a,s)=>{let u=this._def.items[s]||this._def.rest;return u?u._parse(new _n(n,a,n.path,s)):null}).filter(a=>!!a);return n.common.async?Promise.all(o).then(a=>kr.mergeArray(r,a)):kr.mergeArray(r,o)}get items(){return this._def.items}rest(e){return new t(ae(q({},this._def),{rest:e}))}};Fi.create=(t,e)=>{if(!Array.isArray(t))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new Fi(q({items:t,typeName:Ke.ZodTuple,rest:null},et(e)))};var SE=class t extends nt{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){let{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==Me.object)return Ie(n,{code:Ce.invalid_type,expected:Me.object,received:n.parsedType}),Je;let i=[],o=this._def.keyType,a=this._def.valueType;for(let s in n.data)i.push({key:o._parse(new _n(n,s,n.path,s)),value:a._parse(new _n(n,n.data[s],n.path,s)),alwaysSet:s in n.data});return n.common.async?kr.mergeObjectAsync(r,i):kr.mergeObjectSync(r,i)}get element(){return this._def.valueType}static create(e,r,n){return r instanceof nt?new t(q({keyType:e,valueType:r,typeName:Ke.ZodRecord},et(n))):new t(q({keyType:Sc.create(),valueType:e,typeName:Ke.ZodRecord},et(r)))}},Ou=class extends nt{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){let{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==Me.map)return Ie(n,{code:Ce.invalid_type,expected:Me.map,received:n.parsedType}),Je;let i=this._def.keyType,o=this._def.valueType,a=[...n.data.entries()].map(([s,u],d)=>({key:i._parse(new _n(n,s,n.path,[d,"key"])),value:o._parse(new _n(n,u,n.path,[d,"value"]))}));if(n.common.async){let s=new Map;return Promise.resolve().then(()=>L(this,null,function*(){for(let u of a){let d=yield u.key,f=yield u.value;if(d.status==="aborted"||f.status==="aborted")return Je;(d.status==="dirty"||f.status==="dirty")&&r.dirty(),s.set(d.value,f.value);}return {status:r.value,value:s}}))}else {let s=new Map;for(let u of a){let d=u.key,f=u.value;if(d.status==="aborted"||f.status==="aborted")return Je;(d.status==="dirty"||f.status==="dirty")&&r.dirty(),s.set(d.value,f.value);}return {status:r.value,value:s}}}};Ou.create=(t,e,r)=>new Ou(q({valueType:e,keyType:t,typeName:Ke.ZodMap},et(r)));var xu=class t extends nt{_parse(e){let{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==Me.set)return Ie(n,{code:Ce.invalid_type,expected:Me.set,received:n.parsedType}),Je;let i=this._def;i.minSize!==null&&n.data.size<i.minSize.value&&(Ie(n,{code:Ce.too_small,minimum:i.minSize.value,type:"set",inclusive:!0,exact:!1,message:i.minSize.message}),r.dirty()),i.maxSize!==null&&n.data.size>i.maxSize.value&&(Ie(n,{code:Ce.too_big,maximum:i.maxSize.value,type:"set",inclusive:!0,exact:!1,message:i.maxSize.message}),r.dirty());let o=this._def.valueType;function a(u){let d=new Set;for(let f of u){if(f.status==="aborted")return Je;f.status==="dirty"&&r.dirty(),d.add(f.value);}return {status:r.value,value:d}}let s=[...n.data.values()].map((u,d)=>o._parse(new _n(n,u,n.path,d)));return n.common.async?Promise.all(s).then(u=>a(u)):a(s)}min(e,r){return new t(ae(q({},this._def),{minSize:{value:e,message:qe.toString(r)}}))}max(e,r){return new t(ae(q({},this._def),{maxSize:{value:e,message:qe.toString(r)}}))}size(e,r){return this.min(e,r).max(e,r)}nonempty(e){return this.min(1,e)}};xu.create=(t,e)=>new xu(q({valueType:t,minSize:null,maxSize:null,typeName:Ke.ZodSet},et(e)));var Rc=class extends nt{get schema(){return this._def.getter()}_parse(e){let{ctx:r}=this._processInputParams(e);return this._def.getter()._parse({data:r.data,path:r.path,parent:r})}};Rc.create=(t,e)=>new Rc(q({getter:t,typeName:Ke.ZodLazy},et(e)));var _c=class extends nt{_parse(e){if(e.data!==this._def.value){let r=this._getOrReturnCtx(e);return Ie(r,{received:r.data,code:Ce.invalid_literal,expected:this._def.value}),Je}return {status:"valid",value:e.data}}get value(){return this._def.value}};_c.create=(t,e)=>new _c(q({value:t,typeName:Ke.ZodLiteral},et(e)));function tO(t,e){return new Ic(q({values:t,typeName:Ke.ZodEnum},et(e)))}var Ic=class t extends nt{constructor(){super(...arguments),Cu.set(this,void 0);}_parse(e){if(typeof e.data!="string"){let r=this._getOrReturnCtx(e),n=this._def.values;return Ie(r,{expected:gt.joinValues(n),received:r.parsedType,code:Ce.invalid_type}),Je}if(lh(this,Cu)||QN(this,Cu,new Set(this._def.values)),!lh(this,Cu).has(e.data)){let r=this._getOrReturnCtx(e),n=this._def.values;return Ie(r,{received:r.data,code:Ce.invalid_enum_value,options:n}),Je}return Hr(e.data)}get options(){return this._def.values}get enum(){let e={};for(let r of this._def.values)e[r]=r;return e}get Values(){let e={};for(let r of this._def.values)e[r]=r;return e}get Enum(){let e={};for(let r of this._def.values)e[r]=r;return e}extract(e,r=this._def){return t.create(e,q(q({},this._def),r))}exclude(e,r=this._def){return t.create(this.options.filter(n=>!e.includes(n)),q(q({},this._def),r))}};Cu=new WeakMap;Ic.create=tO;var Nc=class extends nt{constructor(){super(...arguments),Su.set(this,void 0);}_parse(e){let r=gt.getValidEnumValues(this._def.values),n=this._getOrReturnCtx(e);if(n.parsedType!==Me.string&&n.parsedType!==Me.number){let i=gt.objectValues(r);return Ie(n,{expected:gt.joinValues(i),received:n.parsedType,code:Ce.invalid_type}),Je}if(lh(this,Su)||QN(this,Su,new Set(gt.getValidEnumValues(this._def.values))),!lh(this,Su).has(e.data)){let i=gt.objectValues(r);return Ie(n,{received:n.data,code:Ce.invalid_enum_value,options:i}),Je}return Hr(e.data)}get enum(){return this._def.values}};Su=new WeakMap;Nc.create=(t,e)=>new Nc(q({values:t,typeName:Ke.ZodNativeEnum},et(e)));var Oa=class extends nt{unwrap(){return this._def.type}_parse(e){let{ctx:r}=this._processInputParams(e);if(r.parsedType!==Me.promise&&r.common.async===!1)return Ie(r,{code:Ce.invalid_type,expected:Me.promise,received:r.parsedType}),Je;let n=r.parsedType===Me.promise?r.data:Promise.resolve(r.data);return Hr(n.then(i=>this._def.type.parseAsync(i,{path:r.path,errorMap:r.common.contextualErrorMap})))}};Oa.create=(t,e)=>new Oa(q({type:t,typeName:Ke.ZodPromise},et(e)));var jn=class extends nt{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===Ke.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){let{status:r,ctx:n}=this._processInputParams(e),i=this._def.effect||null,o={addIssue:a=>{Ie(n,a),a.fatal?r.abort():r.dirty();},get path(){return n.path}};if(o.addIssue=o.addIssue.bind(o),i.type==="preprocess"){let a=i.transform(n.data,o);if(n.common.async)return Promise.resolve(a).then(s=>L(this,null,function*(){if(r.value==="aborted")return Je;let u=yield this._def.schema._parseAsync({data:s,path:n.path,parent:n});return u.status==="aborted"?Je:u.status==="dirty"||r.value==="dirty"?Eu(u.value):u}));{if(r.value==="aborted")return Je;let s=this._def.schema._parseSync({data:a,path:n.path,parent:n});return s.status==="aborted"?Je:s.status==="dirty"||r.value==="dirty"?Eu(s.value):s}}if(i.type==="refinement"){let a=s=>{let u=i.refinement(s,o);if(n.common.async)return Promise.resolve(u);if(u instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return s};if(n.common.async===!1){let s=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});return s.status==="aborted"?Je:(s.status==="dirty"&&r.dirty(),a(s.value),{status:r.value,value:s.value})}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(s=>s.status==="aborted"?Je:(s.status==="dirty"&&r.dirty(),a(s.value).then(()=>({status:r.value,value:s.value}))))}if(i.type==="transform")if(n.common.async===!1){let a=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});if(!sh(a))return a;let s=i.transform(a.value,o);if(s instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return {status:r.value,value:s}}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(a=>sh(a)?Promise.resolve(i.transform(a.value,o)).then(s=>({status:r.value,value:s})):a);gt.assertNever(i);}};jn.create=(t,e,r)=>new jn(q({schema:t,typeName:Ke.ZodEffects,effect:e},et(r)));jn.createWithPreprocess=(t,e,r)=>new jn(q({schema:e,effect:{type:"preprocess",transform:t},typeName:Ke.ZodEffects},et(r)));var qn=class extends nt{_parse(e){return this._getType(e)===Me.undefined?Hr(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}};qn.create=(t,e)=>new qn(q({innerType:t,typeName:Ke.ZodOptional},et(e)));var zi=class extends nt{_parse(e){return this._getType(e)===Me.null?Hr(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}};zi.create=(t,e)=>new zi(q({innerType:t,typeName:Ke.ZodNullable},et(e)));var Oc=class extends nt{_parse(e){let{ctx:r}=this._processInputParams(e),n=r.data;return r.parsedType===Me.undefined&&(n=this._def.defaultValue()),this._def.innerType._parse({data:n,path:r.path,parent:r})}removeDefault(){return this._def.innerType}};Oc.create=(t,e)=>new Oc(q({innerType:t,typeName:Ke.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default},et(e)));var xc=class extends nt{_parse(e){let{ctx:r}=this._processInputParams(e),n=ae(q({},r),{common:ae(q({},r.common),{issues:[]})}),i=this._def.innerType._parse({data:n.data,path:n.path,parent:q({},n)});return ch(i)?i.then(o=>({status:"valid",value:o.status==="valid"?o.value:this._def.catchValue({get error(){return new Rn(n.common.issues)},input:n.data})})):{status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new Rn(n.common.issues)},input:n.data})}}removeCatch(){return this._def.innerType}};xc.create=(t,e)=>new xc(q({innerType:t,typeName:Ke.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch},et(e)));var ku=class extends nt{_parse(e){if(this._getType(e)!==Me.nan){let n=this._getOrReturnCtx(e);return Ie(n,{code:Ce.invalid_type,expected:Me.nan,received:n.parsedType}),Je}return {status:"valid",value:e.data}}};ku.create=t=>new ku(q({typeName:Ke.ZodNaN},et(t)));var uh=class extends nt{_parse(e){let{ctx:r}=this._processInputParams(e),n=r.data;return this._def.type._parse({data:n,path:r.path,parent:r})}unwrap(){return this._def.type}},dh=class t extends nt{_parse(e){let{status:r,ctx:n}=this._processInputParams(e);if(n.common.async)return L(this,null,function*(){let o=yield this._def.in._parseAsync({data:n.data,path:n.path,parent:n});return o.status==="aborted"?Je:o.status==="dirty"?(r.dirty(),Eu(o.value)):this._def.out._parseAsync({data:o.value,path:n.path,parent:n})});{let i=this._def.in._parseSync({data:n.data,path:n.path,parent:n});return i.status==="aborted"?Je:i.status==="dirty"?(r.dirty(),{status:"dirty",value:i.value}):this._def.out._parseSync({data:i.value,path:n.path,parent:n})}}static create(e,r){return new t({in:e,out:r,typeName:Ke.ZodPipeline})}},kc=class extends nt{_parse(e){let r=this._def.innerType._parse(e),n=i=>(sh(i)&&(i.value=Object.freeze(i.value)),i);return ch(r)?r.then(i=>n(i)):n(r)}unwrap(){return this._def.innerType}};kc.create=(t,e)=>new kc(q({innerType:t,typeName:Ke.ZodReadonly},et(e)));({object:en.lazycreate});var Ke;(function(t){t.ZodString="ZodString",t.ZodNumber="ZodNumber",t.ZodNaN="ZodNaN",t.ZodBigInt="ZodBigInt",t.ZodBoolean="ZodBoolean",t.ZodDate="ZodDate",t.ZodSymbol="ZodSymbol",t.ZodUndefined="ZodUndefined",t.ZodNull="ZodNull",t.ZodAny="ZodAny",t.ZodUnknown="ZodUnknown",t.ZodNever="ZodNever",t.ZodVoid="ZodVoid",t.ZodArray="ZodArray",t.ZodObject="ZodObject",t.ZodUnion="ZodUnion",t.ZodDiscriminatedUnion="ZodDiscriminatedUnion",t.ZodIntersection="ZodIntersection",t.ZodTuple="ZodTuple",t.ZodRecord="ZodRecord",t.ZodMap="ZodMap",t.ZodSet="ZodSet",t.ZodFunction="ZodFunction",t.ZodLazy="ZodLazy",t.ZodLiteral="ZodLiteral",t.ZodEnum="ZodEnum",t.ZodEffects="ZodEffects",t.ZodNativeEnum="ZodNativeEnum",t.ZodOptional="ZodOptional",t.ZodNullable="ZodNullable",t.ZodDefault="ZodDefault",t.ZodCatch="ZodCatch",t.ZodPromise="ZodPromise",t.ZodBranded="ZodBranded",t.ZodPipeline="ZodPipeline",t.ZodReadonly="ZodReadonly";})(Ke||(Ke={}));var _t=Sc.create;wu.create;ku.create;Au.create;bu.create;Ru.create;_u.create;Tc.create;wc.create;Iu.create;var Pc=To.create;pi.create;Nu.create;wo.create;var In=en.create;en.strictCreate;Ac.create;bc.create;Fi.create;var xa=SE.create;Ou.create;xu.create;Rc.create;_c.create;Ic.create;Nc.create;Oa.create;jn.create;qn.create;zi.create;jn.createWithPreprocess;y();p();h();m();y();p();h();m();y();p();h();m();y();p();h();m();y();p();h();m();y();p();h();m();y();p();h();m();function ka(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return {next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function U4(t,e){var r=typeof Symbol=="function"&&t[Symbol.iterator];if(!r)return t;var n=r.call(t),i,o=[],a;try{for(;(e===void 0||e-- >0)&&!(i=n.next()).done;)o.push(i.value);}catch(s){a={error:s};}finally{try{i&&!i.done&&(r=n.return)&&r.call(n);}finally{if(a)throw a.error}}return o}function Pa(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(U4(arguments[e]));return t}y();p();h();m();y();p();h();m();var B4=console.debug||console.log;function rO(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];B4.apply(void 0,Pa(t));}var nO=typeof A!="undefined"&&A.env&&A.env.DEBUG||void 0,iO,AE=[],bE=[],fh=[];nO&&RE(nO);function RE(t){var e,r,n,i;iO=t,AE=[],bE=[];var o=/\*/g,a=t.split(",").map(function(S){return S.trim().replace(o,".*?")});try{for(var s=ka(a),u=s.next();!u.done;u=s.next()){var d=u.value;d.startsWith("-")?bE.push(new RegExp("^"+d.substr(1)+"$")):AE.push(new RegExp("^"+d+"$"));}}catch(S){e={error:S};}finally{try{u&&!u.done&&(r=s.return)&&r.call(s);}finally{if(e)throw e.error}}try{for(var f=ka(fh),g=f.next();!g.done;g=f.next()){var C=g.value;C.enabled=_E(C.namespace);}}catch(S){n={error:S};}finally{try{g&&!g.done&&(i=f.return)&&i.call(f);}finally{if(n)throw n.error}}}function _E(t){var e,r,n,i;if(t.endsWith("*"))return !0;try{for(var o=ka(bE),a=o.next();!a.done;a=o.next()){var s=a.value;if(s.test(t))return !1}}catch(g){e={error:g};}finally{try{a&&!a.done&&(r=o.return)&&r.call(o);}finally{if(e)throw e.error}}try{for(var u=ka(AE),d=u.next();!d.done;d=u.next()){var f=d.value;if(f.test(t))return !0}}catch(g){n={error:g};}finally{try{d&&!d.done&&(i=u.return)&&i.call(u);}finally{if(n)throw n.error}}return !1}function D4(){var t=iO||"";return RE(""),t}function oO(t){function e(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];r.enabled&&(n.length>0&&(n[0]=t+" "+n[0]),r.log.apply(r,Pa(n)));}var r=Object.assign(e,{enabled:_E(t),destroy:L4,log:aO.log,namespace:t,extend:F4});return fh.push(r),r}function L4(){var t=fh.indexOf(this);return t>=0?(fh.splice(t,1),!0):!1}function F4(t){var e=oO(this.namespace+":"+t);return e.log=this.log,e}var aO=Object.assign(function(t){return oO(t)},{enable:RE,enabled:_E,disable:D4,log:rO}),Ma=aO;var cO=new Set,ph=typeof A!="undefined"&&A.env&&A.env.AZURE_LOG_LEVEL||void 0,IE,NE=Ma("azure");NE.log=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];Ma.log.apply(Ma,Pa(t));};var OE=["verbose","info","warning","error"];ph&&(dO(ph)?z4(ph):console.error("AZURE_LOG_LEVEL set to unknown log level '"+ph+"'; logging is not enabled. Acceptable values: "+OE.join(", ")+"."));function z4(t){var e,r;if(t&&!dO(t))throw new Error("Unknown log level '"+t+"'. Acceptable values: "+OE.join(","));IE=t;var n=[];try{for(var i=ka(cO),o=i.next();!o.done;o=i.next()){var a=o.value;uO(a)&&n.push(a.namespace);}}catch(s){e={error:s};}finally{try{o&&!o.done&&(r=i.return)&&r.call(i);}finally{if(e)throw e.error}}Ma.enable(n.join(","));}var sO={verbose:400,info:300,warning:200,error:100};function mh(t){var e=NE.extend(t);return lO(NE,e),{error:hh(e,"error"),warning:hh(e,"warning"),info:hh(e,"info"),verbose:hh(e,"verbose")}}function lO(t,e){e.log=function(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];t.log.apply(t,Pa(r));};}function hh(t,e){var r=Object.assign(t.extend(e),{level:e});if(lO(t,r),uO(r)){var n=Ma.disable();Ma.enable(n+","+r.namespace);}return cO.add(r),r}function uO(t){return !!(IE&&sO[t.level]<=sO[IE])}function dO(t){return OE.includes(t)}mh("core-rest-pipeline");y();p();h();m();y();p();h();m();y();p();h();m();y();p();h();m();y();p();h();m();y();p();h();m();y();p();h();m();y();p();h();m();y();p();h();m();function vh(t){return typeof t=="object"&&t!==null&&!Array.isArray(t)&&!(t instanceof RegExp)&&!(t instanceof Date)}y();p();h();m();y();p();h();m();y();p();h();m();y();p();h();m();y();p();h();m();new Set("0123456789abcdefABCDEF");y();p();h();m();y();p();h();m();y();p();h();m();function fO(){let t="";for(let e=0;e<32;e++){let r=Math.floor(Math.random()*16);e===12?t+="4":e===16?t+=r&3|8:t+=r.toString(16),(e===7||e===11||e===15||e===19)&&(t+="-");}return t}var kE;typeof((kE=globalThis==null?void 0:globalThis.crypto)===null||kE===void 0?void 0:kE.randomUUID)=="function"?globalThis.crypto.randomUUID.bind(globalThis.crypto):fO;y();p();h();m();var PE,ME,UE,BE;typeof self=="object"&&typeof(self==null?void 0:self.importScripts)=="function"&&(((PE=self.constructor)===null||PE===void 0?void 0:PE.name)==="DedicatedWorkerGlobalScope"||((ME=self.constructor)===null||ME===void 0?void 0:ME.name)==="ServiceWorkerGlobalScope"||((UE=self.constructor)===null||UE===void 0?void 0:UE.name)==="SharedWorkerGlobalScope");typeof Deno!="undefined"&&typeof Deno.version!="undefined"&&typeof Deno.version.deno!="undefined";typeof Bun!="undefined"&&typeof Bun.version!="undefined";typeof globalThis.process!="undefined"&&!!globalThis.process.version&&!!(!((BE=globalThis.process.versions)===null||BE===void 0)&&BE.node);var DE="REDACTED",Z4=["x-ms-client-request-id","x-ms-return-client-request-id","x-ms-useragent","x-ms-correlation-request-id","x-ms-request-id","client-request-id","ms-cv","return-client-request-id","traceparent","Access-Control-Allow-Credentials","Access-Control-Allow-Headers","Access-Control-Allow-Methods","Access-Control-Allow-Origin","Access-Control-Expose-Headers","Access-Control-Max-Age","Access-Control-Request-Headers","Access-Control-Request-Method","Origin","Accept","Accept-Encoding","Cache-Control","Connection","Content-Length","Content-Type","Date","ETag","Expires","If-Match","If-Modified-Since","If-None-Match","If-Unmodified-Since","Last-Modified","Pragma","Request-Id","Retry-After","Server","Transfer-Encoding","User-Agent","WWW-Authenticate"],Q4=["api-version"],Mc=class{constructor({additionalAllowedHeaderNames:e=[],additionalAllowedQueryParameters:r=[]}={}){e=Z4.concat(e),r=Q4.concat(r),this.allowedHeaderNames=new Set(e.map(n=>n.toLowerCase())),this.allowedQueryParameters=new Set(r.map(n=>n.toLowerCase()));}sanitize(e){let r=new Set;return JSON.stringify(e,(n,i)=>{if(i instanceof Error)return Object.assign(Object.assign({},i),{name:i.name,message:i.message});if(n==="headers")return this.sanitizeHeaders(i);if(n==="url")return this.sanitizeUrl(i);if(n==="query")return this.sanitizeQuery(i);if(n==="body")return;if(n==="response")return;if(n==="operationSpec")return;if(Array.isArray(i)||vh(i)){if(r.has(i))return "[Circular]";r.add(i);}return i},2)}sanitizeUrl(e){if(typeof e!="string"||e===null||e==="")return e;let r=new URL(e);if(!r.search)return e;for(let[n]of r.searchParams)this.allowedQueryParameters.has(n.toLowerCase())||r.searchParams.set(n,DE);return r.toString()}sanitizeHeaders(e){let r={};for(let n of Object.keys(e))this.allowedHeaderNames.has(n.toLowerCase())?r[n]=e[n]:r[n]=DE;return r}sanitizeQuery(e){if(typeof e!="object"||e===null)return e;let r={};for(let n of Object.keys(e))this.allowedQueryParameters.has(n.toLowerCase())?r[n]=e[n]:r[n]=DE;return r}};y();p();h();m();y();p();h();m();y();p();h();m();y();p();h();m();y();p();h();m();y();p();h();m();y();p();h();m();y();p();h();m();y();p();h();m();y();p();h();m();new Set("abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789'()+,-./:=?");y();p();h();m();y();p();h();m();y();p();h();m();y();p();h();m();y();p();h();m();y();p();h();m();mh("core-rest-pipeline retryPolicy");y();p();h();m();y();p();h();m();function Th(t){return t.toLowerCase()}function*i3(t){for(let e of t.values())yield [e.name,e.value];}var LE=class{constructor(e){if(this._headersMap=new Map,e)for(let r of Object.keys(e))this.set(r,e[r]);}set(e,r){this._headersMap.set(Th(e),{name:e,value:String(r).trim()});}get(e){var r;return (r=this._headersMap.get(Th(e)))===null||r===void 0?void 0:r.value}has(e){return this._headersMap.has(Th(e))}delete(e){this._headersMap.delete(Th(e));}toJSON(e={}){let r={};if(e.preserveCase)for(let n of this._headersMap.values())r[n.name]=n.value;else for(let[n,i]of this._headersMap)r[n]=i.value;return r}toString(){return JSON.stringify(this.toJSON({preserveCase:!0}))}[Symbol.iterator](){return i3(this._headersMap)}};function Uc(t){return new LE(t)}y();p();h();m();y();p();h();m();y();p();h();m();y();p();h();m();y();p();h();m();y();p();h();m();y();p();h();m();y();p();h();m();var Bc={span:Symbol.for("@azure/core-tracing span"),namespace:Symbol.for("@azure/core-tracing namespace")};function EO(t={}){let e=new FE(t.parentContext);return t.span&&(e=e.setValue(Bc.span,t.span)),t.namespace&&(e=e.setValue(Bc.namespace,t.namespace)),e}var FE=class t{constructor(e){this._contextMap=e instanceof t?new Map(e._contextMap):new Map;}setValue(e,r){let n=new t(this);return n._contextMap.set(e,r),n}getValue(e){return this._contextMap.get(e)}deleteValue(e){let r=new t(this);return r._contextMap.delete(e),r}};y();p();h();m();var wh={instrumenterImplementation:void 0};function o3(){return {end:()=>{},isRecording:()=>!1,recordException:()=>{},setAttribute:()=>{},setStatus:()=>{}}}function a3(){return {createRequestHeaders:()=>({}),parseTraceparentHeader:()=>{},startSpan:(t,e)=>({span:o3(),tracingContext:EO({parentContext:e.tracingContext})}),withContext(t,e,...r){return e(...r)}}}function Pu(){return wh.instrumenterImplementation||(wh.instrumenterImplementation=a3()),wh.instrumenterImplementation}y();p();h();m();function Ah(t){let{namespace:e,packageName:r,packageVersion:n}=t;function i(d,f,g){var C;let S=Pu().startSpan(d,Object.assign(Object.assign({},g),{packageName:r,packageVersion:n,tracingContext:(C=f==null?void 0:f.tracingOptions)===null||C===void 0?void 0:C.tracingContext})),E=S.tracingContext,T=S.span;E.getValue(Bc.namespace)||(E=E.setValue(Bc.namespace,e)),T.setAttribute("az.namespace",E.getValue(Bc.namespace));let _=Object.assign({},f,{tracingOptions:Object.assign(Object.assign({},f==null?void 0:f.tracingOptions),{tracingContext:E})});return {span:T,updatedOptions:_}}function o(d,f,g,C){return L(this,null,function*(){let{span:S,updatedOptions:E}=i(d,f,C);try{let T=yield a(E.tracingOptions.tracingContext,()=>Promise.resolve(g(E,S)));return S.setStatus({status:"success"}),T}catch(T){throw S.setStatus({status:"error",error:T}),T}finally{S.end();}})}function a(d,f,...g){return Pu().withContext(d,f,...g)}function s(d){return Pu().parseTraceparentHeader(d)}function u(d){return Pu().createRequestHeaders(d)}return {startSpan:i,withSpan:o,withContext:a,parseTraceparentHeader:s,createRequestHeaders:u}}y();p();h();m();y();p();h();m();y();p();h();m();var CO={};var s3=new Mc,Dc=class t extends Error{constructor(e,r={}){super(e),this.name="RestError",this.code=r.code,this.statusCode=r.statusCode,Object.defineProperty(this,"request",{value:r.request,enumerable:!1}),Object.defineProperty(this,"response",{value:r.response,enumerable:!1}),Object.setPrototypeOf(this,t.prototype);}[CO](){return `RestError: ${this.message} 
 ${s3.sanitize(Object.assign(Object.assign({},this),{request:this.request,response:this.response}))}`}};Dc.REQUEST_SEND_ERROR="REQUEST_SEND_ERROR";Dc.PARSE_ERROR="PARSE_ERROR";y();p();h();m();y();p();h();m();y();p();h();m();y();p();h();m();y();p();h();m();y();p();h();m();y();p();h();m();y();p();h();m();y();p();h();m();y();p();h();m();En();y();p();h();m();y();p();h();m();y();p();h();m();y();p();h();m();function Mu(t,e){return function(){return t.apply(e,arguments)}}var{toString:T3}=Object.prototype,{getPrototypeOf:qE}=Object,Rh=(t=>e=>{let r=T3.call(e);return t[r]||(t[r]=r.slice(8,-1).toLowerCase())})(Object.create(null)),Hn=t=>(t=t.toLowerCase(),e=>Rh(e)===t),_h=t=>e=>typeof e===t,{isArray:Lc}=Array,Uu=_h("undefined");function w3(t){return t!==null&&!Uu(t)&&t.constructor!==null&&!Uu(t.constructor)&&tn(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}var wO=Hn("ArrayBuffer");function A3(t){let e;return typeof ArrayBuffer!="undefined"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&wO(t.buffer),e}var b3=_h("string"),tn=_h("function"),AO=_h("number"),Ih=t=>t!==null&&typeof t=="object",R3=t=>t===!0||t===!1,bh=t=>{if(Rh(t)!=="object")return !1;let e=qE(t);return (e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},_3=Hn("Date"),I3=Hn("File"),N3=Hn("Blob"),O3=Hn("FileList"),x3=t=>Ih(t)&&tn(t.pipe),k3=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||tn(t.append)&&((e=Rh(t))==="formdata"||e==="object"&&tn(t.toString)&&t.toString()==="[object FormData]"))},P3=Hn("URLSearchParams"),[M3,U3,B3,D3]=["ReadableStream","Request","Response","Headers"].map(Hn),L3=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Bu(t,e,{allOwnKeys:r=!1}={}){if(t===null||typeof t=="undefined")return;let n,i;if(typeof t!="object"&&(t=[t]),Lc(t))for(n=0,i=t.length;n<i;n++)e.call(null,t[n],n,t);else {let o=r?Object.getOwnPropertyNames(t):Object.keys(t),a=o.length,s;for(n=0;n<a;n++)s=o[n],e.call(null,t[s],s,t);}}function bO(t,e){e=e.toLowerCase();let r=Object.keys(t),n=r.length,i;for(;n-- >0;)if(i=r[n],e===i.toLowerCase())return i;return null}var Ua=typeof globalThis!="undefined"?globalThis:typeof self!="undefined"?self:typeof window!="undefined"?window:globalThis,RO=t=>!Uu(t)&&t!==Ua;function zE(){let{caseless:t}=RO(this)&&this||{},e={},r=(n,i)=>{let o=t&&bO(e,i)||i;bh(e[o])&&bh(n)?e[o]=zE(e[o],n):bh(n)?e[o]=zE({},n):Lc(n)?e[o]=n.slice():e[o]=n;};for(let n=0,i=arguments.length;n<i;n++)arguments[n]&&Bu(arguments[n],r);return e}var F3=(t,e,r,{allOwnKeys:n}={})=>(Bu(e,(i,o)=>{r&&tn(i)?t[o]=Mu(i,r):t[o]=i;},{allOwnKeys:n}),t),z3=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),q3=(t,e,r,n)=>{t.prototype=Object.create(e.prototype,n),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),r&&Object.assign(t.prototype,r);},j3=(t,e,r,n)=>{let i,o,a,s={};if(e=e||{},t==null)return e;do{for(i=Object.getOwnPropertyNames(t),o=i.length;o-- >0;)a=i[o],(!n||n(a,t,e))&&!s[a]&&(e[a]=t[a],s[a]=!0);t=r!==!1&&qE(t);}while(t&&(!r||r(t,e))&&t!==Object.prototype);return e},H3=(t,e,r)=>{t=String(t),(r===void 0||r>t.length)&&(r=t.length),r-=e.length;let n=t.indexOf(e,r);return n!==-1&&n===r},$3=t=>{if(!t)return null;if(Lc(t))return t;let e=t.length;if(!AO(e))return null;let r=new Array(e);for(;e-- >0;)r[e]=t[e];return r},V3=(t=>e=>t&&e instanceof t)(typeof Uint8Array!="undefined"&&qE(Uint8Array)),G3=(t,e)=>{let n=(t&&t[Symbol.iterator]).call(t),i;for(;(i=n.next())&&!i.done;){let o=i.value;e.call(t,o[0],o[1]);}},W3=(t,e)=>{let r,n=[];for(;(r=t.exec(e))!==null;)n.push(r);return n},K3=Hn("HTMLFormElement"),Y3=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(r,n,i){return n.toUpperCase()+i}),TO=(({hasOwnProperty:t})=>(e,r)=>t.call(e,r))(Object.prototype),J3=Hn("RegExp"),_O=(t,e)=>{let r=Object.getOwnPropertyDescriptors(t),n={};Bu(r,(i,o)=>{let a;(a=e(i,o,t))!==!1&&(n[o]=a||i);}),Object.defineProperties(t,n);},Z3=t=>{_O(t,(e,r)=>{if(tn(t)&&["arguments","caller","callee"].indexOf(r)!==-1)return !1;let n=t[r];if(tn(n)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")});}});},Q3=(t,e)=>{let r={},n=i=>{i.forEach(o=>{r[o]=!0;});};return Lc(t)?n(t):n(String(t).split(e)),r},X3=()=>{},e8=(t,e)=>t!=null&&Number.isFinite(t=+t)?t:e;function t8(t){return !!(t&&tn(t.append)&&t[Symbol.toStringTag]==="FormData"&&t[Symbol.iterator])}var r8=t=>{let e=new Array(10),r=(n,i)=>{if(Ih(n)){if(e.indexOf(n)>=0)return;if(!("toJSON"in n)){e[i]=n;let o=Lc(n)?[]:{};return Bu(n,(a,s)=>{let u=r(a,i+1);!Uu(u)&&(o[s]=u);}),e[i]=void 0,o}}return n};return r(t,0)},n8=Hn("AsyncFunction"),i8=t=>t&&(Ih(t)||tn(t))&&tn(t.then)&&tn(t.catch),IO=((t,e)=>t?setImmediate:e?((r,n)=>(Ua.addEventListener("message",({source:i,data:o})=>{i===Ua&&o===r&&n.length&&n.shift()();},!1),i=>{n.push(i),Ua.postMessage(r,"*");}))(`axios@${Math.random()}`,[]):r=>setTimeout(r))(typeof setImmediate=="function",tn(Ua.postMessage)),o8=typeof queueMicrotask!="undefined"?queueMicrotask.bind(Ua):typeof A!="undefined"&&A.nextTick||IO,J={isArray:Lc,isArrayBuffer:wO,isBuffer:w3,isFormData:k3,isArrayBufferView:A3,isString:b3,isNumber:AO,isBoolean:R3,isObject:Ih,isPlainObject:bh,isReadableStream:M3,isRequest:U3,isResponse:B3,isHeaders:D3,isUndefined:Uu,isDate:_3,isFile:I3,isBlob:N3,isRegExp:J3,isFunction:tn,isStream:x3,isURLSearchParams:P3,isTypedArray:V3,isFileList:O3,forEach:Bu,merge:zE,extend:F3,trim:L3,stripBOM:z3,inherits:q3,toFlatObject:j3,kindOf:Rh,kindOfTest:Hn,endsWith:H3,toArray:$3,forEachEntry:G3,matchAll:W3,isHTMLForm:K3,hasOwnProperty:TO,hasOwnProp:TO,reduceDescriptors:_O,freezeMethods:Z3,toObjectSet:Q3,toCamelCase:Y3,noop:X3,toFiniteNumber:e8,findKey:bO,global:Ua,isContextDefined:RO,isSpecCompliantForm:t8,toJSONObject:r8,isAsyncFn:n8,isThenable:i8,setImmediate:IO,asap:o8};y();p();h();m();y();p();h();m();y();p();h();m();y();p();h();m();y();p();h();m();function Fc(t,e,r,n,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),r&&(this.config=r),n&&(this.request=n),i&&(this.response=i,this.status=i.status?i.status:null);}J.inherits(Fc,Error,{toJSON:function(){return {message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:J.toJSONObject(this.config),code:this.code,status:this.status}}});var NO=Fc.prototype,OO={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{OO[t]={value:t};});Object.defineProperties(Fc,OO);Object.defineProperty(NO,"isAxiosError",{value:!0});Fc.from=(t,e,r,n,i,o)=>{let a=Object.create(NO);return J.toFlatObject(t,a,function(u){return u!==Error.prototype},s=>s!=="isAxiosError"),Fc.call(a,t.message,e,r,n,i),a.cause=t,a.name=t.name,o&&Object.assign(a,o),a};var Ye=Fc;y();p();h();m();var Nh=null;function jE(t){return J.isPlainObject(t)||J.isArray(t)}function kO(t){return J.endsWith(t,"[]")?t.slice(0,-2):t}function xO(t,e,r){return t?t.concat(e).map(function(i,o){return i=kO(i),!r&&o?"["+i+"]":i}).join(r?".":""):e}function a8(t){return J.isArray(t)&&!t.some(jE)}var s8=J.toFlatObject(J,{},null,function(e){return /^is[A-Z]/.test(e)});function c8(t,e,r){if(!J.isObject(t))throw new TypeError("target must be an object");e=e||new(FormData),r=J.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(T,_){return !J.isUndefined(_[T])});let n=r.metaTokens,i=r.visitor||f,o=r.dots,a=r.indexes,u=(r.Blob||typeof Blob!="undefined"&&Blob)&&J.isSpecCompliantForm(e);if(!J.isFunction(i))throw new TypeError("visitor must be a function");function d(E){if(E===null)return "";if(J.isDate(E))return E.toISOString();if(!u&&J.isBlob(E))throw new Ye("Blob is not supported. Use a Buffer instead.");return J.isArrayBuffer(E)||J.isTypedArray(E)?u&&typeof Blob=="function"?new Blob([E]):R.Buffer.from(E):E}function f(E,T,_){let P=E;if(E&&!_&&typeof E=="object"){if(J.endsWith(T,"{}"))T=n?T:T.slice(0,-2),E=JSON.stringify(E);else if(J.isArray(E)&&a8(E)||(J.isFileList(E)||J.endsWith(T,"[]"))&&(P=J.toArray(E)))return T=kO(T),P.forEach(function(D,V){!(J.isUndefined(D)||D===null)&&e.append(a===!0?xO([T],V,o):a===null?T:T+"[]",d(D));}),!1}return jE(E)?!0:(e.append(xO(_,T,o),d(E)),!1)}let g=[],C=Object.assign(s8,{defaultVisitor:f,convertValue:d,isVisitable:jE});function S(E,T){if(!J.isUndefined(E)){if(g.indexOf(E)!==-1)throw Error("Circular reference detected in "+T.join("."));g.push(E),J.forEach(E,function(P,M){(!(J.isUndefined(P)||P===null)&&i.call(e,P,J.isString(M)?M.trim():M,T,C))===!0&&S(P,T?T.concat(M):[M]);}),g.pop();}}if(!J.isObject(t))throw new TypeError("data must be an object");return S(t),e}var Ao=c8;function PO(t){let e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(n){return e[n]})}function MO(t,e){this._pairs=[],t&&Ao(t,this,e);}var UO=MO.prototype;UO.append=function(e,r){this._pairs.push([e,r]);};UO.toString=function(e){let r=e?function(n){return e.call(this,n,PO)}:PO;return this._pairs.map(function(i){return r(i[0])+"="+r(i[1])},"").join("&")};var Oh=MO;function l8(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function Du(t,e,r){if(!e)return t;let n=r&&r.encode||l8;J.isFunction(r)&&(r={serialize:r});let i=r&&r.serialize,o;if(i?o=i(e,r):o=J.isURLSearchParams(e)?e.toString():new Oh(e,r).toString(n),o){let a=t.indexOf("#");a!==-1&&(t=t.slice(0,a)),t+=(t.indexOf("?")===-1?"?":"&")+o;}return t}y();p();h();m();var HE=class{constructor(){this.handlers=[];}use(e,r,n){return this.handlers.push({fulfilled:e,rejected:r,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null);}clear(){this.handlers&&(this.handlers=[]);}forEach(e){J.forEach(this.handlers,function(n){n!==null&&e(n);});}},$E=HE;y();p();h();m();y();p();h();m();y();p();h();m();y();p();h();m();var xh={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1};y();p();h();m();y();p();h();m();y();p();h();m();y();p();h();m();var BO=typeof URLSearchParams!="undefined"?URLSearchParams:Oh;y();p();h();m();var DO=typeof FormData!="undefined"?FormData:null;y();p();h();m();var LO=typeof Blob!="undefined"?Blob:null;var FO={isBrowser:!0,classes:{URLSearchParams:BO,FormData:DO,Blob:LO},protocols:["http","https","file","blob","url","data"]};var WE={};Ut(WE,{hasBrowserEnv:()=>GE,hasStandardBrowserEnv:()=>u8,hasStandardBrowserWebWorkerEnv:()=>d8,navigator:()=>VE,origin:()=>f8});y();p();h();m();var GE=typeof window!="undefined"&&typeof document!="undefined",VE=typeof navigator=="object"&&navigator||void 0,u8=GE&&(!VE||["ReactNative","NativeScript","NS"].indexOf(VE.product)<0),d8=typeof WorkerGlobalScope!="undefined"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",f8=GE&&window.location.href||"http://localhost";var Dt=q(q({},WE),FO);function KE(t,e){return Ao(t,new Dt.classes.URLSearchParams,Object.assign({visitor:function(r,n,i,o){return Dt.isNode&&J.isBuffer(r)?(this.append(n,r.toString("base64")),!1):o.defaultVisitor.apply(this,arguments)}},e))}y();p();h();m();function p8(t){return J.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function h8(t){let e={},r=Object.keys(t),n,i=r.length,o;for(n=0;n<i;n++)o=r[n],e[o]=t[o];return e}function m8(t){function e(r,n,i,o){let a=r[o++];if(a==="__proto__")return !0;let s=Number.isFinite(+a),u=o>=r.length;return a=!a&&J.isArray(i)?i.length:a,u?(J.hasOwnProp(i,a)?i[a]=[i[a],n]:i[a]=n,!s):((!i[a]||!J.isObject(i[a]))&&(i[a]=[]),e(r,n,i[a],o)&&J.isArray(i[a])&&(i[a]=h8(i[a])),!s)}if(J.isFormData(t)&&J.isFunction(t.entries)){let r={};return J.forEachEntry(t,(n,i)=>{e(p8(n),i,r,0);}),r}return null}var kh=m8;function y8(t,e,r){if(J.isString(t))try{return (e||JSON.parse)(t),J.trim(t)}catch(n){if(n.name!=="SyntaxError")throw n}return (0, JSON.stringify)(t)}var YE={transitional:xh,adapter:["xhr","http","fetch"],transformRequest:[function(e,r){let n=r.getContentType()||"",i=n.indexOf("application/json")>-1,o=J.isObject(e);if(o&&J.isHTMLForm(e)&&(e=new FormData(e)),J.isFormData(e))return i?JSON.stringify(kh(e)):e;if(J.isArrayBuffer(e)||J.isBuffer(e)||J.isStream(e)||J.isFile(e)||J.isBlob(e)||J.isReadableStream(e))return e;if(J.isArrayBufferView(e))return e.buffer;if(J.isURLSearchParams(e))return r.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let s;if(o){if(n.indexOf("application/x-www-form-urlencoded")>-1)return KE(e,this.formSerializer).toString();if((s=J.isFileList(e))||n.indexOf("multipart/form-data")>-1){let u=this.env&&this.env.FormData;return Ao(s?{"files[]":e}:e,u&&new u,this.formSerializer)}}return o||i?(r.setContentType("application/json",!1),y8(e)):e}],transformResponse:[function(e){let r=this.transitional||YE.transitional,n=r&&r.forcedJSONParsing,i=this.responseType==="json";if(J.isResponse(e)||J.isReadableStream(e))return e;if(e&&J.isString(e)&&(n&&!this.responseType||i)){let a=!(r&&r.silentJSONParsing)&&i;try{return JSON.parse(e)}catch(s){if(a)throw s.name==="SyntaxError"?Ye.from(s,Ye.ERR_BAD_RESPONSE,this,null,this.response):s}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Dt.classes.FormData,Blob:Dt.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};J.forEach(["delete","get","head","post","put","patch"],t=>{YE.headers[t]={};});var zc=YE;y();p();h();m();y();p();h();m();var g8=J.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),zO=t=>{let e={},r,n,i;return t&&t.split(`
`).forEach(function(a){i=a.indexOf(":"),r=a.substring(0,i).trim().toLowerCase(),n=a.substring(i+1).trim(),!(!r||e[r]&&g8[r])&&(r==="set-cookie"?e[r]?e[r].push(n):e[r]=[n]:e[r]=e[r]?e[r]+", "+n:n);}),e};var qO=Symbol("internals");function Lu(t){return t&&String(t).trim().toLowerCase()}function Ph(t){return t===!1||t==null?t:J.isArray(t)?t.map(Ph):String(t)}function v8(t){let e=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g,n;for(;n=r.exec(t);)e[n[1]]=n[2];return e}var E8=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function JE(t,e,r,n,i){if(J.isFunction(n))return n.call(this,e,r);if(i&&(e=r),!!J.isString(e)){if(J.isString(n))return e.indexOf(n)!==-1;if(J.isRegExp(n))return n.test(e)}}function C8(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,r,n)=>r.toUpperCase()+n)}function S8(t,e){let r=J.toCamelCase(" "+e);["get","set","has"].forEach(n=>{Object.defineProperty(t,n+r,{value:function(i,o,a){return this[n].call(this,e,i,o,a)},configurable:!0});});}var qc=class{constructor(e){e&&this.set(e);}set(e,r,n){let i=this;function o(s,u,d){let f=Lu(u);if(!f)throw new Error("header name must be a non-empty string");let g=J.findKey(i,f);(!g||i[g]===void 0||d===!0||d===void 0&&i[g]!==!1)&&(i[g||u]=Ph(s));}let a=(s,u)=>J.forEach(s,(d,f)=>o(d,f,u));if(J.isPlainObject(e)||e instanceof this.constructor)a(e,r);else if(J.isString(e)&&(e=e.trim())&&!E8(e))a(zO(e),r);else if(J.isHeaders(e))for(let[s,u]of e.entries())o(u,s,n);else e!=null&&o(r,e,n);return this}get(e,r){if(e=Lu(e),e){let n=J.findKey(this,e);if(n){let i=this[n];if(!r)return i;if(r===!0)return v8(i);if(J.isFunction(r))return r.call(this,i,n);if(J.isRegExp(r))return r.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,r){if(e=Lu(e),e){let n=J.findKey(this,e);return !!(n&&this[n]!==void 0&&(!r||JE(this,this[n],n,r)))}return !1}delete(e,r){let n=this,i=!1;function o(a){if(a=Lu(a),a){let s=J.findKey(n,a);s&&(!r||JE(n,n[s],s,r))&&(delete n[s],i=!0);}}return J.isArray(e)?e.forEach(o):o(e),i}clear(e){let r=Object.keys(this),n=r.length,i=!1;for(;n--;){let o=r[n];(!e||JE(this,this[o],o,e,!0))&&(delete this[o],i=!0);}return i}normalize(e){let r=this,n={};return J.forEach(this,(i,o)=>{let a=J.findKey(n,o);if(a){r[a]=Ph(i),delete r[o];return}let s=e?C8(o):String(o).trim();s!==o&&delete r[o],r[s]=Ph(i),n[s]=!0;}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){let r=Object.create(null);return J.forEach(this,(n,i)=>{n!=null&&n!==!1&&(r[i]=e&&J.isArray(n)?n.join(", "):n);}),r}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,r])=>e+": "+r).join(`
`)}get[Symbol.toStringTag](){return "AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...r){let n=new this(e);return r.forEach(i=>n.set(i)),n}static accessor(e){let n=(this[qO]=this[qO]={accessors:{}}).accessors,i=this.prototype;function o(a){let s=Lu(a);n[s]||(S8(i,a),n[s]=!0);}return J.isArray(e)?e.forEach(o):o(e),this}};qc.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);J.reduceDescriptors(qc.prototype,({value:t},e)=>{let r=e[0].toUpperCase()+e.slice(1);return {get:()=>t,set(n){this[r]=n;}}});J.freezeMethods(qc);var cr=qc;function Fu(t,e){let r=this||zc,n=e||r,i=cr.from(n.headers),o=n.data;return J.forEach(t,function(s){o=s.call(r,o,i.normalize(),e?e.status:void 0);}),i.normalize(),o}y();p();h();m();function zu(t){return !!(t&&t.__CANCEL__)}y();p();h();m();function jO(t,e,r){Ye.call(this,t==null?"canceled":t,Ye.ERR_CANCELED,e,r),this.name="CanceledError";}J.inherits(jO,Ye,{__CANCEL__:!0});var hi=jO;y();p();h();m();y();p();h();m();y();p();h();m();function qu(t,e,r){let n=r.config.validateStatus;!r.status||!n||n(r.status)?t(r):e(new Ye("Request failed with status code "+r.status,[Ye.ERR_BAD_REQUEST,Ye.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r));}y();p();h();m();function ZE(t){let e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}y();p();h();m();y();p();h();m();function T8(t,e){t=t||10;let r=new Array(t),n=new Array(t),i=0,o=0,a;return e=e!==void 0?e:1e3,function(u){let d=Date.now(),f=n[o];a||(a=d),r[i]=u,n[i]=d;let g=o,C=0;for(;g!==i;)C+=r[g++],g=g%t;if(i=(i+1)%t,i===o&&(o=(o+1)%t),d-a<e)return;let S=f&&d-f;return S?Math.round(C*1e3/S):void 0}}var HO=T8;y();p();h();m();function w8(t,e){let r=0,n=1e3/e,i,o,a=(d,f=Date.now())=>{r=f,i=null,o&&(clearTimeout(o),o=null),t.apply(null,d);};return [(...d)=>{let f=Date.now(),g=f-r;g>=n?a(d,f):(i=d,o||(o=setTimeout(()=>{o=null,a(i);},n-g)));},()=>i&&a(i)]}var $O=w8;var jc=(t,e,r=3)=>{let n=0,i=HO(50,250);return $O(o=>{let a=o.loaded,s=o.lengthComputable?o.total:void 0,u=a-n,d=i(u),f=a<=s;n=a;let g={loaded:a,total:s,progress:s?a/s:void 0,bytes:u,rate:d||void 0,estimated:d&&s&&f?(s-a)/d:void 0,event:o,lengthComputable:s!=null,[e?"download":"upload"]:!0};t(g);},r)},QE=(t,e)=>{let r=t!=null;return [n=>e[0]({lengthComputable:r,total:t,loaded:n}),e[1]]},XE=t=>(...e)=>J.asap(()=>t(...e));y();p();h();m();y();p();h();m();var VO=Dt.hasStandardBrowserEnv?((t,e)=>r=>(r=new URL(r,Dt.origin),t.protocol===r.protocol&&t.host===r.host&&(e||t.port===r.port)))(new URL(Dt.origin),Dt.navigator&&/(msie|trident)/i.test(Dt.navigator.userAgent)):()=>!0;y();p();h();m();var GO=Dt.hasStandardBrowserEnv?{write(t,e,r,n,i,o){let a=[t+"="+encodeURIComponent(e)];J.isNumber(r)&&a.push("expires="+new Date(r).toGMTString()),J.isString(n)&&a.push("path="+n),J.isString(i)&&a.push("domain="+i),o===!0&&a.push("secure"),document.cookie=a.join("; ");},read(t){let e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(t){this.write(t,"",Date.now()-864e5);}}:{write(){},read(){return null},remove(){}};y();p();h();m();y();p();h();m();function eC(t){return /^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}y();p();h();m();function tC(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}function ju(t,e,r){let n=!eC(e);return t&&n||r==!1?tC(t,e):e}y();p();h();m();var WO=t=>t instanceof cr?q({},t):t;function $n(t,e){e=e||{};let r={};function n(d,f,g,C){return J.isPlainObject(d)&&J.isPlainObject(f)?J.merge.call({caseless:C},d,f):J.isPlainObject(f)?J.merge({},f):J.isArray(f)?f.slice():f}function i(d,f,g,C){if(J.isUndefined(f)){if(!J.isUndefined(d))return n(void 0,d,g,C)}else return n(d,f,g,C)}function o(d,f){if(!J.isUndefined(f))return n(void 0,f)}function a(d,f){if(J.isUndefined(f)){if(!J.isUndefined(d))return n(void 0,d)}else return n(void 0,f)}function s(d,f,g){if(g in e)return n(d,f);if(g in t)return n(void 0,d)}let u={url:o,method:o,data:o,baseURL:a,transformRequest:a,transformResponse:a,paramsSerializer:a,timeout:a,timeoutMessage:a,withCredentials:a,withXSRFToken:a,adapter:a,responseType:a,xsrfCookieName:a,xsrfHeaderName:a,onUploadProgress:a,onDownloadProgress:a,decompress:a,maxContentLength:a,maxBodyLength:a,beforeRedirect:a,transport:a,httpAgent:a,httpsAgent:a,cancelToken:a,socketPath:a,responseEncoding:a,validateStatus:s,headers:(d,f,g)=>i(WO(d),WO(f),g,!0)};return J.forEach(Object.keys(Object.assign({},t,e)),function(f){let g=u[f]||i,C=g(t[f],e[f],f);J.isUndefined(C)&&g!==s||(r[f]=C);}),r}var Mh=t=>{let e=$n({},t),{data:r,withXSRFToken:n,xsrfHeaderName:i,xsrfCookieName:o,headers:a,auth:s}=e;e.headers=a=cr.from(a),e.url=Du(ju(e.baseURL,e.url),t.params,t.paramsSerializer),s&&a.set("Authorization","Basic "+btoa((s.username||"")+":"+(s.password?unescape(encodeURIComponent(s.password)):"")));let u;if(J.isFormData(r)){if(Dt.hasStandardBrowserEnv||Dt.hasStandardBrowserWebWorkerEnv)a.setContentType(void 0);else if((u=a.getContentType())!==!1){let[d,...f]=u?u.split(";").map(g=>g.trim()).filter(Boolean):[];a.setContentType([d||"multipart/form-data",...f].join("; "));}}if(Dt.hasStandardBrowserEnv&&(n&&J.isFunction(n)&&(n=n(e)),n||n!==!1&&VO(e.url))){let d=i&&o&&GO.read(o);d&&a.set(i,d);}return e};var A8=typeof XMLHttpRequest!="undefined",KO=A8&&function(t){return new Promise(function(r,n){let i=Mh(t),o=i.data,a=cr.from(i.headers).normalize(),{responseType:s,onUploadProgress:u,onDownloadProgress:d}=i,f,g,C,S,E;function T(){S&&S(),E&&E(),i.cancelToken&&i.cancelToken.unsubscribe(f),i.signal&&i.signal.removeEventListener("abort",f);}let _=new XMLHttpRequest;_.open(i.method.toUpperCase(),i.url,!0),_.timeout=i.timeout;function P(){if(!_)return;let D=cr.from("getAllResponseHeaders"in _&&_.getAllResponseHeaders()),Y={data:!s||s==="text"||s==="json"?_.responseText:_.response,status:_.status,statusText:_.statusText,headers:D,config:t,request:_};qu(function(ue){r(ue),T();},function(ue){n(ue),T();},Y),_=null;}"onloadend"in _?_.onloadend=P:_.onreadystatechange=function(){!_||_.readyState!==4||_.status===0&&!(_.responseURL&&_.responseURL.indexOf("file:")===0)||setTimeout(P);},_.onabort=function(){_&&(n(new Ye("Request aborted",Ye.ECONNABORTED,t,_)),_=null);},_.onerror=function(){n(new Ye("Network Error",Ye.ERR_NETWORK,t,_)),_=null;},_.ontimeout=function(){let V=i.timeout?"timeout of "+i.timeout+"ms exceeded":"timeout exceeded",Y=i.transitional||xh;i.timeoutErrorMessage&&(V=i.timeoutErrorMessage),n(new Ye(V,Y.clarifyTimeoutError?Ye.ETIMEDOUT:Ye.ECONNABORTED,t,_)),_=null;},o===void 0&&a.setContentType(null),"setRequestHeader"in _&&J.forEach(a.toJSON(),function(V,Y){_.setRequestHeader(Y,V);}),J.isUndefined(i.withCredentials)||(_.withCredentials=!!i.withCredentials),s&&s!=="json"&&(_.responseType=i.responseType),d&&([C,E]=jc(d,!0),_.addEventListener("progress",C)),u&&_.upload&&([g,S]=jc(u),_.upload.addEventListener("progress",g),_.upload.addEventListener("loadend",S)),(i.cancelToken||i.signal)&&(f=D=>{_&&(n(!D||D.type?new hi(null,t,_):D),_.abort(),_=null);},i.cancelToken&&i.cancelToken.subscribe(f),i.signal&&(i.signal.aborted?f():i.signal.addEventListener("abort",f)));let M=ZE(i.url);if(M&&Dt.protocols.indexOf(M)===-1){n(new Ye("Unsupported protocol "+M+":",Ye.ERR_BAD_REQUEST,t));return}_.send(o||null);})};y();p();h();m();y();p();h();m();var b8=(t,e)=>{let{length:r}=t=t?t.filter(Boolean):[];if(e||r){let n=new AbortController,i,o=function(d){if(!i){i=!0,s();let f=d instanceof Error?d:this.reason;n.abort(f instanceof Ye?f:new hi(f instanceof Error?f.message:f));}},a=e&&setTimeout(()=>{a=null,o(new Ye(`timeout ${e} of ms exceeded`,Ye.ETIMEDOUT));},e),s=()=>{t&&(a&&clearTimeout(a),a=null,t.forEach(d=>{d.unsubscribe?d.unsubscribe(o):d.removeEventListener("abort",o);}),t=null);};t.forEach(d=>d.addEventListener("abort",o));let{signal:u}=n;return u.unsubscribe=()=>J.asap(s),u}},YO=b8;y();p();h();m();var R8=function*(t,e){let r=t.byteLength;if(r<e){yield t;return}let n=0,i;for(;n<r;)i=n+e,yield t.slice(n,i),n=i;},_8=function(t,e){return Oy(this,null,function*(){try{for(var r=df(I8(t)),n,i,o;n=!(i=yield new Qo(r.next())).done;n=!1){let a=i.value;yield*xy(R8(a,e));}}catch(i){o=[i];}finally{try{n&&(i=r.return)&&(yield new Qo(i.call(r)));}finally{if(o)throw o[0]}}})},I8=function(t){return Oy(this,null,function*(){if(t[Symbol.asyncIterator]){yield*xy(t);return}let e=t.getReader();try{for(;;){let{done:r,value:n}=yield new Qo(e.read());if(r)break;yield n;}}finally{yield new Qo(e.cancel());}})},rC=(t,e,r,n)=>{let i=_8(t,e),o=0,a,s=d=>{a||(a=!0,n&&n(d));};return new ReadableStream({pull(d){return L(this,null,function*(){try{let{done:f,value:g}=yield i.next();if(f){s(),d.close();return}let C=g.byteLength;if(r){let S=o+=C;r(S);}d.enqueue(new Uint8Array(g));}catch(f){throw s(f),f}})},cancel(d){return s(d),i.return()}},{highWaterMark:2})};var Bh=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",ZO=Bh&&typeof ReadableStream=="function",N8=Bh&&(typeof TextEncoder=="function"?(t=>e=>t.encode(e))(new TextEncoder):t=>L(void 0,null,function*(){return new Uint8Array(yield new Response(t).arrayBuffer())})),QO=(t,...e)=>{try{return !!t(...e)}catch(r){return !1}},O8=ZO&&QO(()=>{let t=!1,e=new Request(Dt.origin,{body:new ReadableStream,method:"POST",get duplex(){return t=!0,"half"}}).headers.has("Content-Type");return t&&!e}),JO=64*1024,nC=ZO&&QO(()=>J.isReadableStream(new Response("").body)),Uh={stream:nC&&(t=>t.body)};Bh&&(t=>{["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!Uh[e]&&(Uh[e]=J.isFunction(t[e])?r=>r[e]():(r,n)=>{throw new Ye(`Response type '${e}' is not supported`,Ye.ERR_NOT_SUPPORT,n)});});})(new Response);var x8=t=>L(void 0,null,function*(){if(t==null)return 0;if(J.isBlob(t))return t.size;if(J.isSpecCompliantForm(t))return (yield new Request(Dt.origin,{method:"POST",body:t}).arrayBuffer()).byteLength;if(J.isArrayBufferView(t)||J.isArrayBuffer(t))return t.byteLength;if(J.isURLSearchParams(t)&&(t=t+""),J.isString(t))return (yield N8(t)).byteLength}),k8=(t,e)=>L(void 0,null,function*(){let r=J.toFiniteNumber(t.getContentLength());return r==null?x8(e):r}),XO=Bh&&(t=>L(void 0,null,function*(){let{url:e,method:r,data:n,signal:i,cancelToken:o,timeout:a,onDownloadProgress:s,onUploadProgress:u,responseType:d,headers:f,withCredentials:g="same-origin",fetchOptions:C}=Mh(t);d=d?(d+"").toLowerCase():"text";let S=YO([i,o&&o.toAbortSignal()],a),E,T=S&&S.unsubscribe&&(()=>{S.unsubscribe();}),_;try{if(u&&O8&&r!=="get"&&r!=="head"&&(_=yield k8(f,n))!==0){let Y=new Request(e,{method:"POST",body:n,duplex:"half"}),_e;if(J.isFormData(n)&&(_e=Y.headers.get("content-type"))&&f.setContentType(_e),Y.body){let[ue,le]=QE(_,jc(XE(u)));n=rC(Y.body,JO,ue,le);}}J.isString(g)||(g=g?"include":"omit");let P="credentials"in Request.prototype;E=new Request(e,ae(q({},C),{signal:S,method:r.toUpperCase(),headers:f.normalize().toJSON(),body:n,duplex:"half",credentials:P?g:void 0}));let M=yield fetch(E),D=nC&&(d==="stream"||d==="response");if(nC&&(s||D&&T)){let Y={};["status","statusText","headers"].forEach(fe=>{Y[fe]=M[fe];});let _e=J.toFiniteNumber(M.headers.get("content-length")),[ue,le]=s&&QE(_e,jc(XE(s),!0))||[];M=new Response(rC(M.body,JO,ue,()=>{le&&le(),T&&T();}),Y);}d=d||"text";let V=yield Uh[J.findKey(Uh,d)||"text"](M,t);return !D&&T&&T(),yield new Promise((Y,_e)=>{qu(Y,_e,{data:V,headers:cr.from(M.headers),status:M.status,statusText:M.statusText,config:t,request:E});})}catch(P){throw T&&T(),P&&P.name==="TypeError"&&/fetch/i.test(P.message)?Object.assign(new Ye("Network Error",Ye.ERR_NETWORK,t,E),{cause:P.cause||P}):Ye.from(P,P&&P.code,t,E)}}));var iC={http:Nh,xhr:KO,fetch:XO};J.forEach(iC,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e});}catch(r){}Object.defineProperty(t,"adapterName",{value:e});}});var ex=t=>`- ${t}`,P8=t=>J.isFunction(t)||t===null||t===!1,Dh={getAdapter:t=>{t=J.isArray(t)?t:[t];let{length:e}=t,r,n,i={};for(let o=0;o<e;o++){r=t[o];let a;if(n=r,!P8(r)&&(n=iC[(a=String(r)).toLowerCase()],n===void 0))throw new Ye(`Unknown adapter '${a}'`);if(n)break;i[a||"#"+o]=n;}if(!n){let o=Object.entries(i).map(([s,u])=>`adapter ${s} `+(u===!1?"is not supported by the environment":"is not available in the build")),a=e?o.length>1?`since :
`+o.map(ex).join(`
`):" "+ex(o[0]):"as no adapter specified";throw new Ye("There is no suitable adapter to dispatch the request "+a,"ERR_NOT_SUPPORT")}return n},adapters:iC};function oC(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new hi(null,t)}function Lh(t){return oC(t),t.headers=cr.from(t.headers),t.data=Fu.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),Dh.getAdapter(t.adapter||zc.adapter)(t).then(function(n){return oC(t),n.data=Fu.call(t,t.transformResponse,n),n.headers=cr.from(n.headers),n},function(n){return zu(n)||(oC(t),n&&n.response&&(n.response.data=Fu.call(t,t.transformResponse,n.response),n.response.headers=cr.from(n.response.headers))),Promise.reject(n)})}y();p();h();m();y();p();h();m();var Fh="1.8.2";var zh={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{zh[t]=function(n){return typeof n===t||"a"+(e<1?"n ":" ")+t};});var tx={};zh.transitional=function(e,r,n){function i(o,a){return "[Axios v"+Fh+"] Transitional option '"+o+"'"+a+(n?". "+n:"")}return (o,a,s)=>{if(e===!1)throw new Ye(i(a," has been removed"+(r?" in "+r:"")),Ye.ERR_DEPRECATED);return r&&!tx[a]&&(tx[a]=!0,console.warn(i(a," has been deprecated since v"+r+" and will be removed in the near future"))),e?e(o,a,s):!0}};zh.spelling=function(e){return (r,n)=>(console.warn(`${n} is likely a misspelling of ${e}`),!0)};function M8(t,e,r){if(typeof t!="object")throw new Ye("options must be an object",Ye.ERR_BAD_OPTION_VALUE);let n=Object.keys(t),i=n.length;for(;i-- >0;){let o=n[i],a=e[o];if(a){let s=t[o],u=s===void 0||a(s,o,t);if(u!==!0)throw new Ye("option "+o+" must be "+u,Ye.ERR_BAD_OPTION_VALUE);continue}if(r!==!0)throw new Ye("Unknown option "+o,Ye.ERR_BAD_OPTION)}}var Hu={assertOptions:M8,validators:zh};var mi=Hu.validators,Hc=class{constructor(e){this.defaults=e,this.interceptors={request:new $E,response:new $E};}request(e,r){return L(this,null,function*(){try{return yield this._request(e,r)}catch(n){if(n instanceof Error){let i={};Error.captureStackTrace?Error.captureStackTrace(i):i=new Error;let o=i.stack?i.stack.replace(/^.+\n/,""):"";try{n.stack?o&&!String(n.stack).endsWith(o.replace(/^.+\n.+\n/,""))&&(n.stack+=`
`+o):n.stack=o;}catch(a){}}throw n}})}_request(e,r){typeof e=="string"?(r=r||{},r.url=e):r=e||{},r=$n(this.defaults,r);let{transitional:n,paramsSerializer:i,headers:o}=r;n!==void 0&&Hu.assertOptions(n,{silentJSONParsing:mi.transitional(mi.boolean),forcedJSONParsing:mi.transitional(mi.boolean),clarifyTimeoutError:mi.transitional(mi.boolean)},!1),i!=null&&(J.isFunction(i)?r.paramsSerializer={serialize:i}:Hu.assertOptions(i,{encode:mi.function,serialize:mi.function},!0)),r.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?r.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:r.allowAbsoluteUrls=!0),Hu.assertOptions(r,{baseUrl:mi.spelling("baseURL"),withXsrfToken:mi.spelling("withXSRFToken")},!0),r.method=(r.method||this.defaults.method||"get").toLowerCase();let a=o&&J.merge(o.common,o[r.method]);o&&J.forEach(["delete","get","head","post","put","patch","common"],E=>{delete o[E];}),r.headers=cr.concat(a,o);let s=[],u=!0;this.interceptors.request.forEach(function(T){typeof T.runWhen=="function"&&T.runWhen(r)===!1||(u=u&&T.synchronous,s.unshift(T.fulfilled,T.rejected));});let d=[];this.interceptors.response.forEach(function(T){d.push(T.fulfilled,T.rejected);});let f,g=0,C;if(!u){let E=[Lh.bind(this),void 0];for(E.unshift.apply(E,s),E.push.apply(E,d),C=E.length,f=Promise.resolve(r);g<C;)f=f.then(E[g++],E[g++]);return f}C=s.length;let S=r;for(g=0;g<C;){let E=s[g++],T=s[g++];try{S=E(S);}catch(_){T.call(this,_);break}}try{f=Lh.call(this,S);}catch(E){return Promise.reject(E)}for(g=0,C=d.length;g<C;)f=f.then(d[g++],d[g++]);return f}getUri(e){e=$n(this.defaults,e);let r=ju(e.baseURL,e.url,e.allowAbsoluteUrls);return Du(r,e.params,e.paramsSerializer)}};J.forEach(["delete","get","head","options"],function(e){Hc.prototype[e]=function(r,n){return this.request($n(n||{},{method:e,url:r,data:(n||{}).data}))};});J.forEach(["post","put","patch"],function(e){function r(n){return function(o,a,s){return this.request($n(s||{},{method:e,headers:n?{"Content-Type":"multipart/form-data"}:{},url:o,data:a}))}}Hc.prototype[e]=r(),Hc.prototype[e+"Form"]=r(!0);});var $u=Hc;y();p();h();m();var aC=class t{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let r;this.promise=new Promise(function(o){r=o;});let n=this;this.promise.then(i=>{if(!n._listeners)return;let o=n._listeners.length;for(;o-- >0;)n._listeners[o](i);n._listeners=null;}),this.promise.then=i=>{let o,a=new Promise(s=>{n.subscribe(s),o=s;}).then(i);return a.cancel=function(){n.unsubscribe(o);},a},e(function(o,a,s){n.reason||(n.reason=new hi(o,a,s),r(n.reason));});}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e];}unsubscribe(e){if(!this._listeners)return;let r=this._listeners.indexOf(e);r!==-1&&this._listeners.splice(r,1);}toAbortSignal(){let e=new AbortController,r=n=>{e.abort(n);};return this.subscribe(r),e.signal.unsubscribe=()=>this.unsubscribe(r),e.signal}static source(){let e;return {token:new t(function(i){e=i;}),cancel:e}}},rx=aC;y();p();h();m();function sC(t){return function(r){return t.apply(null,r)}}y();p();h();m();function cC(t){return J.isObject(t)&&t.isAxiosError===!0}y();p();h();m();var lC={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(lC).forEach(([t,e])=>{lC[e]=t;});var nx=lC;function ix(t){let e=new $u(t),r=Mu($u.prototype.request,e);return J.extend(r,$u.prototype,e,{allOwnKeys:!0}),J.extend(r,e,null,{allOwnKeys:!0}),r.create=function(i){return ix($n(t,i))},r}var Xt=ix(zc);Xt.Axios=$u;Xt.CanceledError=hi;Xt.CancelToken=rx;Xt.isCancel=zu;Xt.VERSION=Fh;Xt.toFormData=Ao;Xt.AxiosError=Ye;Xt.Cancel=Xt.CanceledError;Xt.all=function(e){return Promise.all(e)};Xt.spread=sC;Xt.isAxiosError=cC;Xt.mergeConfig=$n;Xt.AxiosHeaders=cr;Xt.formToJSON=t=>kh(J.isHTMLForm(t)?new FormData(t):t);Xt.getAdapter=Dh.getAdapter;Xt.HttpStatusCode=nx;Xt.default=Xt;var qh=Xt;var D8=t=>{var i;let{http:e,https:r}=(i=t==null?void 0:t.agentSettings)!=null?i:{http:void 0,https:void 0},n=qh.create({httpAgent:e,httpsAgent:r,validateStatus:()=>!0});return (o,a)=>L(void 0,null,function*(){let s=_t().parse(o),{body:u,headers:d}=In({body:_t(),headers:xa(_t()).optional()}).parse(a),f=yield n.post(s,u,{headers:d});return {status:f.status,json:()=>f.data}})},jh=class{constructor(e,r,n,i){this.credentialsFactory=e;this.loginEndpoint=r;this.botFrameworkClientFetch=n;this.connectorClientOptions=i;(this.botFrameworkClientFetch)!=null||(this.botFrameworkClientFetch=D8(this.connectorClientOptions)),wt(typeof this.botFrameworkClientFetch=="function");}toJSON(){let n=this;return Bs(n,["connectorClientOptions"])}postActivity(e,r,n,i,o,a){return L(this,null,function*(){In({fromBotId:_t().optional(),toBotId:_t().optional(),toUrl:_t(),serviceUrl:_t(),conversationId:_t(),activity:xa(Pc())}).parse({fromBotId:e,toBotId:r,toUrl:n,serviceUrl:i,conversationId:o,activity:a});let s=yield this.credentialsFactory.createCredentials(e,r,this.loginEndpoint,!0),u=a.conversation.id,d=a.serviceUrl,f=a.relatesTo,g=a.recipient;try{a.relatesTo={serviceUrl:a.serviceUrl,activityId:a.id,channelId:a.channelId,conversation:{id:a.conversation.id,name:a.conversation.name,conversationType:a.conversation.conversationType,aadObjectId:a.conversation.aadObjectId,isGroup:a.conversation.isGroup,properties:a.conversation.properties,role:a.conversation.role,tenantId:a.conversation.tenantId},bot:null},a.conversation.id=o,a.serviceUrl=i,a.recipient||(a.recipient={}),a.recipient.role=qce.RoleTypes.Skill;let C=azureCoreHttpCompat.createWebResource({url:n,method:"POST",body:JSON.stringify(a),headers:Uc({Accept:"application/json",[yu]:o,"Content-Type":"application/json","User-Agent":ah})}),S=yield s.signRequest(C),E={body:S.body,headers:S.headers.rawHeaders()},T=yield this.botFrameworkClientFetch(S.url,E);return {status:T.status,body:yield T.json()}}finally{a.conversation.id=u,a.serviceUrl=d,a.relatesTo=f,a.recipient=g;}})}};y();p();h();m();y();p();h();m();var ox={};y();p();h();m();y();p();h();m();var ax={serializedName:"TokenExchangeResource",type:{name:"Composite",className:"TokenExchangeResource",modelProperties:{id:{serializedName:"id",type:{name:"String"}},uri:{serializedName:"uri",type:{name:"String"}},providerId:{serializedName:"providerId",type:{name:"String"}}}}},Hh={serializedName:"SignInUrlResponse",type:{name:"Composite",className:"SignInUrlResponse",modelProperties:{signInLink:{serializedName:"signInLink",type:{name:"String"}},tokenExchangeResource:{serializedName:"tokenExchangeResource",type:{name:"Composite",className:"TokenExchangeResource"}}}}},Ba={serializedName:"TokenResponse",type:{name:"Composite",className:"TokenResponse",modelProperties:{channelId:{serializedName:"channelId",type:{name:"String"}},connectionName:{serializedName:"connectionName",type:{name:"String"}},token:{serializedName:"token",type:{name:"String"}},expiration:{serializedName:"expiration",type:{name:"String"}}}}},sx={serializedName:"InnerHttpError",type:{name:"Composite",className:"InnerHttpError",modelProperties:{statusCode:{serializedName:"statusCode",type:{name:"Number"}},body:{serializedName:"body",type:{name:"Object"}}}}},cx={serializedName:"Error",type:{name:"Composite",className:"ErrorModel",modelProperties:{code:{serializedName:"code",type:{name:"String"}},message:{serializedName:"message",type:{name:"String"}},innerHttpError:{serializedName:"innerHttpError",type:{name:"Composite",className:"InnerHttpError"}}}}},qi={serializedName:"ErrorResponse",type:{name:"Composite",className:"ErrorResponse",modelProperties:{error:{serializedName:"error",type:{name:"Composite",className:"ErrorModel"}}}}},$h={serializedName:"AadResourceUrls",type:{name:"Composite",className:"AadResourceUrls",modelProperties:{resourceUrls:{serializedName:"resourceUrls",type:{name:"Sequence",element:{type:{name:"String"}}}}}}},lx={serializedName:"TokenStatus",type:{name:"Composite",className:"TokenStatus",modelProperties:{channelId:{serializedName:"channelId",type:{name:"String"}},connectionName:{serializedName:"connectionName",type:{name:"String"}},hasToken:{serializedName:"hasToken",type:{name:"Boolean"}},serviceProviderDisplayName:{serializedName:"serviceProviderDisplayName",type:{name:"String"}}}}},Vh={serializedName:"TokenExchangeRequest",type:{name:"Composite",className:"TokenExchangeRequest",modelProperties:{uri:{serializedName:"uri",type:{name:"String"}},token:{serializedName:"token",type:{name:"String"}}}}};y();p();h();m();y();p();h();m();var uC={};Ut(uC,{SignInUrlResponse:()=>Hh,TokenExchangeResource:()=>ax});y();p();h();m();y();p();h();m();var Vu={parameterPath:["options","channelId"],mapper:{serializedName:"channelId",type:{name:"String"}}},ux={parameterPath:"channelId",mapper:{required:!0,serializedName:"channelId",type:{name:"String"}}},dx={parameterPath:["options","code"],mapper:{serializedName:"code",type:{name:"String"}}},dC={parameterPath:["options","codeChallenge"],mapper:{serializedName:"code_challenge",type:{name:"String"}}},Gh={parameterPath:"connectionName",mapper:{required:!0,serializedName:"connectionName",type:{name:"String"}}},fx={parameterPath:["options","connectionName"],mapper:{serializedName:"connectionName",type:{name:"String"}}},fC={parameterPath:["options","emulatorUrl"],mapper:{serializedName:"emulatorUrl",type:{name:"String"}}},pC={parameterPath:["options","finalRedirect"],mapper:{serializedName:"finalRedirect",type:{name:"String"}}},px={parameterPath:["options","include"],mapper:{serializedName:"include",type:{name:"String"}}},hC={parameterPath:"state",mapper:{required:!0,serializedName:"state",type:{name:"String"}}},$c={parameterPath:"userId",mapper:{required:!0,serializedName:"userId",type:{name:"String"}}};var Wh=class{constructor(e){this.client=e;}getSignInUrl(e,r,n){return this.client.sendOperationRequest({state:e,options:r},z8,n)}getSignInResource(e,r,n){return this.client.sendOperationRequest({state:e,options:r},q8,n)}},mx=azureCoreHttpCompat.createSerializer(uC),z8={httpMethod:"GET",path:"api/botsignin/GetSignInUrl",queryParameters:[hC,dC,fC,pC],responses:{200:{bodyMapper:{serializedName:"parsedResponse",type:{name:"String"}}},default:{}},serializer:mx},q8={httpMethod:"GET",path:"api/botsignin/GetSignInResource",queryParameters:[hC,dC,fC,pC],responses:{200:{bodyMapper:Hh},default:{}},serializer:mx};y();p();h();m();var mC={};Ut(mC,{AadResourceUrls:()=>$h,ErrorModel:()=>cx,ErrorResponse:()=>qi,InnerHttpError:()=>sx,TokenExchangeRequest:()=>Vh,TokenResponse:()=>Ba,TokenStatus:()=>lx});y();p();h();m();var Kh=class{constructor(e){this.client=e;}getToken(e,r,n,i){return this.client.sendOperationRequest({userId:e,connectionName:r,options:n},H8,i)}getAadTokens(e,r,n,i,o){return this.client.sendOperationRequest({userId:e,connectionName:r,aadResourceUrls:n,options:i},$8,o)}signOut(e,r,n){return this.client.sendOperationRequest({userId:e,options:r},V8,n)}getTokenStatus(e,r,n){return this.client.sendOperationRequest({userId:e,options:r},G8,n)}exchangeAsync(e,r,n,i,o,a){return this.client.sendOperationRequest({userId:e,connectionName:r,channelId:n,exchangeRequest:i,options:o},W8,a)}},Gu=azureCoreHttpCompat.createSerializer(mC),H8={httpMethod:"GET",path:"api/usertoken/GetToken",queryParameters:[$c,Gh,Vu,dx],responses:{200:{bodyMapper:Ba},404:{bodyMapper:Ba},default:{bodyMapper:qi}},serializer:Gu},$8={httpMethod:"POST",path:"api/usertoken/GetAadTokens",queryParameters:[$c,Gh,Vu],requestBody:{parameterPath:"aadResourceUrls",mapper:ae(q({},$h),{required:!0})},responses:{200:{bodyMapper:{serializedName:"parsedResponse",type:{name:"Dictionary",value:{type:{name:"Composite",className:"TokenResponse"}}}}},default:{bodyMapper:qi}},serializer:Gu},V8={httpMethod:"DELETE",path:"api/usertoken/SignOut",queryParameters:[$c,fx,Vu],responses:{200:{bodyMapper:{serializedName:"parsedResponse",type:{name:"Object"}}},204:{},default:{bodyMapper:qi}},serializer:Gu},G8={httpMethod:"GET",path:"api/usertoken/GetTokenStatus",queryParameters:[$c,Vu,px],responses:{200:{bodyMapper:{serializedName:"parsedResponse",type:{name:"Sequence",element:{type:{name:"Composite",className:"TokenStatus"}}}}},default:{bodyMapper:qi}},serializer:Gu},W8={httpMethod:"POST",path:"api/usertoken/exchange",queryParameters:[$c,Gh,ux],requestBody:{parameterPath:"exchangeRequest",mapper:ae(q({},Vh),{required:!0})},responses:{200:{bodyMapper:Ba},400:{bodyMapper:qi},404:{bodyMapper:Ba},default:{bodyMapper:qi}},serializer:Gu};y();p();h();m();var J8="botframework-token",Z8="4.0.0",Yh=class extends azureCoreHttpCompat.ServiceClientContext{constructor(e,r){super(e,ae(q({},r),{baseUri:(r==null?void 0:r.baseUri)||"https://token.botframework.com",userAgent:`${J8}/${Z8} ${(r==null?void 0:r.userAgent)||""}`}));}};var Wu=class extends Yh{constructor(e,r){super(e,r),this.botSignIn=new Wh(this),this.userToken=new Kh(this);}};y();p();h();m();var Ku=class{static createTokenExchangeState(e,r,n){In({appId:_t(),connectionName:_t(),activity:xa(Pc())}).parse({appId:e,connectionName:r,activity:n});let i={connectionName:r,conversation:qce.ActivityEx.getConversationReference(n),relatesTo:n.relatesTo,msAppId:e};return R.Buffer.from(JSON.stringify(i)).toString("base64")}};var Jh=class extends Ku{constructor(r,n,i,o={}){super();this.appId=r;this.client=new Wu(n,Object.assign({baseUri:i},o));}getUserToken(r,n,i,o){return L(this,null,function*(){return In({userId:_t(),connectionName:_t(),channelId:_t()}).parse({userId:r,connectionName:n,channelId:i}),(yield this.client.userToken.getToken(r,n,{channelId:i,code:o}))._response.parsedBody})}getSignInResource(r,n,i){return L(this,null,function*(){return In({activity:xa(Pc()),connectionName:_t()}).parse({activity:n,connectionName:r}),(yield this.client.botSignIn.getSignInResource(Ku.createTokenExchangeState(this.appId,r,n),{finalRedirect:i}))._response.parsedBody})}signOutUser(r,n,i){return L(this,null,function*(){In({userId:_t(),connectionName:_t(),channelId:_t()}).parse({userId:r,connectionName:n,channelId:i}),yield this.client.userToken.signOut(r,{channelId:i,connectionName:n});})}getTokenStatus(r,n,i){return L(this,null,function*(){return In({userId:_t(),channelId:_t()}).parse({userId:r,channelId:n}),(yield this.client.userToken.getTokenStatus(r,{channelId:n,include:i}))._response.parsedBody})}getAadTokens(r,n,i,o){return L(this,null,function*(){return In({userId:_t(),connectionName:_t(),channelId:_t()}).parse({userId:r,connectionName:n,channelId:o}),(yield this.client.userToken.getAadTokens(r,n,{resourceUrls:i},{channelId:o}))._response.parsedBody})}exchangeToken(r,n,i,o){return L(this,null,function*(){return In({userId:_t(),connectionName:_t(),channelId:_t()}).parse({userId:r,connectionName:n,channelId:i}),(yield this.client.userToken.exchangeAsync(r,n,i,o))._response.parsedBody})}};function yC(t){var e,r;return (r=(e=t.getClaimValue(exports.AuthenticationConstants.AudienceClaim))!=null?e:t.getClaimValue(exports.AuthenticationConstants.AppIdClaim))!=null?r:void 0}var Vc=class extends Kp{constructor(r,n,i,o,a,s,u,d,f,g,C,S={}){super();this.validateAuthority=r;this.toChannelFromBotLoginUrl=n;this.toChannelFromBotOAuthScope=i;this.toBotFromChannelTokenIssuer=o;this.oAuthUrl=a;this.toBotFromChannelOpenIdMetadataUrl=s;this.toBotFromEmulatorOpenIdMetadataUrl=u;this.callerId=d;this.credentialsFactory=f;this.authConfiguration=g;this.botFrameworkClientFetch=C;this.connectorClientOptions=S;}getOriginatingAudience(){return this.toChannelFromBotOAuthScope}authenticateChannelRequest(r){return L(this,null,function*(){if(yield this.credentialsFactory.isAuthenticationDisabled())return exports.SkillValidation.createAnonymousSkillClaim();if(!r.trim())throw new we("Unauthorized Access. Request is not authorized",qce.StatusCodes.UNAUTHORIZED);return this.JwtTokenValidation_validateAuthHeader(r,"unknown",null)})}authenticateRequest(r,n){return L(this,null,function*(){let i=yield this.JwtTokenValidation_authenticateRequest(r,n),o=exports.SkillValidation.isSkillClaim(i.claims)?exports.JwtTokenValidation.getAppIdFromClaims(i.claims):this.toChannelFromBotOAuthScope,a=yield this.generateCallerId(this.credentialsFactory,i,this.callerId),s=new vu(yC(i),this.toChannelFromBotOAuthScope,this.toChannelFromBotLoginUrl,this.validateAuthority,this.credentialsFactory,this.connectorClientOptions);return {audience:o,callerId:a,claimsIdentity:i,connectorFactory:s}})}authenticateStreamingRequest(r,n){return L(this,null,function*(){if(!(n!=null&&n.trim())&&!(yield this.credentialsFactory.isAuthenticationDisabled()))throw new we("'channelIdHeader' required.",qce.StatusCodes.UNAUTHORIZED);let i=yield this.JwtTokenValidation_validateAuthHeader(r,n,null),o=exports.SkillValidation.isSkillClaim(i.claims)?exports.JwtTokenValidation.getAppIdFromClaims(i.claims):this.toChannelFromBotOAuthScope,a=yield this.generateCallerId(this.credentialsFactory,i,this.callerId);return {audience:o,callerId:a,claimsIdentity:i}})}createUserTokenClient(r){return L(this,null,function*(){let n=yC(r),i=yield this.credentialsFactory.createCredentials(n,this.toChannelFromBotOAuthScope,this.toChannelFromBotLoginUrl,this.validateAuthority);return new Jh(n,i,this.oAuthUrl,this.connectorClientOptions)})}createConnectorFactory(r){return new vu(yC(r),this.toChannelFromBotOAuthScope,this.toChannelFromBotLoginUrl,this.validateAuthority,this.credentialsFactory,this.connectorClientOptions)}createBotFrameworkClient(){return new jh(this.credentialsFactory,this.toChannelFromBotLoginUrl,this.botFrameworkClientFetch,this.connectorClientOptions)}JwtTokenValidation_authenticateRequest(r,n){return L(this,null,function*(){var i;if(yield this.credentialsFactory.isAuthenticationDisabled())return r.channelId===qce.Channels.Emulator&&((i=r.recipient)==null?void 0:i.role)===qce.RoleTypes.Skill?exports.SkillValidation.createAnonymousSkillClaim():new ci([],exports.AuthenticationConstants.AnonymousAuthType);if(!n.trim())throw new we("Unauthorized Access. Request is not authorized",qce.StatusCodes.UNAUTHORIZED);return yield this.JwtTokenValidation_validateAuthHeader(n,r.channelId,r.serviceUrl)})}JwtTokenValidation_validateAuthHeader(r,n,i=""){return L(this,null,function*(){let o=yield this.JwtTokenValidation_authenticateToken(r,n,i);return yield this.JwtTokenValidation_validateClaims(o.claims),o})}JwtTokenValidation_validateClaims(){return L(this,arguments,function*(r=[]){if(this.authConfiguration.validateClaims)yield this.authConfiguration.validateClaims(r);else if(exports.SkillValidation.isSkillClaim(r))throw new we("Unauthorized Access. Request is not authorized. Skill Claims require validation.",qce.StatusCodes.UNAUTHORIZED)})}JwtTokenValidation_authenticateToken(r,n,i){return L(this,null,function*(){return exports.AseChannelValidation.isTokenFromAseChannel(n)?exports.AseChannelValidation.authenticateAseChannelToken(r):exports.SkillValidation.isSkillToken(r)?this.SkillValidation_authenticateChannelToken(r,n):exports.EmulatorValidation.isTokenFromEmulator(r)?this.EmulatorValidation_authenticateEmulatorToken(r,n):this.ChannelValidation_authenticateChannelToken(r,i,n)})}SkillValidation_authenticateChannelToken(r,n){return L(this,null,function*(){var u,d,f;let i=ae(q({},Fn),{issuer:[...Fn.issuer,...(u=this.authConfiguration.validTokenIssuers)!=null?u:[]]}),o=new pr(i,this.toBotFromEmulatorOpenIdMetadataUrl,exports.AuthenticationConstants.AllowedSigningAlgorithms,(d=this.connectorClientOptions)==null?void 0:d.proxySettings,(f=this.connectorClientOptions)==null?void 0:f.tokenRefreshInterval),a=r.split(" "),s=yield o.getIdentity(a[0],a[1],n,this.authConfiguration.requiredEndorsements);return yield this.SkillValidation_ValidateIdentity(s),s})}SkillValidation_ValidateIdentity(r){return L(this,null,function*(){if(!r)throw new we("SkillValidation.validateIdentity(): Invalid identity",qce.StatusCodes.UNAUTHORIZED);if(!r.isAuthenticated)throw new we("SkillValidation.validateIdentity(): Token not authenticated",qce.StatusCodes.UNAUTHORIZED);if(!r.getClaimValue(exports.AuthenticationConstants.VersionClaim))throw new we(`SkillValidation.validateIdentity(): '${exports.AuthenticationConstants.VersionClaim}' claim is required on skill Tokens.`,qce.StatusCodes.UNAUTHORIZED);let i=r.getClaimValue(exports.AuthenticationConstants.AudienceClaim);if(!i)throw new we(`SkillValidation.validateIdentity(): '${exports.AuthenticationConstants.AudienceClaim}' claim is required on skill Tokens.`,qce.StatusCodes.UNAUTHORIZED);if(!(yield this.credentialsFactory.isValidAppId(i)))throw new we("SkillValidation.validateIdentity(): Invalid audience.",qce.StatusCodes.UNAUTHORIZED);if(!exports.JwtTokenValidation.getAppIdFromClaims(r.claims))throw new we("SkillValidation.validateIdentity(): Invalid appId.",qce.StatusCodes.UNAUTHORIZED)})}EmulatorValidation_authenticateEmulatorToken(r,n){return L(this,null,function*(){var d,f,g;let i=ae(q({},Fn),{issuer:[...Fn.issuer,...(d=this.authConfiguration.validTokenIssuers)!=null?d:[]]}),a=yield new pr(i,this.toBotFromEmulatorOpenIdMetadataUrl,exports.AuthenticationConstants.AllowedSigningAlgorithms,(f=this.connectorClientOptions)==null?void 0:f.proxySettings,(g=this.connectorClientOptions)==null?void 0:g.tokenRefreshInterval).getIdentityFromAuthHeader(r,n,this.authConfiguration.requiredEndorsements);if(!a)throw new we("Unauthorized. No valid identity.",qce.StatusCodes.UNAUTHORIZED);if(!a.isAuthenticated)throw new we("Unauthorized. Is not authenticated",qce.StatusCodes.UNAUTHORIZED);let s=a.getClaimValue(exports.AuthenticationConstants.VersionClaim);if(s===null)throw new we('Unauthorized. "ver" claim is required on Emulator Tokens.',qce.StatusCodes.UNAUTHORIZED);let u="";if(!s||s==="1.0"){let C=a.getClaimValue(exports.AuthenticationConstants.AppIdClaim);if(!C)throw new we('Unauthorized. "appid" claim is required on Emulator Token version "1.0".',qce.StatusCodes.UNAUTHORIZED);u=C;}else if(s==="2.0"){let C=a.getClaimValue(exports.AuthenticationConstants.AuthorizedParty);if(!C)throw new we('Unauthorized. "azp" claim is required on Emulator Token version "2.0".',qce.StatusCodes.UNAUTHORIZED);u=C;}else throw new we(`Unauthorized. Unknown Emulator Token version "${s}".`,qce.StatusCodes.UNAUTHORIZED);if(!(yield this.credentialsFactory.isValidAppId(u)))throw new we(`Unauthorized. Invalid AppId passed on token: ${u}`,qce.StatusCodes.UNAUTHORIZED);return a})}ChannelValidation_authenticateChannelToken(r,n,i){return L(this,null,function*(){var u,d;let o=this.ChannelValidation_GetTokenValidationParameters(),s=yield new pr(o,this.toBotFromChannelOpenIdMetadataUrl,exports.AuthenticationConstants.AllowedSigningAlgorithms,(u=this.connectorClientOptions)==null?void 0:u.proxySettings,(d=this.connectorClientOptions)==null?void 0:d.tokenRefreshInterval).getIdentityFromAuthHeader(r,i,this.authConfiguration.requiredEndorsements);return this.governmentChannelValidation_ValidateIdentity(s,n)})}ChannelValidation_GetTokenValidationParameters(){return {issuer:[this.toBotFromChannelTokenIssuer],audience:void 0,clockTolerance:5*60,ignoreExpiration:!1}}governmentChannelValidation_ValidateIdentity(r,n){return L(this,null,function*(){if(!r)throw new we("Unauthorized. No valid identity.",qce.StatusCodes.UNAUTHORIZED);if(!r.isAuthenticated)throw new we("Unauthorized. Is not authenticated",qce.StatusCodes.UNAUTHORIZED);if(r.getClaimValue(exports.AuthenticationConstants.IssuerClaim)!==this.toBotFromChannelTokenIssuer)throw new we("Unauthorized. Issuer Claim MUST be present.",qce.StatusCodes.UNAUTHORIZED);let i=r.getClaimValue(exports.AuthenticationConstants.AudienceClaim);if(!(yield this.credentialsFactory.isValidAppId(i||"")))throw new we(`Unauthorized. Invalid AppId passed on token: ${i}`,qce.StatusCodes.UNAUTHORIZED);if(n&&r.getClaimValue(exports.AuthenticationConstants.ServiceUrlClaim)!==n)throw new we("Unauthorized. ServiceUrl claim do not match.",qce.StatusCodes.UNAUTHORIZED);return r})}};var gx=class{static create(e,r,n,i,o,a,s,u,d,f,g,C,S={}){if(!botbuilderStdlib.stringExt.isNilOrEmpty(n)||!botbuilderStdlib.stringExt.isNilOrEmpty(i)||!botbuilderStdlib.stringExt.isNilOrEmpty(o)||!botbuilderStdlib.stringExt.isNilOrEmpty(a)||!botbuilderStdlib.stringExt.isNilOrEmpty(s)||!botbuilderStdlib.stringExt.isNilOrEmpty(u)||!botbuilderStdlib.stringExt.isNilOrEmpty(d))return new Vc(r,n,i,o,a,s,u,d,f,g,C,S);if(botbuilderStdlib.stringExt.isNilOrEmpty(e))return new Vc(!0,exports.AuthenticationConstants.ToChannelFromBotLoginUrl,exports.AuthenticationConstants.ToChannelFromBotOAuthScope,exports.AuthenticationConstants.ToBotFromChannelTokenIssuer,exports.AuthenticationConstants.OAuthUrl,exports.AuthenticationConstants.ToBotFromChannelOpenIdMetadataUrl,exports.AuthenticationConstants.ToBotFromEmulatorOpenIdMetadataUrl,qce.CallerIdConstants.PublicAzureChannel,f,g,C,S);if(e===exports.GovernmentConstants.ChannelService)return new Vc(!0,exports.GovernmentConstants.ToChannelFromBotLoginUrl,exports.GovernmentConstants.ToChannelFromBotOAuthScope,exports.GovernmentConstants.ToBotFromChannelTokenIssuer,exports.GovernmentConstants.OAuthUrl,exports.GovernmentConstants.ToBotFromChannelOpenIdMetadataUrl,exports.GovernmentConstants.ToBotFromEmulatorOpenIdMetadataUrl,qce.CallerIdConstants.USGovChannel,f,g,C,S);throw new Error("The provided ChannelService value is not supported.")}};y();p();h();m();y();p();h();m();y();p();h();m();y();p();h();m();var Da=class{static serializeJSONBlob(e){return JSON.stringify(e)}static serializeAccounts(e){let r={};return Object.keys(e).map(function(n){var o;let i=e[n];r[n]={home_account_id:i.homeAccountId,environment:i.environment,realm:i.realm,local_account_id:i.localAccountId,username:i.username,authority_type:i.authorityType,name:i.name,client_info:i.clientInfo,last_modification_time:i.lastModificationTime,last_modification_app:i.lastModificationApp,tenantProfiles:(o=i.tenantProfiles)==null?void 0:o.map(a=>JSON.stringify(a))};}),r}static serializeIdTokens(e){let r={};return Object.keys(e).map(function(n){let i=e[n];r[n]={home_account_id:i.homeAccountId,environment:i.environment,credential_type:i.credentialType,client_id:i.clientId,secret:i.secret,realm:i.realm};}),r}static serializeAccessTokens(e){let r={};return Object.keys(e).map(function(n){let i=e[n];r[n]={home_account_id:i.homeAccountId,environment:i.environment,credential_type:i.credentialType,client_id:i.clientId,secret:i.secret,realm:i.realm,target:i.target,cached_at:i.cachedAt,expires_on:i.expiresOn,extended_expires_on:i.extendedExpiresOn,refresh_on:i.refreshOn,key_id:i.keyId,token_type:i.tokenType,requestedClaims:i.requestedClaims,requestedClaimsHash:i.requestedClaimsHash,userAssertionHash:i.userAssertionHash};}),r}static serializeRefreshTokens(e){let r={};return Object.keys(e).map(function(n){let i=e[n];r[n]={home_account_id:i.homeAccountId,environment:i.environment,credential_type:i.credentialType,client_id:i.clientId,secret:i.secret,family_id:i.familyId,target:i.target,realm:i.realm};}),r}static serializeAppMetadata(e){let r={};return Object.keys(e).map(function(n){let i=e[n];r[n]={client_id:i.clientId,environment:i.environment,family_id:i.familyId};}),r}static serializeAllCache(e){return {Account:this.serializeAccounts(e.accounts),IdToken:this.serializeIdTokens(e.idTokens),AccessToken:this.serializeAccessTokens(e.accessTokens),RefreshToken:this.serializeRefreshTokens(e.refreshTokens),AppMetadata:this.serializeAppMetadata(e.appMetadata)}}};y();p();h();m();y();p();h();m();var nm={};Ut(nm,{checkMaxAge:()=>pd,extractTokenClaims:()=>Gi,getJWSPayload:()=>Sx});y();p();h();m();y();p();h();m();y();p();h();m();y();p();h();m();var ee={LIBRARY_NAME:"MSAL.JS",SKU:"msal.js.common",CACHE_PREFIX:"msal",DEFAULT_AUTHORITY:"https://login.microsoftonline.com/common/",DEFAULT_AUTHORITY_HOST:"login.microsoftonline.com",DEFAULT_COMMON_TENANT:"common",ADFS:"adfs",DSTS:"dstsv2",AAD_INSTANCE_DISCOVERY_ENDPT:"https://login.microsoftonline.com/common/discovery/instance?api-version=1.1&authorization_endpoint=",CIAM_AUTH_URL:".ciamlogin.com",AAD_TENANT_DOMAIN_SUFFIX:".onmicrosoft.com",RESOURCE_DELIM:"|",NO_ACCOUNT:"NO_ACCOUNT",CLAIMS:"claims",CONSUMER_UTID:"9188040d-6c67-4c5b-b112-36a304b66dad",OPENID_SCOPE:"openid",PROFILE_SCOPE:"profile",OFFLINE_ACCESS_SCOPE:"offline_access",EMAIL_SCOPE:"email",CODE_RESPONSE_TYPE:"code",CODE_GRANT_TYPE:"authorization_code",RT_GRANT_TYPE:"refresh_token",FRAGMENT_RESPONSE_MODE:"fragment",S256_CODE_CHALLENGE_METHOD:"S256",URL_FORM_CONTENT_TYPE:"application/x-www-form-urlencoded;charset=utf-8",AUTHORIZATION_PENDING:"authorization_pending",NOT_DEFINED:"not_defined",EMPTY_STRING:"",NOT_APPLICABLE:"N/A",NOT_AVAILABLE:"Not Available",FORWARD_SLASH:"/",IMDS_ENDPOINT:"http://169.254.169.254/metadata/instance/compute/location",IMDS_VERSION:"2020-06-01",IMDS_TIMEOUT:2e3,AZURE_REGION_AUTO_DISCOVER_FLAG:"TryAutoDetect",REGIONAL_AUTH_PUBLIC_CLOUD_SUFFIX:"login.microsoft.com",KNOWN_PUBLIC_CLOUDS:["login.microsoftonline.com","login.windows.net","login.microsoft.com","sts.windows.net"],TOKEN_RESPONSE_TYPE:"token",ID_TOKEN_RESPONSE_TYPE:"id_token",SHR_NONCE_VALIDITY:240,INVALID_INSTANCE:"invalid_instance"},It={SUCCESS:200,SUCCESS_RANGE_START:200,SUCCESS_RANGE_END:299,REDIRECT:302,CLIENT_ERROR:400,CLIENT_ERROR_RANGE_START:400,BAD_REQUEST:400,UNAUTHORIZED:401,NOT_FOUND:404,REQUEST_TIMEOUT:408,TOO_MANY_REQUESTS:429,CLIENT_ERROR_RANGE_END:499,SERVER_ERROR:500,SERVER_ERROR_RANGE_START:500,SERVICE_UNAVAILABLE:503,GATEWAY_TIMEOUT:504,SERVER_ERROR_RANGE_END:599,MULTI_SIDED_ERROR:600},yi=[ee.OPENID_SCOPE,ee.PROFILE_SCOPE,ee.OFFLINE_ACCESS_SCOPE],gC=[...yi,ee.EMAIL_SCOPE],er={CONTENT_TYPE:"Content-Type",RETRY_AFTER:"Retry-After",CCS_HEADER:"X-AnchorMailbox",WWWAuthenticate:"WWW-Authenticate",AuthenticationInfo:"Authentication-Info",X_MS_REQUEST_ID:"x-ms-request-id",X_MS_HTTP_VERSION:"x-ms-httpver"};var rn={COMMON:"common",ORGANIZATIONS:"organizations",CONSUMERS:"consumers"},Gc={ACCESS_TOKEN:"access_token",XMS_CC:"xms_cc"},Ro={LOGIN:"login",SELECT_ACCOUNT:"select_account",CONSENT:"consent",NONE:"none",CREATE:"create",NO_SESSION:"no_session"},Zh={PLAIN:"plain",S256:"S256"},vx={QUERY:"query",FRAGMENT:"fragment"},Yu=ae(q({},vx),{FORM_POST:"form_post"}),Vn={IMPLICIT_GRANT:"implicit",AUTHORIZATION_CODE_GRANT:"authorization_code",CLIENT_CREDENTIALS_GRANT:"client_credentials",RESOURCE_OWNER_PASSWORD_GRANT:"password",REFRESH_TOKEN_GRANT:"refresh_token",DEVICE_CODE_GRANT:"device_code",JWT_BEARER:"urn:ietf:params:oauth:grant-type:jwt-bearer"},Wc={MSSTS_ACCOUNT_TYPE:"MSSTS",ADFS_ACCOUNT_TYPE:"ADFS",MSAV1_ACCOUNT_TYPE:"MSA",GENERIC_ACCOUNT_TYPE:"Generic"},Ht={CACHE_KEY_SEPARATOR:"-",CLIENT_INFO_SEPARATOR:"."},vt={ID_TOKEN:"IdToken",ACCESS_TOKEN:"AccessToken",ACCESS_TOKEN_WITH_AUTH_SCHEME:"AccessToken_With_AuthScheme",REFRESH_TOKEN:"RefreshToken"};var Ju="appmetadata",Ex="client_info",_o="1",Kc={CACHE_KEY:"authority-metadata",REFRESH_TIME_SECONDS:3600*24},Pr={CONFIG:"config",CACHE:"cache",NETWORK:"network",HARDCODED_VALUES:"hardcoded_values"},lr={SCHEMA_VERSION:5,MAX_CUR_HEADER_BYTES:80,MAX_LAST_HEADER_BYTES:330,MAX_CACHED_ERRORS:50,CACHE_KEY:"server-telemetry",CATEGORY_SEPARATOR:"|",VALUE_SEPARATOR:",",OVERFLOW_TRUE:"1",OVERFLOW_FALSE:"0",UNKNOWN_ERROR:"unknown_error"},lt={BEARER:"Bearer",POP:"pop",SSH:"ssh-cert"},ji={DEFAULT_THROTTLE_TIME_SECONDS:60,DEFAULT_MAX_THROTTLE_TIME_SECONDS:3600,THROTTLING_PREFIX:"throttling",X_MS_LIB_CAPABILITY_VALUE:"retry-after, h429"},Qh={INVALID_GRANT_ERROR:"invalid_grant",CLIENT_MISMATCH_ERROR:"client_mismatch"},Xh={username:"username",password:"password"},Zu={httpSuccess:200,httpBadRequest:400},La={FAILED_AUTO_DETECTION:"1",INTERNAL_CACHE:"2",ENVIRONMENT_VARIABLE:"3",IMDS:"4"},em={CONFIGURED_MATCHES_DETECTED:"1",CONFIGURED_NO_AUTO_DETECTION:"2",CONFIGURED_NOT_DETECTED:"3",AUTO_DETECTION_REQUESTED_SUCCESSFUL:"4",AUTO_DETECTION_REQUESTED_FAILED:"5"},kt={NOT_APPLICABLE:"0",FORCE_REFRESH_OR_CLAIMS:"1",NO_CACHED_ACCESS_TOKEN:"2",CACHED_ACCESS_TOKEN_EXPIRED:"3",PROACTIVELY_REFRESHED:"4"};var Qu=300;y();p();h();m();var Et=class t extends Error{constructor(e,r,n){let i=r?`${e}: ${r}`:e;super(i),Object.setPrototypeOf(this,t.prototype),this.errorCode=e||ee.EMPTY_STRING,this.errorMessage=r||ee.EMPTY_STRING,this.subError=n||ee.EMPTY_STRING,this.name="AuthError";}setCorrelationId(e){this.correlationId=e;}};var tr={};Ut(tr,{authTimeNotFound:()=>Hi,authorizationCodeMissingFromServerResponse:()=>Xa,bindingKeyNotRemoved:()=>es,cannotAppendScopeSet:()=>Ja,cannotRemoveEmptyScope:()=>Ya,clientInfoDecodingError:()=>Io,clientInfoEmptyError:()=>Fa,deviceCodeExpired:()=>rd,deviceCodePollingCancelled:()=>td,deviceCodeUnknownError:()=>nd,emptyInputScopeSet:()=>xo,endSessionEndpointNotSupported:()=>ts,endpointResolutionError:()=>Mr,hashNotDeserialized:()=>Ha,invalidAssertion:()=>ad,invalidCacheEnvironment:()=>Vi,invalidCacheRecord:()=>Za,invalidClientCredential:()=>sd,invalidState:()=>Gn,keyIdMissing:()=>rs,maxAgeTranspired:()=>Ga,methodNotImplemented:()=>Xe,missingTenantIdError:()=>dd,multipleMatchingAccounts:()=>ed,multipleMatchingAppMetadata:()=>Wa,multipleMatchingTokens:()=>Xu,nestedAppAuthBridgeDisabled:()=>fd,networkError:()=>qa,noAccountFound:()=>id,noAccountInSilentRequest:()=>$i,noCryptoObject:()=>ko,noNetworkConnectivity:()=>ld,nonceMismatch:()=>Va,nullOrEmptyToken:()=>za,openIdConfigError:()=>ja,requestCannotBeMade:()=>Ka,stateMismatch:()=>$a,stateNotFound:()=>Oo,tokenClaimsCnfRequiredForSignedJwt:()=>Qa,tokenParsingError:()=>No,tokenRefreshRequired:()=>gi,unexpectedCredentialType:()=>od,userCanceled:()=>ud,userTimeoutReached:()=>cd});y();p();h();m();var Io="client_info_decoding_error",Fa="client_info_empty_error",No="token_parsing_error",za="null_or_empty_token",Mr="endpoints_resolution_error",qa="network_error",ja="openid_config_error",Ha="hash_not_deserialized",Gn="invalid_state",$a="state_mismatch",Oo="state_not_found",Va="nonce_mismatch",Hi="auth_time_not_found",Ga="max_age_transpired",Xu="multiple_matching_tokens",ed="multiple_matching_accounts",Wa="multiple_matching_appMetadata",Ka="request_cannot_be_made",Ya="cannot_remove_empty_scope",Ja="cannot_append_scopeset",xo="empty_input_scopeset",td="device_code_polling_cancelled",rd="device_code_expired",nd="device_code_unknown_error",$i="no_account_in_silent_request",Za="invalid_cache_record",Vi="invalid_cache_environment",id="no_account_found",ko="no_crypto_object",od="unexpected_credential_type",ad="invalid_assertion",sd="invalid_client_credential",gi="token_refresh_required",cd="user_timeout_reached",Qa="token_claims_cnf_required_for_signedjwt",Xa="authorization_code_missing_from_server_response",es="binding_key_not_removed",ts="end_session_endpoint_not_supported",rs="key_id_missing",ld="no_network_connectivity",ud="user_canceled",dd="missing_tenant_id_error",Xe="method_not_implemented",fd="nested_app_auth_bridge_disabled";var Ze={[Io]:"The client info could not be parsed/decoded correctly",[Fa]:"The client info was empty",[No]:"Token cannot be parsed",[za]:"The token is null or empty",[Mr]:"Endpoints cannot be resolved",[qa]:"Network request failed",[ja]:"Could not retrieve endpoints. Check your authority and verify the .well-known/openid-configuration endpoint returns the required endpoints.",[Ha]:"The hash parameters could not be deserialized",[Gn]:"State was not the expected format",[$a]:"State mismatch error",[Oo]:"State not found",[Va]:"Nonce mismatch error",[Hi]:"Max Age was requested and the ID token is missing the auth_time variable. auth_time is an optional claim and is not enabled by default - it must be enabled. See https://aka.ms/msaljs/optional-claims for more information.",[Ga]:"Max Age is set to 0, or too much time has elapsed since the last end-user authentication.",[Xu]:"The cache contains multiple tokens satisfying the requirements. Call AcquireToken again providing more requirements such as authority or account.",[ed]:"The cache contains multiple accounts satisfying the given parameters. Please pass more info to obtain the correct account",[Wa]:"The cache contains multiple appMetadata satisfying the given parameters. Please pass more info to obtain the correct appMetadata",[Ka]:"Token request cannot be made without authorization code or refresh token.",[Ya]:"Cannot remove null or empty scope from ScopeSet",[Ja]:"Cannot append ScopeSet",[xo]:"Empty input ScopeSet cannot be processed",[td]:"Caller has cancelled token endpoint polling during device code flow by setting DeviceCodeRequest.cancel = true.",[rd]:"Device code is expired.",[nd]:"Device code stopped polling for unknown reasons.",[$i]:"Please pass an account object, silent flow is not supported without account information",[Za]:"Cache record object was null or undefined.",[Vi]:"Invalid environment when attempting to create cache entry",[id]:"No account found in cache for given key.",[ko]:"No crypto object detected.",[od]:"Unexpected credential type.",[ad]:"Client assertion must meet requirements described in https://tools.ietf.org/html/rfc7515",[sd]:"Client credential (secret, certificate, or assertion) must not be empty when creating a confidential client. An application should at most have one credential",[gi]:"Cannot return token from cache because it must be refreshed. This may be due to one of the following reasons: forceRefresh parameter is set to true, claims have been requested, there is no cached access token or it is expired.",[cd]:"User defined timeout for device code polling reached",[Qa]:"Cannot generate a POP jwt if the token_claims are not populated",[Xa]:"Server response does not contain an authorization code to proceed",[es]:"Could not remove the credential's binding key from storage.",[ts]:"The provided authority does not support logout",[rs]:"A keyId value is missing from the requested bound token's cache record and is required to match the token to it's stored binding key.",[ld]:"No network connectivity. Check your internet connection.",[ud]:"User cancelled the flow.",[dd]:"A tenant id - not common, organizations, or consumers - must be specified when using the client_credentials flow.",[Xe]:"This method has not been implemented",[fd]:"The nested app auth bridge is disabled"},Yc=class t extends Et{constructor(e,r){super(e,r?`${Ze[e]}: ${r}`:Ze[e]),this.name="ClientAuthError",Object.setPrototypeOf(this,t.prototype);}};function se(t,e){return new Yc(t,e)}function Gi(t,e){let r=Sx(t);try{let n=e(r);return JSON.parse(n)}catch(n){throw se(No)}}function Sx(t){if(!t)throw se(za);let r=/^([^\.\s]*)\.([^\.\s]+)\.([^\.\s]*)$/.exec(t);if(!r||r.length<4)throw se(No);return r[2]}function pd(t,e){if(e===0||Date.now()-3e5>t+e)throw se(Ga)}var um={};Ut(um,{createDiscoveredInstance:()=>RC});y();p();h();m();y();p();h();m();y();p();h();m();var Nn={Default:0,Adfs:1,Dsts:2,Ciam:3};y();p();h();m();function Tx(t){return t.hasOwnProperty("authorization_endpoint")&&t.hasOwnProperty("token_endpoint")&&t.hasOwnProperty("issuer")&&t.hasOwnProperty("jwks_uri")}y();p();h();m();y();p();h();m();var im={};Ut(im,{authorityMismatch:()=>Cd,authorityUriInsecure:()=>is,cannotAllowNativeBroker:()=>Ed,cannotSetOIDCOptions:()=>vd,claimsRequestParsingError:()=>hd,emptyInputScopesError:()=>as,invalidAuthenticationHeader:()=>gd,invalidAuthorityMetadata:()=>ds,invalidClaims:()=>Wi,invalidCloudDiscoveryMetadata:()=>Po,invalidCodeChallengeMethod:()=>us,invalidPromptValue:()=>ss,logoutRequestEmpty:()=>ls,missingNonceAuthenticationHeader:()=>yd,missingSshJwk:()=>Yi,missingSshKid:()=>md,pkceParamsMissing:()=>Ki,redirectUriEmpty:()=>ns,tokenRequestEmpty:()=>cs,untrustedAuthority:()=>fs,urlEmptyError:()=>os,urlParseError:()=>vi});y();p();h();m();var ns="redirect_uri_empty",hd="claims_request_parsing_error",is="authority_uri_insecure",vi="url_parse_error",os="empty_url_error",as="empty_input_scopes_error",ss="invalid_prompt_value",Wi="invalid_claims",cs="token_request_empty",ls="logout_request_empty",us="invalid_code_challenge_method",Ki="pkce_params_missing",Po="invalid_cloud_discovery_metadata",ds="invalid_authority_metadata",fs="untrusted_authority",Yi="missing_ssh_jwk",md="missing_ssh_kid",yd="missing_nonce_authentication_header",gd="invalid_authentication_header",vd="cannot_set_OIDCOptions",Ed="cannot_allow_native_broker",Cd="authority_mismatch";var Lt={[ns]:"A redirect URI is required for all calls, and none has been set.",[hd]:"Could not parse the given claims request object.",[is]:"Authority URIs must use https.  Please see here for valid authority configuration options: https://docs.microsoft.com/en-us/azure/active-directory/develop/msal-js-initializing-client-applications#configuration-options",[vi]:"URL could not be parsed into appropriate segments.",[os]:"URL was empty or null.",[as]:"Scopes cannot be passed as null, undefined or empty array because they are required to obtain an access token.",[ss]:"Please see here for valid configuration options: https://azuread.github.io/microsoft-authentication-library-for-js/ref/modules/_azure_msal_common.html#commonauthorizationurlrequest",[Wi]:"Given claims parameter must be a stringified JSON object.",[cs]:"Token request was empty and not found in cache.",[ls]:"The logout request was null or undefined.",[us]:'code_challenge_method passed is invalid. Valid values are "plain" and "S256".',[Ki]:"Both params: code_challenge and code_challenge_method are to be passed if to be sent in the request",[Po]:"Invalid cloudDiscoveryMetadata provided. Must be a stringified JSON object containing tenant_discovery_endpoint and metadata fields",[ds]:"Invalid authorityMetadata provided. Must by a stringified JSON object containing authorization_endpoint, token_endpoint, issuer fields.",[fs]:"The provided authority is not a trusted authority. Please include this authority in the knownAuthorities config parameter.",[Yi]:"Missing sshJwk in SSH certificate request. A stringified JSON Web Key is required when using the SSH authentication scheme.",[md]:"Missing sshKid in SSH certificate request. A string that uniquely identifies the public SSH key is required when using the SSH authentication scheme.",[yd]:"Unable to find an authentication header containing server nonce. Either the Authentication-Info or WWW-Authenticate headers must be present in order to obtain a server nonce.",[gd]:"Invalid authentication header provided",[vd]:"Cannot set OIDCOptions parameter. Please change the protocol mode to OIDC or use a non-Microsoft authority.",[Ed]:"Cannot set allowNativeBroker parameter to true when not in AAD protocol mode.",[Cd]:"Authority mismatch error. Authority provided in login request or PublicClientApplication config does not match the environment of the provided account. Please use a matching account or make an interactive request to login to this authority."},om=class t extends Et{constructor(e){super(e,Lt[e]),this.name="ClientConfigurationError",Object.setPrototypeOf(this,t.prototype);}};function St(t){return new om(t)}y();p();h();m();var $t=class{static isEmptyObj(e){if(e)try{let r=JSON.parse(e);return Object.keys(r).length===0}catch(r){}return !0}static startsWith(e,r){return e.indexOf(r)===0}static endsWith(e,r){return e.length>=r.length&&e.lastIndexOf(r)===e.length-r.length}static queryStringToObject(e){let r={},n=e.split("&"),i=o=>decodeURIComponent(o.replace(/\+/g," "));return n.forEach(o=>{if(o.trim()){let[a,s]=o.split(/=(.+)/g,2);a&&s&&(r[i(a)]=i(s));}}),r}static trimArrayEntries(e){return e.map(r=>r.trim())}static removeEmptyStringsFromArray(e){return e.filter(r=>!!r)}static jsonParseHelper(e){try{return JSON.parse(e)}catch(r){return null}}static matchPattern(e,r){return new RegExp(e.replace(/\\/g,"\\\\").replace(/\*/g,"[^ ]*").replace(/\?/g,"\\?")).test(r)}};y();p();h();m();function i5(t){return t.startsWith("#/")?t.substring(2):t.startsWith("#")||t.startsWith("?")?t.substring(1):t}function wx(t){if(!t||t.indexOf("=")<0)return null;try{let e=i5(t),r=Object.fromEntries(new URLSearchParams(e));if(r.code||r.error||r.error_description||r.state)return r}catch(e){throw se(Ha)}return null}var pt=class t{get urlString(){return this._urlString}constructor(e){if(this._urlString=e,!this._urlString)throw St(os);e.includes("#")||(this._urlString=t.canonicalizeUri(e));}static canonicalizeUri(e){if(e){let r=e.toLowerCase();return $t.endsWith(r,"?")?r=r.slice(0,-1):$t.endsWith(r,"?/")&&(r=r.slice(0,-2)),$t.endsWith(r,"/")||(r+="/"),r}return e}validateAsUri(){let e;try{e=this.getUrlComponents();}catch(r){throw St(vi)}if(!e.HostNameAndPort||!e.PathSegments)throw St(vi);if(!e.Protocol||e.Protocol.toLowerCase()!=="https:")throw St(is)}static appendQueryString(e,r){return r?e.indexOf("?")<0?`${e}?${r}`:`${e}&${r}`:e}static removeHashFromUrl(e){return t.canonicalizeUri(e.split("#")[0])}replaceTenantPath(e){let r=this.getUrlComponents(),n=r.PathSegments;return e&&n.length!==0&&(n[0]===rn.COMMON||n[0]===rn.ORGANIZATIONS)&&(n[0]=e),t.constructAuthorityUriFromObject(r)}getUrlComponents(){let e=RegExp("^(([^:/?#]+):)?(//([^/?#]*))?([^?#]*)(\\?([^#]*))?(#(.*))?"),r=this.urlString.match(e);if(!r)throw St(vi);let n={Protocol:r[1],HostNameAndPort:r[4],AbsolutePath:r[5],QueryString:r[7]},i=n.AbsolutePath.split("/");return i=i.filter(o=>o&&o.length>0),n.PathSegments=i,n.QueryString&&n.QueryString.endsWith("/")&&(n.QueryString=n.QueryString.substring(0,n.QueryString.length-1)),n}static getDomainFromUrl(e){let r=RegExp("^([^:/?#]+://)?([^/?#]*)"),n=e.match(r);if(!n)throw St(vi);return n[2]}static getAbsoluteUrl(e,r){if(e[0]===ee.FORWARD_SLASH){let i=new t(r).getUrlComponents();return i.Protocol+"//"+i.HostNameAndPort+e}return e}static constructAuthorityUriFromObject(e){return new t(e.Protocol+"//"+e.HostNameAndPort+"/"+e.PathSegments.join("/"))}static hashContainsKnownProperties(e){return !!wx(e)}};y();p();h();m();var bx={endpointMetadata:{"login.microsoftonline.com":{token_endpoint:"https://login.microsoftonline.com/{tenantid}/oauth2/v2.0/token",jwks_uri:"https://login.microsoftonline.com/{tenantid}/discovery/v2.0/keys",issuer:"https://login.microsoftonline.com/{tenantid}/v2.0",authorization_endpoint:"https://login.microsoftonline.com/{tenantid}/oauth2/v2.0/authorize",end_session_endpoint:"https://login.microsoftonline.com/{tenantid}/oauth2/v2.0/logout"},"login.chinacloudapi.cn":{token_endpoint:"https://login.chinacloudapi.cn/{tenantid}/oauth2/v2.0/token",jwks_uri:"https://login.chinacloudapi.cn/{tenantid}/discovery/v2.0/keys",issuer:"https://login.partner.microsoftonline.cn/{tenantid}/v2.0",authorization_endpoint:"https://login.chinacloudapi.cn/{tenantid}/oauth2/v2.0/authorize",end_session_endpoint:"https://login.chinacloudapi.cn/{tenantid}/oauth2/v2.0/logout"},"login.microsoftonline.us":{token_endpoint:"https://login.microsoftonline.us/{tenantid}/oauth2/v2.0/token",jwks_uri:"https://login.microsoftonline.us/{tenantid}/discovery/v2.0/keys",issuer:"https://login.microsoftonline.us/{tenantid}/v2.0",authorization_endpoint:"https://login.microsoftonline.us/{tenantid}/oauth2/v2.0/authorize",end_session_endpoint:"https://login.microsoftonline.us/{tenantid}/oauth2/v2.0/logout"}},instanceDiscoveryMetadata:{tenant_discovery_endpoint:"https://{canonicalAuthority}/v2.0/.well-known/openid-configuration",metadata:[{preferred_network:"login.microsoftonline.com",preferred_cache:"login.windows.net",aliases:["login.microsoftonline.com","login.windows.net","login.microsoft.com","sts.windows.net"]},{preferred_network:"login.partner.microsoftonline.cn",preferred_cache:"login.partner.microsoftonline.cn",aliases:["login.partner.microsoftonline.cn","login.chinacloudapi.cn"]},{preferred_network:"login.microsoftonline.de",preferred_cache:"login.microsoftonline.de",aliases:["login.microsoftonline.de"]},{preferred_network:"login.microsoftonline.us",preferred_cache:"login.microsoftonline.us",aliases:["login.microsoftonline.us","login.usgovcloudapi.net"]},{preferred_network:"login-us.microsoftonline.com",preferred_cache:"login-us.microsoftonline.com",aliases:["login-us.microsoftonline.com"]}]}},vC=bx.endpointMetadata,EC=bx.instanceDiscoveryMetadata,CC=new Set;EC.metadata.forEach(t=>{t.aliases.forEach(e=>{CC.add(e);});});function Rx(t,e){var i;let r,n=t.canonicalAuthority;if(n){let o=new pt(n).getUrlComponents().HostNameAndPort;r=Ax(o,(i=t.cloudDiscoveryMetadata)==null?void 0:i.metadata,Pr.CONFIG,e)||Ax(o,EC.metadata,Pr.HARDCODED_VALUES,e)||t.knownAuthorities;}return r||[]}function Ax(t,e,r,n){if(n==null||n.trace(`getAliasesFromMetadata called with source: ${r}`),t&&e){let i=Sd(e,t);if(i)return n==null||n.trace(`getAliasesFromMetadata: found cloud discovery metadata in ${r}, returning aliases`),i.aliases;n==null||n.trace(`getAliasesFromMetadata: did not find cloud discovery metadata in ${r}`);}return null}function _x(t){return Sd(EC.metadata,t)}function Sd(t,e){for(let r=0;r<t.length;r++){let n=t[r];if(n.aliases.includes(e))return n}return null}y();p();h();m();var On={AAD:"AAD",OIDC:"OIDC"};y();p();h();m();var ps={None:"none",AzurePublic:"https://login.microsoftonline.com",AzurePpe:"https://login.windows-ppe.net",AzureChina:"https://login.chinacloudapi.cn",AzureGermany:"https://login.microsoftonline.de",AzureUsGovernment:"https://login.microsoftonline.us"};y();p();h();m();function Ix(t){return t.hasOwnProperty("tenant_discovery_endpoint")&&t.hasOwnProperty("metadata")}y();p();h();m();function Nx(t){return t.hasOwnProperty("error")&&t.hasOwnProperty("error_description")}y();p();h();m();y();p();h();m();var Z={AcquireTokenByCode:"acquireTokenByCode",AcquireTokenByRefreshToken:"acquireTokenByRefreshToken",AcquireTokenSilent:"acquireTokenSilent",AcquireTokenSilentAsync:"acquireTokenSilentAsync",AcquireTokenPopup:"acquireTokenPopup",AcquireTokenPreRedirect:"acquireTokenPreRedirect",AcquireTokenRedirect:"acquireTokenRedirect",CryptoOptsGetPublicKeyThumbprint:"cryptoOptsGetPublicKeyThumbprint",CryptoOptsSignJwt:"cryptoOptsSignJwt",SilentCacheClientAcquireToken:"silentCacheClientAcquireToken",SilentIframeClientAcquireToken:"silentIframeClientAcquireToken",AwaitConcurrentIframe:"awaitConcurrentIframe",SilentRefreshClientAcquireToken:"silentRefreshClientAcquireToken",SsoSilent:"ssoSilent",StandardInteractionClientGetDiscoveredAuthority:"standardInteractionClientGetDiscoveredAuthority",FetchAccountIdWithNativeBroker:"fetchAccountIdWithNativeBroker",NativeInteractionClientAcquireToken:"nativeInteractionClientAcquireToken",BaseClientCreateTokenRequestHeaders:"baseClientCreateTokenRequestHeaders",RefreshTokenClientExecutePostToTokenEndpoint:"refreshTokenClientExecutePostToTokenEndpoint",AuthorizationCodeClientExecutePostToTokenEndpoint:"authorizationCodeClientExecutePostToTokenEndpoint",BrokerHandhshake:"brokerHandshake",AcquireTokenByRefreshTokenInBroker:"acquireTokenByRefreshTokenInBroker",AcquireTokenByBroker:"acquireTokenByBroker",RefreshTokenClientExecuteTokenRequest:"refreshTokenClientExecuteTokenRequest",RefreshTokenClientAcquireToken:"refreshTokenClientAcquireToken",RefreshTokenClientAcquireTokenWithCachedRefreshToken:"refreshTokenClientAcquireTokenWithCachedRefreshToken",RefreshTokenClientAcquireTokenByRefreshToken:"refreshTokenClientAcquireTokenByRefreshToken",RefreshTokenClientCreateTokenRequestBody:"refreshTokenClientCreateTokenRequestBody",AcquireTokenFromCache:"acquireTokenFromCache",SilentFlowClientAcquireCachedToken:"silentFlowClientAcquireCachedToken",SilentFlowClientGenerateResultFromCacheRecord:"silentFlowClientGenerateResultFromCacheRecord",AcquireTokenBySilentIframe:"acquireTokenBySilentIframe",InitializeBaseRequest:"initializeBaseRequest",InitializeSilentRequest:"initializeSilentRequest",InitializeClientApplication:"initializeClientApplication",SilentIframeClientTokenHelper:"silentIframeClientTokenHelper",SilentHandlerInitiateAuthRequest:"silentHandlerInitiateAuthRequest",SilentHandlerMonitorIframeForHash:"silentHandlerMonitorIframeForHash",SilentHandlerLoadFrame:"silentHandlerLoadFrame",SilentHandlerLoadFrameSync:"silentHandlerLoadFrameSync",StandardInteractionClientCreateAuthCodeClient:"standardInteractionClientCreateAuthCodeClient",StandardInteractionClientGetClientConfiguration:"standardInteractionClientGetClientConfiguration",StandardInteractionClientInitializeAuthorizationRequest:"standardInteractionClientInitializeAuthorizationRequest",StandardInteractionClientInitializeAuthorizationCodeRequest:"standardInteractionClientInitializeAuthorizationCodeRequest",GetAuthCodeUrl:"getAuthCodeUrl",HandleCodeResponseFromServer:"handleCodeResponseFromServer",HandleCodeResponse:"handleCodeResponse",UpdateTokenEndpointAuthority:"updateTokenEndpointAuthority",AuthClientAcquireToken:"authClientAcquireToken",AuthClientExecuteTokenRequest:"authClientExecuteTokenRequest",AuthClientCreateTokenRequestBody:"authClientCreateTokenRequestBody",AuthClientCreateQueryString:"authClientCreateQueryString",PopTokenGenerateCnf:"popTokenGenerateCnf",PopTokenGenerateKid:"popTokenGenerateKid",HandleServerTokenResponse:"handleServerTokenResponse",DeserializeResponse:"deserializeResponse",AuthorityFactoryCreateDiscoveredInstance:"authorityFactoryCreateDiscoveredInstance",AuthorityResolveEndpointsAsync:"authorityResolveEndpointsAsync",AuthorityResolveEndpointsFromLocalSources:"authorityResolveEndpointsFromLocalSources",AuthorityGetCloudDiscoveryMetadataFromNetwork:"authorityGetCloudDiscoveryMetadataFromNetwork",AuthorityUpdateCloudDiscoveryMetadata:"authorityUpdateCloudDiscoveryMetadata",AuthorityGetEndpointMetadataFromNetwork:"authorityGetEndpointMetadataFromNetwork",AuthorityUpdateEndpointMetadata:"authorityUpdateEndpointMetadata",AuthorityUpdateMetadataWithRegionalInformation:"authorityUpdateMetadataWithRegionalInformation",RegionDiscoveryDetectRegion:"regionDiscoveryDetectRegion",RegionDiscoveryGetRegionFromIMDS:"regionDiscoveryGetRegionFromIMDS",RegionDiscoveryGetCurrentVersion:"regionDiscoveryGetCurrentVersion",AcquireTokenByCodeAsync:"acquireTokenByCodeAsync",GetEndpointMetadataFromNetwork:"getEndpointMetadataFromNetwork",GetCloudDiscoveryMetadataFromNetworkMeasurement:"getCloudDiscoveryMetadataFromNetworkMeasurement",HandleRedirectPromiseMeasurement:"handleRedirectPromise",HandleNativeRedirectPromiseMeasurement:"handleNativeRedirectPromise",UpdateCloudDiscoveryMetadataMeasurement:"updateCloudDiscoveryMetadataMeasurement",UsernamePasswordClientAcquireToken:"usernamePasswordClientAcquireToken",NativeMessageHandlerHandshake:"nativeMessageHandlerHandshake",NativeGenerateAuthResult:"nativeGenerateAuthResult",RemoveHiddenIframe:"removeHiddenIframe",ClearTokensAndKeysWithClaims:"clearTokensAndKeysWithClaims",CacheManagerGetRefreshToken:"cacheManagerGetRefreshToken",GeneratePkceCodes:"generatePkceCodes",GenerateCodeVerifier:"generateCodeVerifier",GenerateCodeChallengeFromVerifier:"generateCodeChallengeFromVerifier",Sha256Digest:"sha256Digest",GetRandomValues:"getRandomValues"};y();p();h();m();var Ox=(t,e,r,n,i)=>(...o)=>{r.trace(`Executing function ${e}`);let a=n==null?void 0:n.startMeasurement(e,i);if(i){let s=e+"CallCount";n==null||n.incrementFields({[s]:1},i);}try{let s=t(...o);return a==null||a.end({success:!0}),r.trace(`Returning result from ${e}`),s}catch(s){r.trace(`Error occurred in ${e}`);try{r.trace(JSON.stringify(s));}catch(u){r.trace("Unable to print error message.");}throw a==null||a.end({success:!1},s),s}},ut=(t,e,r,n,i)=>(...o)=>{r.trace(`Executing function ${e}`);let a=n==null?void 0:n.startMeasurement(e,i);if(i){let s=e+"CallCount";n==null||n.incrementFields({[s]:1},i);}return n==null||n.setPreQueueTime(e,i),t(...o).then(s=>(r.trace(`Returning result from ${e}`),a==null||a.end({success:!0}),s)).catch(s=>{r.trace(`Error occurred in ${e}`);try{r.trace(JSON.stringify(s));}catch(u){r.trace("Unable to print error message.");}throw a==null||a.end({success:!1},s),s})};var Td=class t{constructor(e,r,n,i){this.networkInterface=e,this.logger=r,this.performanceClient=n,this.correlationId=i;}detectRegion(e,r){return L(this,null,function*(){var i;(i=this.performanceClient)==null||i.addQueueMeasurement(Z.RegionDiscoveryDetectRegion,this.correlationId);let n=e;if(n)r.region_source=La.ENVIRONMENT_VARIABLE;else {let o=t.IMDS_OPTIONS;try{let a=yield ut(this.getRegionFromIMDS.bind(this),Z.RegionDiscoveryGetRegionFromIMDS,this.logger,this.performanceClient,this.correlationId)(ee.IMDS_VERSION,o);if(a.status===Zu.httpSuccess&&(n=a.body,r.region_source=La.IMDS),a.status===Zu.httpBadRequest){let s=yield ut(this.getCurrentVersion.bind(this),Z.RegionDiscoveryGetCurrentVersion,this.logger,this.performanceClient,this.correlationId)(o);if(!s)return r.region_source=La.FAILED_AUTO_DETECTION,null;let u=yield ut(this.getRegionFromIMDS.bind(this),Z.RegionDiscoveryGetRegionFromIMDS,this.logger,this.performanceClient,this.correlationId)(s,o);u.status===Zu.httpSuccess&&(n=u.body,r.region_source=La.IMDS);}}catch(a){return r.region_source=La.FAILED_AUTO_DETECTION,null}}return n||(r.region_source=La.FAILED_AUTO_DETECTION),n||null})}getRegionFromIMDS(e,r){return L(this,null,function*(){var n;return (n=this.performanceClient)==null||n.addQueueMeasurement(Z.RegionDiscoveryGetRegionFromIMDS,this.correlationId),this.networkInterface.sendGetRequestAsync(`${ee.IMDS_ENDPOINT}?api-version=${e}&format=text`,r,ee.IMDS_TIMEOUT)})}getCurrentVersion(e){return L(this,null,function*(){var r;(r=this.performanceClient)==null||r.addQueueMeasurement(Z.RegionDiscoveryGetCurrentVersion,this.correlationId);try{let n=yield this.networkInterface.sendGetRequestAsync(`${ee.IMDS_ENDPOINT}?format=json`,e);return n.status===Zu.httpBadRequest&&n.body&&n.body["newest-versions"]&&n.body["newest-versions"].length>0?n.body["newest-versions"][0]:null}catch(n){return null}})}};Td.IMDS_OPTIONS={headers:{Metadata:"true"}};var ur={};Ut(ur,{createAccessTokenEntity:()=>wC,createIdTokenEntity:()=>TC,createRefreshTokenEntity:()=>AC,generateAppMetadataKey:()=>y5,generateAuthorityMetadataExpiresAt:()=>sm,generateCredentialKey:()=>wd,isAccessTokenEntity:()=>a5,isAppMetadataEntity:()=>g5,isAuthorityMetadataEntity:()=>v5,isAuthorityMetadataExpired:()=>cm,isCredentialEntity:()=>am,isIdTokenEntity:()=>s5,isRefreshTokenEntity:()=>c5,isServerTelemetryEntity:()=>h5,isThrottlingEntity:()=>m5,updateAuthorityEndpointMetadata:()=>Zc,updateCloudDiscoveryMetadata:()=>Ad});y();p();h();m();var yr={};Ut(yr,{delay:()=>o5,isTokenExpired:()=>Jc,nowSeconds:()=>nn,wasClockTurnedBack:()=>SC});y();p();h();m();function nn(){return Math.round(new Date().getTime()/1e3)}function Jc(t,e){let r=Number(t)||0;return nn()+e>r}function SC(t){return Number(t)>nn()}function o5(t,e){return new Promise(r=>setTimeout(()=>r(e),t))}function wd(t){return [l5(t),u5(t),d5(t),f5(t),p5(t)].join(Ht.CACHE_KEY_SEPARATOR).toLowerCase()}function TC(t,e,r,n,i){return {credentialType:vt.ID_TOKEN,homeAccountId:t,environment:e,clientId:n,secret:r,realm:i}}function wC(t,e,r,n,i,o,a,s,u,d,f,g,C,S,E){var _,P;let T={homeAccountId:t,credentialType:vt.ACCESS_TOKEN,secret:r,cachedAt:nn().toString(),expiresOn:a.toString(),extendedExpiresOn:s.toString(),environment:e,clientId:n,realm:i,target:o,tokenType:f||lt.BEARER};if(g&&(T.userAssertionHash=g),d&&(T.refreshOn=d.toString()),S&&(T.requestedClaims=S,T.requestedClaimsHash=E),((_=T.tokenType)==null?void 0:_.toLowerCase())!==lt.BEARER.toLowerCase())switch(T.credentialType=vt.ACCESS_TOKEN_WITH_AUTH_SCHEME,T.tokenType){case lt.POP:let M=Gi(r,u);if(!((P=M==null?void 0:M.cnf)!=null&&P.kid))throw se(Qa);T.keyId=M.cnf.kid;break;case lt.SSH:T.keyId=C;}return T}function AC(t,e,r,n,i,o,a){let s={credentialType:vt.REFRESH_TOKEN,homeAccountId:t,environment:e,clientId:n,secret:r};return o&&(s.userAssertionHash=o),i&&(s.familyId=i),a&&(s.expiresOn=a.toString()),s}function am(t){return t.hasOwnProperty("homeAccountId")&&t.hasOwnProperty("environment")&&t.hasOwnProperty("credentialType")&&t.hasOwnProperty("clientId")&&t.hasOwnProperty("secret")}function a5(t){return t?am(t)&&t.hasOwnProperty("realm")&&t.hasOwnProperty("target")&&(t.credentialType===vt.ACCESS_TOKEN||t.credentialType===vt.ACCESS_TOKEN_WITH_AUTH_SCHEME):!1}function s5(t){return t?am(t)&&t.hasOwnProperty("realm")&&t.credentialType===vt.ID_TOKEN:!1}function c5(t){return t?am(t)&&t.credentialType===vt.REFRESH_TOKEN:!1}function l5(t){return [t.homeAccountId,t.environment].join(Ht.CACHE_KEY_SEPARATOR).toLowerCase()}function u5(t){let e=t.credentialType===vt.REFRESH_TOKEN&&t.familyId||t.clientId;return [t.credentialType,e,t.realm||""].join(Ht.CACHE_KEY_SEPARATOR).toLowerCase()}function d5(t){return (t.target||"").toLowerCase()}function f5(t){return (t.requestedClaimsHash||"").toLowerCase()}function p5(t){return t.tokenType&&t.tokenType.toLowerCase()!==lt.BEARER.toLowerCase()?t.tokenType.toLowerCase():""}function h5(t,e){let r=t.indexOf(lr.CACHE_KEY)===0,n=!0;return e&&(n=e.hasOwnProperty("failedRequests")&&e.hasOwnProperty("errors")&&e.hasOwnProperty("cacheHits")),r&&n}function m5(t,e){let r=!1;t&&(r=t.indexOf(ji.THROTTLING_PREFIX)===0);let n=!0;return e&&(n=e.hasOwnProperty("throttleTime")),r&&n}function y5({environment:t,clientId:e}){return [Ju,t,e].join(Ht.CACHE_KEY_SEPARATOR).toLowerCase()}function g5(t,e){return e?t.indexOf(Ju)===0&&e.hasOwnProperty("clientId")&&e.hasOwnProperty("environment"):!1}function v5(t,e){return e?t.indexOf(Kc.CACHE_KEY)===0&&e.hasOwnProperty("aliases")&&e.hasOwnProperty("preferred_cache")&&e.hasOwnProperty("preferred_network")&&e.hasOwnProperty("canonical_authority")&&e.hasOwnProperty("authorization_endpoint")&&e.hasOwnProperty("token_endpoint")&&e.hasOwnProperty("issuer")&&e.hasOwnProperty("aliasesFromNetwork")&&e.hasOwnProperty("endpointsFromNetwork")&&e.hasOwnProperty("expiresAt")&&e.hasOwnProperty("jwks_uri"):!1}function sm(){return nn()+Kc.REFRESH_TIME_SECONDS}function Zc(t,e,r){t.authorization_endpoint=e.authorization_endpoint,t.token_endpoint=e.token_endpoint,t.end_session_endpoint=e.end_session_endpoint,t.issuer=e.issuer,t.endpointsFromNetwork=r,t.jwks_uri=e.jwks_uri;}function Ad(t,e,r){t.aliases=e.aliases,t.preferred_cache=e.preferred_cache,t.preferred_network=e.preferred_network,t.aliasesFromNetwork=r;}function cm(t){return t.expiresAt<=nn()}var Wn=class t{constructor(e,r,n,i,o,a,s,u){this.canonicalAuthority=e,this._canonicalAuthority.validateAsUri(),this.networkInterface=r,this.cacheManager=n,this.authorityOptions=i,this.regionDiscoveryMetadata={region_used:void 0,region_source:void 0,region_outcome:void 0},this.logger=o,this.performanceClient=s,this.correlationId=a,this.managedIdentity=u||!1,this.regionDiscovery=new Td(r,this.logger,this.performanceClient,this.correlationId);}getAuthorityType(e){if(e.HostNameAndPort.endsWith(ee.CIAM_AUTH_URL))return Nn.Ciam;let r=e.PathSegments;if(r.length)switch(r[0].toLowerCase()){case ee.ADFS:return Nn.Adfs;case ee.DSTS:return Nn.Dsts}return Nn.Default}get authorityType(){return this.getAuthorityType(this.canonicalAuthorityUrlComponents)}get protocolMode(){return this.authorityOptions.protocolMode}get options(){return this.authorityOptions}get canonicalAuthority(){return this._canonicalAuthority.urlString}set canonicalAuthority(e){this._canonicalAuthority=new pt(e),this._canonicalAuthority.validateAsUri(),this._canonicalAuthorityUrlComponents=null;}get canonicalAuthorityUrlComponents(){return this._canonicalAuthorityUrlComponents||(this._canonicalAuthorityUrlComponents=this._canonicalAuthority.getUrlComponents()),this._canonicalAuthorityUrlComponents}get hostnameAndPort(){return this.canonicalAuthorityUrlComponents.HostNameAndPort.toLowerCase()}get tenant(){return this.canonicalAuthorityUrlComponents.PathSegments[0]}get authorizationEndpoint(){if(this.discoveryComplete())return this.replacePath(this.metadata.authorization_endpoint);throw se(Mr)}get tokenEndpoint(){if(this.discoveryComplete())return this.replacePath(this.metadata.token_endpoint);throw se(Mr)}get deviceCodeEndpoint(){if(this.discoveryComplete())return this.replacePath(this.metadata.token_endpoint.replace("/token","/devicecode"));throw se(Mr)}get endSessionEndpoint(){if(this.discoveryComplete()){if(!this.metadata.end_session_endpoint)throw se(ts);return this.replacePath(this.metadata.end_session_endpoint)}else throw se(Mr)}get selfSignedJwtAudience(){if(this.discoveryComplete())return this.replacePath(this.metadata.issuer);throw se(Mr)}get jwksUri(){if(this.discoveryComplete())return this.replacePath(this.metadata.jwks_uri);throw se(Mr)}canReplaceTenant(e){return e.PathSegments.length===1&&!t.reservedTenantDomains.has(e.PathSegments[0])&&this.getAuthorityType(e)===Nn.Default&&this.protocolMode===On.AAD}replaceTenant(e){return e.replace(/{tenant}|{tenantid}/g,this.tenant)}replacePath(e){let r=e,i=new pt(this.metadata.canonical_authority).getUrlComponents(),o=i.PathSegments;return this.canonicalAuthorityUrlComponents.PathSegments.forEach((s,u)=>{let d=o[u];if(u===0&&this.canReplaceTenant(i)){let f=new pt(this.metadata.authorization_endpoint).getUrlComponents().PathSegments[0];d!==f&&(this.logger.verbose(`Replacing tenant domain name ${d} with id ${f}`),d=f);}s!==d&&(r=r.replace(`/${d}/`,`/${s}/`));}),this.replaceTenant(r)}get defaultOpenIdConfigurationEndpoint(){let e=this.hostnameAndPort;return this.canonicalAuthority.endsWith("v2.0/")||this.authorityType===Nn.Adfs||this.protocolMode!==On.AAD&&!this.isAliasOfKnownMicrosoftAuthority(e)?`${this.canonicalAuthority}.well-known/openid-configuration`:`${this.canonicalAuthority}v2.0/.well-known/openid-configuration`}discoveryComplete(){return !!this.metadata}resolveEndpointsAsync(){return L(this,null,function*(){var i,o;(i=this.performanceClient)==null||i.addQueueMeasurement(Z.AuthorityResolveEndpointsAsync,this.correlationId);let e=this.getCurrentMetadataEntity(),r=yield ut(this.updateCloudDiscoveryMetadata.bind(this),Z.AuthorityUpdateCloudDiscoveryMetadata,this.logger,this.performanceClient,this.correlationId)(e);this.canonicalAuthority=this.canonicalAuthority.replace(this.hostnameAndPort,e.preferred_network);let n=yield ut(this.updateEndpointMetadata.bind(this),Z.AuthorityUpdateEndpointMetadata,this.logger,this.performanceClient,this.correlationId)(e);this.updateCachedMetadata(e,r,{source:n}),(o=this.performanceClient)==null||o.addFields({cloudDiscoverySource:r,authorityEndpointSource:n},this.correlationId);})}getCurrentMetadataEntity(){let e=this.cacheManager.getAuthorityMetadataByAlias(this.hostnameAndPort);return e||(e={aliases:[],preferred_cache:this.hostnameAndPort,preferred_network:this.hostnameAndPort,canonical_authority:this.canonicalAuthority,authorization_endpoint:"",token_endpoint:"",end_session_endpoint:"",issuer:"",aliasesFromNetwork:!1,endpointsFromNetwork:!1,expiresAt:sm(),jwks_uri:""}),e}updateCachedMetadata(e,r,n){r!==Pr.CACHE&&(n==null?void 0:n.source)!==Pr.CACHE&&(e.expiresAt=sm(),e.canonical_authority=this.canonicalAuthority);let i=this.cacheManager.generateAuthorityMetadataCacheKey(e.preferred_cache);this.cacheManager.setAuthorityMetadata(i,e),this.metadata=e;}updateEndpointMetadata(e){return L(this,null,function*(){var i,o,a;(i=this.performanceClient)==null||i.addQueueMeasurement(Z.AuthorityUpdateEndpointMetadata,this.correlationId);let r=this.updateEndpointMetadataFromLocalSources(e);if(r){if(r.source===Pr.HARDCODED_VALUES&&(o=this.authorityOptions.azureRegionConfiguration)!=null&&o.azureRegion&&r.metadata){let s=yield ut(this.updateMetadataWithRegionalInformation.bind(this),Z.AuthorityUpdateMetadataWithRegionalInformation,this.logger,this.performanceClient,this.correlationId)(r.metadata);Zc(e,s,!1),e.canonical_authority=this.canonicalAuthority;}return r.source}let n=yield ut(this.getEndpointMetadataFromNetwork.bind(this),Z.AuthorityGetEndpointMetadataFromNetwork,this.logger,this.performanceClient,this.correlationId)();if(n)return (a=this.authorityOptions.azureRegionConfiguration)!=null&&a.azureRegion&&(n=yield ut(this.updateMetadataWithRegionalInformation.bind(this),Z.AuthorityUpdateMetadataWithRegionalInformation,this.logger,this.performanceClient,this.correlationId)(n)),Zc(e,n,!0),Pr.NETWORK;throw se(ja,this.defaultOpenIdConfigurationEndpoint)})}updateEndpointMetadataFromLocalSources(e){this.logger.verbose("Attempting to get endpoint metadata from authority configuration");let r=this.getEndpointMetadataFromConfig();if(r)return this.logger.verbose("Found endpoint metadata in authority configuration"),Zc(e,r,!1),{source:Pr.CONFIG};if(this.logger.verbose("Did not find endpoint metadata in the config... Attempting to get endpoint metadata from the hardcoded values."),this.authorityOptions.skipAuthorityMetadataCache)this.logger.verbose("Skipping hardcoded metadata cache since skipAuthorityMetadataCache is set to true. Attempting to get endpoint metadata from the network metadata cache.");else {let i=this.getEndpointMetadataFromHardcodedValues();if(i)return Zc(e,i,!1),{source:Pr.HARDCODED_VALUES,metadata:i};this.logger.verbose("Did not find endpoint metadata in hardcoded values... Attempting to get endpoint metadata from the network metadata cache.");}let n=cm(e);return this.isAuthoritySameType(e)&&e.endpointsFromNetwork&&!n?(this.logger.verbose("Found endpoint metadata in the cache."),{source:Pr.CACHE}):(n&&this.logger.verbose("The metadata entity is expired."),null)}isAuthoritySameType(e){return new pt(e.canonical_authority).getUrlComponents().PathSegments.length===this.canonicalAuthorityUrlComponents.PathSegments.length}getEndpointMetadataFromConfig(){if(this.authorityOptions.authorityMetadata)try{return JSON.parse(this.authorityOptions.authorityMetadata)}catch(e){throw St(ds)}return null}getEndpointMetadataFromNetwork(){return L(this,null,function*(){var n;(n=this.performanceClient)==null||n.addQueueMeasurement(Z.AuthorityGetEndpointMetadataFromNetwork,this.correlationId);let e={},r=this.defaultOpenIdConfigurationEndpoint;this.logger.verbose(`Authority.getEndpointMetadataFromNetwork: attempting to retrieve OAuth endpoints from ${r}`);try{let i=yield this.networkInterface.sendGetRequestAsync(r,e);return Tx(i.body)?i.body:(this.logger.verbose("Authority.getEndpointMetadataFromNetwork: could not parse response as OpenID configuration"),null)}catch(i){return this.logger.verbose(`Authority.getEndpointMetadataFromNetwork: ${i}`),null}})}getEndpointMetadataFromHardcodedValues(){return this.hostnameAndPort in vC?vC[this.hostnameAndPort]:null}updateMetadataWithRegionalInformation(e){return L(this,null,function*(){var n,i,o;(n=this.performanceClient)==null||n.addQueueMeasurement(Z.AuthorityUpdateMetadataWithRegionalInformation,this.correlationId);let r=(i=this.authorityOptions.azureRegionConfiguration)==null?void 0:i.azureRegion;if(r){if(r!==ee.AZURE_REGION_AUTO_DISCOVER_FLAG)return this.regionDiscoveryMetadata.region_outcome=em.CONFIGURED_NO_AUTO_DETECTION,this.regionDiscoveryMetadata.region_used=r,t.replaceWithRegionalInformation(e,r);let a=yield ut(this.regionDiscovery.detectRegion.bind(this.regionDiscovery),Z.RegionDiscoveryDetectRegion,this.logger,this.performanceClient,this.correlationId)((o=this.authorityOptions.azureRegionConfiguration)==null?void 0:o.environmentRegion,this.regionDiscoveryMetadata);if(a)return this.regionDiscoveryMetadata.region_outcome=em.AUTO_DETECTION_REQUESTED_SUCCESSFUL,this.regionDiscoveryMetadata.region_used=a,t.replaceWithRegionalInformation(e,a);this.regionDiscoveryMetadata.region_outcome=em.AUTO_DETECTION_REQUESTED_FAILED;}return e})}updateCloudDiscoveryMetadata(e){return L(this,null,function*(){var i;(i=this.performanceClient)==null||i.addQueueMeasurement(Z.AuthorityUpdateCloudDiscoveryMetadata,this.correlationId);let r=this.updateCloudDiscoveryMetadataFromLocalSources(e);if(r)return r;let n=yield ut(this.getCloudDiscoveryMetadataFromNetwork.bind(this),Z.AuthorityGetCloudDiscoveryMetadataFromNetwork,this.logger,this.performanceClient,this.correlationId)();if(n)return Ad(e,n,!0),Pr.NETWORK;throw St(fs)})}updateCloudDiscoveryMetadataFromLocalSources(e){this.logger.verbose("Attempting to get cloud discovery metadata  from authority configuration"),this.logger.verbosePii(`Known Authorities: ${this.authorityOptions.knownAuthorities||ee.NOT_APPLICABLE}`),this.logger.verbosePii(`Authority Metadata: ${this.authorityOptions.authorityMetadata||ee.NOT_APPLICABLE}`),this.logger.verbosePii(`Canonical Authority: ${e.canonical_authority||ee.NOT_APPLICABLE}`);let r=this.getCloudDiscoveryMetadataFromConfig();if(r)return this.logger.verbose("Found cloud discovery metadata in authority configuration"),Ad(e,r,!1),Pr.CONFIG;if(this.logger.verbose("Did not find cloud discovery metadata in the config... Attempting to get cloud discovery metadata from the hardcoded values."),this.options.skipAuthorityMetadataCache)this.logger.verbose("Skipping hardcoded cloud discovery metadata cache since skipAuthorityMetadataCache is set to true. Attempting to get cloud discovery metadata from the network metadata cache.");else {let i=_x(this.hostnameAndPort);if(i)return this.logger.verbose("Found cloud discovery metadata from hardcoded values."),Ad(e,i,!1),Pr.HARDCODED_VALUES;this.logger.verbose("Did not find cloud discovery metadata in hardcoded values... Attempting to get cloud discovery metadata from the network metadata cache.");}let n=cm(e);return this.isAuthoritySameType(e)&&e.aliasesFromNetwork&&!n?(this.logger.verbose("Found cloud discovery metadata in the cache."),Pr.CACHE):(n&&this.logger.verbose("The metadata entity is expired."),null)}getCloudDiscoveryMetadataFromConfig(){if(this.authorityType===Nn.Ciam)return this.logger.verbose("CIAM authorities do not support cloud discovery metadata, generate the aliases from authority host."),t.createCloudDiscoveryMetadataFromHost(this.hostnameAndPort);if(this.authorityOptions.cloudDiscoveryMetadata){this.logger.verbose("The cloud discovery metadata has been provided as a network response, in the config.");try{this.logger.verbose("Attempting to parse the cloud discovery metadata.");let e=JSON.parse(this.authorityOptions.cloudDiscoveryMetadata),r=Sd(e.metadata,this.hostnameAndPort);if(this.logger.verbose("Parsed the cloud discovery metadata."),r)return this.logger.verbose("There is returnable metadata attached to the parsed cloud discovery metadata."),r;this.logger.verbose("There is no metadata attached to the parsed cloud discovery metadata.");}catch(e){throw this.logger.verbose("Unable to parse the cloud discovery metadata. Throwing Invalid Cloud Discovery Metadata Error."),St(Po)}}return this.isInKnownAuthorities()?(this.logger.verbose("The host is included in knownAuthorities. Creating new cloud discovery metadata from the host."),t.createCloudDiscoveryMetadataFromHost(this.hostnameAndPort)):null}getCloudDiscoveryMetadataFromNetwork(){return L(this,null,function*(){var i;(i=this.performanceClient)==null||i.addQueueMeasurement(Z.AuthorityGetCloudDiscoveryMetadataFromNetwork,this.correlationId);let e=`${ee.AAD_INSTANCE_DISCOVERY_ENDPT}${this.canonicalAuthority}oauth2/v2.0/authorize`,r={},n=null;try{let o=yield this.networkInterface.sendGetRequestAsync(e,r),a,s;if(Ix(o.body))a=o.body,s=a.metadata,this.logger.verbosePii(`tenant_discovery_endpoint is: ${a.tenant_discovery_endpoint}`);else if(Nx(o.body)){if(this.logger.warning(`A CloudInstanceDiscoveryErrorResponse was returned. The cloud instance discovery network request's status code is: ${o.status}`),a=o.body,a.error===ee.INVALID_INSTANCE)return this.logger.error("The CloudInstanceDiscoveryErrorResponse error is invalid_instance."),null;this.logger.warning(`The CloudInstanceDiscoveryErrorResponse error is ${a.error}`),this.logger.warning(`The CloudInstanceDiscoveryErrorResponse error description is ${a.error_description}`),this.logger.warning("Setting the value of the CloudInstanceDiscoveryMetadata (returned from the network) to []"),s=[];}else return this.logger.error("AAD did not return a CloudInstanceDiscoveryResponse or CloudInstanceDiscoveryErrorResponse"),null;this.logger.verbose("Attempting to find a match between the developer's authority and the CloudInstanceDiscoveryMetadata returned from the network request."),n=Sd(s,this.hostnameAndPort);}catch(o){if(o instanceof Et)this.logger.error(`There was a network error while attempting to get the cloud discovery instance metadata.
Error: ${o.errorCode}
Error Description: ${o.errorMessage}`);else {let a=o;this.logger.error(`A non-MSALJS error was thrown while attempting to get the cloud instance discovery metadata.
Error: ${a.name}
Error Description: ${a.message}`);}return null}return n||(this.logger.warning("The developer's authority was not found within the CloudInstanceDiscoveryMetadata returned from the network request."),this.logger.verbose("Creating custom Authority for custom domain scenario."),n=t.createCloudDiscoveryMetadataFromHost(this.hostnameAndPort)),n})}isInKnownAuthorities(){return this.authorityOptions.knownAuthorities.filter(r=>r&&pt.getDomainFromUrl(r).toLowerCase()===this.hostnameAndPort).length>0}static generateAuthority(e,r){let n;if(r&&r.azureCloudInstance!==ps.None){let i=r.tenant?r.tenant:ee.DEFAULT_COMMON_TENANT;n=`${r.azureCloudInstance}/${i}/`;}return n||e}static createCloudDiscoveryMetadataFromHost(e){return {preferred_network:e,preferred_cache:e,aliases:[e]}}getPreferredCache(){if(this.managedIdentity)return ee.DEFAULT_AUTHORITY_HOST;if(this.discoveryComplete())return this.metadata.preferred_cache;throw se(Mr)}isAlias(e){return this.metadata.aliases.indexOf(e)>-1}isAliasOfKnownMicrosoftAuthority(e){return CC.has(e)}static isPublicCloudAuthority(e){return ee.KNOWN_PUBLIC_CLOUDS.indexOf(e)>=0}static buildRegionalAuthorityString(e,r,n){let i=new pt(e);i.validateAsUri();let o=i.getUrlComponents(),a=`${r}.${o.HostNameAndPort}`;this.isPublicCloudAuthority(o.HostNameAndPort)&&(a=`${r}.${ee.REGIONAL_AUTH_PUBLIC_CLOUD_SUFFIX}`);let s=pt.constructAuthorityUriFromObject(ae(q({},i.getUrlComponents()),{HostNameAndPort:a})).urlString;return n?`${s}?${n}`:s}static replaceWithRegionalInformation(e,r){let n=q({},e);return n.authorization_endpoint=t.buildRegionalAuthorityString(n.authorization_endpoint,r),n.token_endpoint=t.buildRegionalAuthorityString(n.token_endpoint,r),n.end_session_endpoint&&(n.end_session_endpoint=t.buildRegionalAuthorityString(n.end_session_endpoint,r)),n}static transformCIAMAuthority(e){let r=e,i=new pt(e).getUrlComponents();if(i.PathSegments.length===0&&i.HostNameAndPort.endsWith(ee.CIAM_AUTH_URL)){let o=i.HostNameAndPort.split(".")[0];r=`${r}${o}${ee.AAD_TENANT_DOMAIN_SUFFIX}`;}return r}};Wn.reservedTenantDomains=new Set(["{tenant}","{tenantid}",rn.COMMON,rn.CONSUMERS,rn.ORGANIZATIONS]);function xx(t){var i;let n=(i=new pt(t).getUrlComponents().PathSegments.slice(-1)[0])==null?void 0:i.toLowerCase();switch(n){case rn.COMMON:case rn.ORGANIZATIONS:case rn.CONSUMERS:return;default:return n}}function lm(t){return t.endsWith(ee.FORWARD_SLASH)?t:`${t}${ee.FORWARD_SLASH}`}function bC(t){let e=t.cloudDiscoveryMetadata,r;if(e)try{r=JSON.parse(e);}catch(n){throw St(Po)}return {canonicalAuthority:t.authority?lm(t.authority):void 0,knownAuthorities:t.knownAuthorities,cloudDiscoveryMetadata:r}}function RC(t,e,r,n,i,o,a){return L(this,null,function*(){a==null||a.addQueueMeasurement(Z.AuthorityFactoryCreateDiscoveredInstance,o);let s=Wn.transformCIAMAuthority(lm(t)),u=new Wn(s,e,r,n,i,o,a);try{return yield ut(u.resolveEndpointsAsync.bind(u),Z.AuthorityResolveEndpointsAsync,i,a,o)(),u}catch(d){throw se(Mr)}})}y();p();h();m();function Ur(t,e,r){return L(this,null,function*(){return typeof t=="string"?t:t({clientId:e,tokenEndpoint:r})})}var mm={};Ut(mm,{ACCESS_TOKEN:()=>S5,CCS_HEADER:()=>N5,CLAIMS:()=>OC,CLIENT_ASSERTION:()=>eS,CLIENT_ASSERTION_TYPE:()=>tS,CLIENT_ID:()=>Mo,CLIENT_INFO:()=>R5,CLIENT_REQUEST_ID:()=>zC,CLIENT_SECRET:()=>XC,CODE:()=>BC,CODE_CHALLENGE:()=>DC,CODE_CHALLENGE_METHOD:()=>LC,CODE_VERIFIER:()=>FC,DEVICE_CODE:()=>QC,DOMAIN_HINT:()=>cS,ERROR:()=>E5,ERROR_DESCRIPTION:()=>C5,EXPIRES_IN:()=>w5,FOCI:()=>I5,GRANT_TYPE:()=>NC,ID_TOKEN:()=>T5,ID_TOKEN_HINT:()=>ZC,LOGIN_HINT:()=>sS,LOGOUT_HINT:()=>oS,NATIVE_BROKER:()=>iS,NONCE:()=>MC,OBO_ASSERTION:()=>rS,ON_BEHALF_OF:()=>_5,POST_LOGOUT_URI:()=>JC,PROMPT:()=>UC,REDIRECT_URI:()=>_C,REFRESH_TOKEN:()=>kC,REFRESH_TOKEN_EXPIRES_IN:()=>A5,REQUESTED_TOKEN_USE:()=>nS,REQ_CNF:()=>pm,RESPONSE_MODE:()=>IC,RESPONSE_TYPE:()=>dm,RETURN_SPA_CODE:()=>hm,SCOPE:()=>xC,SESSION_STATE:()=>b5,SID:()=>aS,STATE:()=>PC,TOKEN_TYPE:()=>fm,X_APP_NAME:()=>KC,X_APP_VER:()=>YC,X_CLIENT_CPU:()=>$C,X_CLIENT_CURR_TELEM:()=>VC,X_CLIENT_EXTRA_SKU:()=>O5,X_CLIENT_LAST_TELEM:()=>GC,X_CLIENT_OS:()=>HC,X_CLIENT_SKU:()=>qC,X_CLIENT_VER:()=>jC,X_MS_LIB_CAPABILITY:()=>WC});y();p();h();m();var Mo="client_id",_C="redirect_uri",dm="response_type",IC="response_mode",NC="grant_type",OC="claims",xC="scope",E5="error",C5="error_description",S5="access_token",T5="id_token",kC="refresh_token",w5="expires_in",A5="refresh_token_expires_in",PC="state",MC="nonce",UC="prompt",b5="session_state",R5="client_info",BC="code",DC="code_challenge",LC="code_challenge_method",FC="code_verifier",zC="client-request-id",qC="x-client-SKU",jC="x-client-VER",HC="x-client-OS",$C="x-client-CPU",VC="x-client-current-telemetry",GC="x-client-last-telemetry",WC="x-ms-lib-capability",KC="x-app-name",YC="x-app-ver",JC="post_logout_redirect_uri",ZC="id_token_hint",QC="device_code",XC="client_secret",eS="client_assertion",tS="client_assertion_type",fm="token_type",pm="req_cnf",rS="assertion",nS="requested_token_use",_5="on_behalf_of",I5="foci",N5="X-AnchorMailbox",hm="return_spa_code",iS="nativebroker",oS="logout_hint",aS="sid",sS="login_hint",cS="domain_hint",O5="x-client-xtra-sku";y();p();h();m();y();p();h();m();y();p();h();m();y();p();h();m();var Qc={createNewGuid:()=>{throw se(Xe)},base64Decode:()=>{throw se(Xe)},base64Encode:()=>{throw se(Xe)},base64UrlEncode:()=>{throw se(Xe)},encodeKid:()=>{throw se(Xe)},getPublicKeyThumbprint(){return L(this,null,function*(){throw se(Xe)})},removeTokenBindingKey(){return L(this,null,function*(){throw se(Xe)})},clearKeystore(){return L(this,null,function*(){throw se(Xe)})},signJwt(){return L(this,null,function*(){throw se(Xe)})},hashString(){return L(this,null,function*(){throw se(Xe)})}};y();p();h();m();var Jt;(function(t){t[t.Error=0]="Error",t[t.Warning=1]="Warning",t[t.Info=2]="Info",t[t.Verbose=3]="Verbose",t[t.Trace=4]="Trace";})(Jt||(Jt={}));var Kn=class t{constructor(e,r,n){this.level=Jt.Info;let i=()=>{},o=e||t.createDefaultLoggerOptions();this.localCallback=o.loggerCallback||i,this.piiLoggingEnabled=o.piiLoggingEnabled||!1,this.level=typeof o.logLevel=="number"?o.logLevel:Jt.Info,this.correlationId=o.correlationId||ee.EMPTY_STRING,this.packageName=r||ee.EMPTY_STRING,this.packageVersion=n||ee.EMPTY_STRING;}static createDefaultLoggerOptions(){return {loggerCallback:()=>{},piiLoggingEnabled:!1,logLevel:Jt.Info}}clone(e,r,n){return new t({loggerCallback:this.localCallback,piiLoggingEnabled:this.piiLoggingEnabled,logLevel:this.level,correlationId:n||this.correlationId},e,r)}logMessage(e,r){if(r.logLevel>this.level||!this.piiLoggingEnabled&&r.containsPii)return;let o=`${`[${new Date().toUTCString()}] : [${r.correlationId||this.correlationId||""}]`} : ${this.packageName}@${this.packageVersion} : ${Jt[r.logLevel]} - ${e}`;this.executeCallback(r.logLevel,o,r.containsPii||!1);}executeCallback(e,r,n){this.localCallback&&this.localCallback(e,r,n);}error(e,r){this.logMessage(e,{logLevel:Jt.Error,containsPii:!1,correlationId:r||ee.EMPTY_STRING});}errorPii(e,r){this.logMessage(e,{logLevel:Jt.Error,containsPii:!0,correlationId:r||ee.EMPTY_STRING});}warning(e,r){this.logMessage(e,{logLevel:Jt.Warning,containsPii:!1,correlationId:r||ee.EMPTY_STRING});}warningPii(e,r){this.logMessage(e,{logLevel:Jt.Warning,containsPii:!0,correlationId:r||ee.EMPTY_STRING});}info(e,r){this.logMessage(e,{logLevel:Jt.Info,containsPii:!1,correlationId:r||ee.EMPTY_STRING});}infoPii(e,r){this.logMessage(e,{logLevel:Jt.Info,containsPii:!0,correlationId:r||ee.EMPTY_STRING});}verbose(e,r){this.logMessage(e,{logLevel:Jt.Verbose,containsPii:!1,correlationId:r||ee.EMPTY_STRING});}verbosePii(e,r){this.logMessage(e,{logLevel:Jt.Verbose,containsPii:!0,correlationId:r||ee.EMPTY_STRING});}trace(e,r){this.logMessage(e,{logLevel:Jt.Trace,containsPii:!1,correlationId:r||ee.EMPTY_STRING});}tracePii(e,r){this.logMessage(e,{logLevel:Jt.Trace,containsPii:!0,correlationId:r||ee.EMPTY_STRING});}isPiiLoggingEnabled(){return this.piiLoggingEnabled||!1}};y();p();h();m();var ym="@azure/msal-common",Xc="14.14.2";y();p();h();m();y();p();h();m();var rr=class t{constructor(e){let r=e?$t.trimArrayEntries([...e]):[],n=r?$t.removeEmptyStringsFromArray(r):[];this.validateInputScopes(n),this.scopes=new Set,n.forEach(i=>this.scopes.add(i));}static fromString(e){let n=(e||ee.EMPTY_STRING).split(" ");return new t(n)}static createSearchScopes(e){let r=new t(e);return r.containsOnlyOIDCScopes()?r.removeScope(ee.OFFLINE_ACCESS_SCOPE):r.removeOIDCScopes(),r}validateInputScopes(e){if(!e||e.length<1)throw St(as)}containsScope(e){let r=this.printScopesLowerCase().split(" "),n=new t(r);return e?n.scopes.has(e.toLowerCase()):!1}containsScopeSet(e){return !e||e.scopes.size<=0?!1:this.scopes.size>=e.scopes.size&&e.asArray().every(r=>this.containsScope(r))}containsOnlyOIDCScopes(){let e=0;return gC.forEach(r=>{this.containsScope(r)&&(e+=1);}),this.scopes.size===e}appendScope(e){e&&this.scopes.add(e.trim());}appendScopes(e){try{e.forEach(r=>this.appendScope(r));}catch(r){throw se(Ja)}}removeScope(e){if(!e)throw se(Ya);this.scopes.delete(e.trim());}removeOIDCScopes(){gC.forEach(e=>{this.scopes.delete(e);});}unionScopeSets(e){if(!e)throw se(xo);let r=new Set;return e.scopes.forEach(n=>r.add(n.toLowerCase())),this.scopes.forEach(n=>r.add(n.toLowerCase())),r}intersectingScopeSets(e){if(!e)throw se(xo);e.containsOnlyOIDCScopes()||e.removeOIDCScopes();let r=this.unionScopeSets(e),n=e.getScopeCount(),i=this.getScopeCount();return r.size<i+n}getScopeCount(){return this.scopes.size}asArray(){let e=[];return this.scopes.forEach(r=>e.push(r)),e}printScopes(){return this.scopes?this.asArray().join(" "):ee.EMPTY_STRING}printScopesLowerCase(){return this.printScopes().toLowerCase()}};y();p();h();m();y();p();h();m();function el(t,e){if(!t)throw se(Fa);try{let r=e(t);return JSON.parse(r)}catch(r){throw se(Io)}}function Ji(t){if(!t)throw se(Io);let e=t.split(Ht.CLIENT_INFO_SEPARATOR,2);return {uid:e[0],utid:e.length<2?ee.EMPTY_STRING:e[1]}}y();p();h();m();function bd(t,e){return !!t&&!!e&&t===e.split(".")[1]}function Rd(t,e,r,n){if(n){let{oid:i,sub:o,tid:a,name:s,tfp:u,acr:d}=n,f=a||u||d||"";return {tenantId:f,localAccountId:i||o||"",name:s,isHomeTenant:bd(f,t)}}else return {tenantId:r,localAccountId:e,isHomeTenant:bd(r,t)}}function gm(t,e,r,n){let i=t;if(e){let o=e,u=Bs(o,["isHomeTenant"]);i=q(q({},t),u);}if(r){let a=Rd(t.homeAccountId,t.localAccountId,t.tenantId,r),u=Bs(a,["isHomeTenant"]);return i=ae(q(q({},i),u),{idTokenClaims:r,idToken:n}),i}return i}y();p();h();m();function vm(t){return t&&(t.tid||t.tfp||t.acr)||null}var Cr=class t{generateAccountId(){return [this.homeAccountId,this.environment].join(Ht.CACHE_KEY_SEPARATOR).toLowerCase()}generateAccountKey(){return t.generateAccountCacheKey({homeAccountId:this.homeAccountId,environment:this.environment,tenantId:this.realm,username:this.username,localAccountId:this.localAccountId})}getAccountInfo(){return {homeAccountId:this.homeAccountId,environment:this.environment,tenantId:this.realm,username:this.username,localAccountId:this.localAccountId,name:this.name,nativeAccountId:this.nativeAccountId,authorityType:this.authorityType,tenantProfiles:new Map((this.tenantProfiles||[]).map(e=>[e.tenantId,e]))}}isSingleTenant(){return !this.tenantProfiles}static generateAccountCacheKey(e){let r=e.homeAccountId.split(".")[1];return [e.homeAccountId,e.environment||"",r||e.tenantId||""].join(Ht.CACHE_KEY_SEPARATOR).toLowerCase()}static createAccount(e,r,n){var d,f,g,C,S,E;let i=new t;r.authorityType===Nn.Adfs?i.authorityType=Wc.ADFS_ACCOUNT_TYPE:r.protocolMode===On.AAD?i.authorityType=Wc.MSSTS_ACCOUNT_TYPE:i.authorityType=Wc.GENERIC_ACCOUNT_TYPE;let o;e.clientInfo&&n&&(o=el(e.clientInfo,n)),i.clientInfo=e.clientInfo,i.homeAccountId=e.homeAccountId,i.nativeAccountId=e.nativeAccountId;let a=e.environment||r&&r.getPreferredCache();if(!a)throw se(Vi);i.environment=a,i.realm=(o==null?void 0:o.utid)||vm(e.idTokenClaims)||"",i.localAccountId=(o==null?void 0:o.uid)||((d=e.idTokenClaims)==null?void 0:d.oid)||((f=e.idTokenClaims)==null?void 0:f.sub)||"";let s=((g=e.idTokenClaims)==null?void 0:g.preferred_username)||((C=e.idTokenClaims)==null?void 0:C.upn),u=(S=e.idTokenClaims)!=null&&S.emails?e.idTokenClaims.emails[0]:null;if(i.username=s||u||"",i.name=((E=e.idTokenClaims)==null?void 0:E.name)||"",i.cloudGraphHostName=e.cloudGraphHostName,i.msGraphHost=e.msGraphHost,e.tenantProfiles)i.tenantProfiles=e.tenantProfiles;else {let T=Rd(e.homeAccountId,i.localAccountId,i.realm,e.idTokenClaims);i.tenantProfiles=[T];}return i}static createFromAccountInfo(e,r,n){var o;let i=new t;return i.authorityType=e.authorityType||Wc.GENERIC_ACCOUNT_TYPE,i.homeAccountId=e.homeAccountId,i.localAccountId=e.localAccountId,i.nativeAccountId=e.nativeAccountId,i.realm=e.tenantId,i.environment=e.environment,i.username=e.username,i.name=e.name,i.cloudGraphHostName=r,i.msGraphHost=n,i.tenantProfiles=Array.from(((o=e.tenantProfiles)==null?void 0:o.values())||[]),i}static generateHomeAccountId(e,r,n,i,o){if(!(r===Nn.Adfs||r===Nn.Dsts)){if(e)try{let a=el(e,i.base64Decode);if(a.uid&&a.utid)return `${a.uid}.${a.utid}`}catch(a){}n.warning("No client info in response");}return (o==null?void 0:o.sub)||""}static isAccountEntity(e){return e?e.hasOwnProperty("homeAccountId")&&e.hasOwnProperty("environment")&&e.hasOwnProperty("realm")&&e.hasOwnProperty("localAccountId")&&e.hasOwnProperty("username")&&e.hasOwnProperty("authorityType"):!1}static accountInfoIsEqual(e,r,n){if(!e||!r)return !1;let i=!0;if(n){let o=e.idTokenClaims||{},a=r.idTokenClaims||{};i=o.iat===a.iat&&o.nonce===a.nonce;}return e.homeAccountId===r.homeAccountId&&e.localAccountId===r.localAccountId&&e.username===r.username&&e.tenantId===r.tenantId&&e.environment===r.environment&&e.nativeAccountId===r.nativeAccountId&&i}};y();p();h();m();y();p();h();m();var Em="cache_quota_exceeded",_d="cache_error_unknown";var lS={[Em]:"Exceeded cache storage capacity.",[_d]:"Unexpected error occurred when using cache storage."},tl=class t extends Error{constructor(e,r){let n=r||(lS[e]?lS[e]:lS[_d]);super(`${e}: ${n}`),Object.setPrototypeOf(this,t.prototype),this.name="CacheError",this.errorCode=e,this.errorMessage=n;}};var Uo=class t{constructor(e,r,n,i){this.clientId=e,this.cryptoImpl=r,this.commonLogger=n.clone(ym,Xc),this.staticAuthorityOptions=i;}getAllAccounts(e){return this.buildTenantProfiles(this.getAccountsFilteredBy(e||{}),e)}getAccountInfoFilteredBy(e){let r=this.getAllAccounts(e);return r.length>1?r.sort(i=>i.idTokenClaims?-1:1)[0]:r.length===1?r[0]:null}getBaseAccountInfo(e){let r=this.getAccountsFilteredBy(e);return r.length>0?r[0].getAccountInfo():null}buildTenantProfiles(e,r){return e.flatMap(n=>this.getTenantProfilesFromAccountEntity(n,r==null?void 0:r.tenantId,r))}getTenantedAccountInfoByFilter(e,r,n,i){let o=null,a;if(i&&!this.tenantProfileMatchesFilter(n,i))return null;let s=this.getIdToken(e,r,n.tenantId);return s&&(a=Gi(s.secret,this.cryptoImpl.base64Decode),!this.idTokenClaimsMatchTenantProfileFilter(a,i))?null:(o=gm(e,n,a,s==null?void 0:s.secret),o)}getTenantProfilesFromAccountEntity(e,r,n){let i=e.getAccountInfo(),o=i.tenantProfiles||new Map,a=this.getTokenKeys();if(r){let u=o.get(r);if(u)o=new Map([[r,u]]);else return []}let s=[];return o.forEach(u=>{let d=this.getTenantedAccountInfoByFilter(i,a,u,n);d&&s.push(d);}),s}tenantProfileMatchesFilter(e,r){return !(r.localAccountId&&!this.matchLocalAccountIdFromTenantProfile(e,r.localAccountId)||r.name&&e.name!==r.name||r.isHomeTenant!==void 0&&e.isHomeTenant!==r.isHomeTenant)}idTokenClaimsMatchTenantProfileFilter(e,r){return !(r&&(r.localAccountId&&!this.matchLocalAccountIdFromTokenClaims(e,r.localAccountId)||r.loginHint&&!this.matchLoginHintFromTokenClaims(e,r.loginHint)||r.username&&!this.matchUsername(e.preferred_username,r.username)||r.name&&!this.matchName(e,r.name)||r.sid&&!this.matchSid(e,r.sid)))}saveCacheRecord(e,r,n){return L(this,null,function*(){var i,o,a,s;if(!e)throw se(Za);try{e.account&&this.setAccount(e.account),e.idToken&&(r==null?void 0:r.idToken)!==!1&&this.setIdTokenCredential(e.idToken),e.accessToken&&(r==null?void 0:r.accessToken)!==!1&&(yield this.saveAccessToken(e.accessToken)),e.refreshToken&&(r==null?void 0:r.refreshToken)!==!1&&this.setRefreshTokenCredential(e.refreshToken),e.appMetadata&&this.setAppMetadata(e.appMetadata);}catch(u){throw (i=this.commonLogger)==null||i.error("CacheManager.saveCacheRecord: failed"),u instanceof Error?((o=this.commonLogger)==null||o.errorPii(`CacheManager.saveCacheRecord: ${u.message}`,n),u.name==="QuotaExceededError"||u.name==="NS_ERROR_DOM_QUOTA_REACHED"||u.message.includes("exceeded the quota")?((a=this.commonLogger)==null||a.error("CacheManager.saveCacheRecord: exceeded storage quota",n),new tl(Em)):new tl(u.name,u.message)):((s=this.commonLogger)==null||s.errorPii(`CacheManager.saveCacheRecord: ${u}`,n),new tl(_d))}})}saveAccessToken(e){return L(this,null,function*(){let r={clientId:e.clientId,credentialType:e.credentialType,environment:e.environment,homeAccountId:e.homeAccountId,realm:e.realm,tokenType:e.tokenType,requestedClaimsHash:e.requestedClaimsHash},n=this.getTokenKeys(),i=rr.fromString(e.target),o=[];n.accessToken.forEach(a=>{if(!this.accessTokenKeyMatchesFilter(a,r,!1))return;let s=this.getAccessTokenCredential(a);s&&this.credentialMatchesFilter(s,r)&&rr.fromString(s.target).intersectingScopeSets(i)&&o.push(this.removeAccessToken(a));}),yield Promise.all(o),this.setAccessTokenCredential(e);})}getAccountsFilteredBy(e){let r=this.getAccountKeys(),n=[];return r.forEach(i=>{var u;if(!this.isAccountKey(i,e.homeAccountId))return;let o=this.getAccount(i,this.commonLogger);if(!o||e.homeAccountId&&!this.matchHomeAccountId(o,e.homeAccountId)||e.username&&!this.matchUsername(o.username,e.username)||e.environment&&!this.matchEnvironment(o,e.environment)||e.realm&&!this.matchRealm(o,e.realm)||e.nativeAccountId&&!this.matchNativeAccountId(o,e.nativeAccountId)||e.authorityType&&!this.matchAuthorityType(o,e.authorityType))return;let a={localAccountId:e==null?void 0:e.localAccountId,name:e==null?void 0:e.name},s=(u=o.tenantProfiles)==null?void 0:u.filter(d=>this.tenantProfileMatchesFilter(d,a));s&&s.length===0||n.push(o);}),n}isAccountKey(e,r,n){return !(e.split(Ht.CACHE_KEY_SEPARATOR).length<3||r&&!e.toLowerCase().includes(r.toLowerCase())||n&&!e.toLowerCase().includes(n.toLowerCase()))}isCredentialKey(e){if(e.split(Ht.CACHE_KEY_SEPARATOR).length<6)return !1;let r=e.toLowerCase();if(r.indexOf(vt.ID_TOKEN.toLowerCase())===-1&&r.indexOf(vt.ACCESS_TOKEN.toLowerCase())===-1&&r.indexOf(vt.ACCESS_TOKEN_WITH_AUTH_SCHEME.toLowerCase())===-1&&r.indexOf(vt.REFRESH_TOKEN.toLowerCase())===-1)return !1;if(r.indexOf(vt.REFRESH_TOKEN.toLowerCase())>-1){let n=`${vt.REFRESH_TOKEN}${Ht.CACHE_KEY_SEPARATOR}${this.clientId}${Ht.CACHE_KEY_SEPARATOR}`,i=`${vt.REFRESH_TOKEN}${Ht.CACHE_KEY_SEPARATOR}${_o}${Ht.CACHE_KEY_SEPARATOR}`;if(r.indexOf(n.toLowerCase())===-1&&r.indexOf(i.toLowerCase())===-1)return !1}else if(r.indexOf(this.clientId.toLowerCase())===-1)return !1;return !0}credentialMatchesFilter(e,r){return !(r.clientId&&!this.matchClientId(e,r.clientId)||r.userAssertionHash&&!this.matchUserAssertionHash(e,r.userAssertionHash)||typeof r.homeAccountId=="string"&&!this.matchHomeAccountId(e,r.homeAccountId)||r.environment&&!this.matchEnvironment(e,r.environment)||r.realm&&!this.matchRealm(e,r.realm)||r.credentialType&&!this.matchCredentialType(e,r.credentialType)||r.familyId&&!this.matchFamilyId(e,r.familyId)||r.target&&!this.matchTarget(e,r.target)||(r.requestedClaimsHash||e.requestedClaimsHash)&&e.requestedClaimsHash!==r.requestedClaimsHash||e.credentialType===vt.ACCESS_TOKEN_WITH_AUTH_SCHEME&&(r.tokenType&&!this.matchTokenType(e,r.tokenType)||r.tokenType===lt.SSH&&r.keyId&&!this.matchKeyId(e,r.keyId)))}getAppMetadataFilteredBy(e){let r=this.getKeys(),n={};return r.forEach(i=>{if(!this.isAppMetadata(i))return;let o=this.getAppMetadata(i);o&&(e.environment&&!this.matchEnvironment(o,e.environment)||e.clientId&&!this.matchClientId(o,e.clientId)||(n[i]=o));}),n}getAuthorityMetadataByAlias(e){let r=this.getAuthorityMetadataKeys(),n=null;return r.forEach(i=>{if(!this.isAuthorityMetadata(i)||i.indexOf(this.clientId)===-1)return;let o=this.getAuthorityMetadata(i);o&&o.aliases.indexOf(e)!==-1&&(n=o);}),n}removeAllAccounts(){return L(this,null,function*(){let e=this.getAccountKeys(),r=[];e.forEach(n=>{r.push(this.removeAccount(n));}),yield Promise.all(r);})}removeAccount(e){return L(this,null,function*(){let r=this.getAccount(e,this.commonLogger);r&&(yield this.removeAccountContext(r),this.removeItem(e));})}removeAccountContext(e){return L(this,null,function*(){let r=this.getTokenKeys(),n=e.generateAccountId(),i=[];r.idToken.forEach(o=>{o.indexOf(n)===0&&this.removeIdToken(o);}),r.accessToken.forEach(o=>{o.indexOf(n)===0&&i.push(this.removeAccessToken(o));}),r.refreshToken.forEach(o=>{o.indexOf(n)===0&&this.removeRefreshToken(o);}),yield Promise.all(i);})}updateOutdatedCachedAccount(e,r,n){var i;if(r&&r.isSingleTenant()){(i=this.commonLogger)==null||i.verbose("updateOutdatedCachedAccount: Found a single-tenant (outdated) account entity in the cache, migrating to multi-tenant account entity");let o=this.getAccountKeys().filter(f=>f.startsWith(r.homeAccountId)),a=[];o.forEach(f=>{let g=this.getCachedAccountEntity(f);g&&a.push(g);});let s=a.find(f=>bd(f.realm,f.homeAccountId))||a[0];s.tenantProfiles=a.map(f=>({tenantId:f.realm,localAccountId:f.localAccountId,name:f.name,isHomeTenant:bd(f.realm,f.homeAccountId)}));let u=t.toObject(new Cr,q({},s)),d=u.generateAccountKey();return o.forEach(f=>{f!==d&&this.removeOutdatedAccount(e);}),this.setAccount(u),n==null||n.verbose("Updated an outdated account entity in the cache"),u}return r}removeAccessToken(e){return L(this,null,function*(){let r=this.getAccessTokenCredential(e);if(r){if(r.credentialType.toLowerCase()===vt.ACCESS_TOKEN_WITH_AUTH_SCHEME.toLowerCase()&&r.tokenType===lt.POP){let i=r.keyId;if(i)try{yield this.cryptoImpl.removeTokenBindingKey(i);}catch(o){throw se(es)}}return this.removeItem(e)}})}removeAppMetadata(){return this.getKeys().forEach(r=>{this.isAppMetadata(r)&&this.removeItem(r);}),!0}readAccountFromCache(e){let r=Cr.generateAccountCacheKey(e);return this.getAccount(r,this.commonLogger)}getIdToken(e,r,n,i,o){this.commonLogger.trace("CacheManager - getIdToken called");let a={homeAccountId:e.homeAccountId,environment:e.environment,credentialType:vt.ID_TOKEN,clientId:this.clientId,realm:n},s=this.getIdTokensByFilter(a,r),u=s.size;if(u<1)return this.commonLogger.info("CacheManager:getIdToken - No token found"),null;if(u>1){let d=s;if(!n){let f=new Map;s.forEach((C,S)=>{C.realm===e.tenantId&&f.set(S,C);});let g=f.size;if(g<1)return this.commonLogger.info("CacheManager:getIdToken - Multiple ID tokens found for account but none match account entity tenant id, returning first result"),s.values().next().value;if(g===1)return this.commonLogger.info("CacheManager:getIdToken - Multiple ID tokens found for account, defaulting to home tenant profile"),f.values().next().value;d=f;}return this.commonLogger.info("CacheManager:getIdToken - Multiple matching ID tokens found, clearing them"),d.forEach((f,g)=>{this.removeIdToken(g);}),i&&o&&i.addFields({multiMatchedID:s.size},o),null}return this.commonLogger.info("CacheManager:getIdToken - Returning ID token"),s.values().next().value}getIdTokensByFilter(e,r){let n=r&&r.idToken||this.getTokenKeys().idToken,i=new Map;return n.forEach(o=>{if(!this.idTokenKeyMatchesFilter(o,q({clientId:this.clientId},e)))return;let a=this.getIdTokenCredential(o);a&&this.credentialMatchesFilter(a,e)&&i.set(o,a);}),i}idTokenKeyMatchesFilter(e,r){let n=e.toLowerCase();return !(r.clientId&&n.indexOf(r.clientId.toLowerCase())===-1||r.homeAccountId&&n.indexOf(r.homeAccountId.toLowerCase())===-1)}removeIdToken(e){this.removeItem(e);}removeRefreshToken(e){this.removeItem(e);}getAccessToken(e,r,n,i,o,a){this.commonLogger.trace("CacheManager - getAccessToken called");let s=rr.createSearchScopes(r.scopes),u=r.authenticationScheme||lt.BEARER,d=u&&u.toLowerCase()!==lt.BEARER.toLowerCase()?vt.ACCESS_TOKEN_WITH_AUTH_SCHEME:vt.ACCESS_TOKEN,f={homeAccountId:e.homeAccountId,environment:e.environment,credentialType:d,clientId:this.clientId,realm:i||e.tenantId,target:s,tokenType:u,keyId:r.sshKid,requestedClaimsHash:r.requestedClaimsHash},g=n&&n.accessToken||this.getTokenKeys().accessToken,C=[];g.forEach(E=>{if(this.accessTokenKeyMatchesFilter(E,f,!0)){let T=this.getAccessTokenCredential(E);T&&this.credentialMatchesFilter(T,f)&&C.push(T);}});let S=C.length;return S<1?(this.commonLogger.info("CacheManager:getAccessToken - No token found"),null):S>1?(this.commonLogger.info("CacheManager:getAccessToken - Multiple access tokens found, clearing them"),C.forEach(E=>{this.removeAccessToken(wd(E));}),o&&a&&o.addFields({multiMatchedAT:C.length},a),null):(this.commonLogger.info("CacheManager:getAccessToken - Returning access token"),C[0])}accessTokenKeyMatchesFilter(e,r,n){let i=e.toLowerCase();if(r.clientId&&i.indexOf(r.clientId.toLowerCase())===-1||r.homeAccountId&&i.indexOf(r.homeAccountId.toLowerCase())===-1||r.realm&&i.indexOf(r.realm.toLowerCase())===-1||r.requestedClaimsHash&&i.indexOf(r.requestedClaimsHash.toLowerCase())===-1)return !1;if(r.target){let o=r.target.asArray();for(let a=0;a<o.length;a++){if(n&&!i.includes(o[a].toLowerCase()))return !1;if(!n&&i.includes(o[a].toLowerCase()))return !0}}return !0}getAccessTokensByFilter(e){let r=this.getTokenKeys(),n=[];return r.accessToken.forEach(i=>{if(!this.accessTokenKeyMatchesFilter(i,e,!0))return;let o=this.getAccessTokenCredential(i);o&&this.credentialMatchesFilter(o,e)&&n.push(o);}),n}getRefreshToken(e,r,n,i,o){this.commonLogger.trace("CacheManager - getRefreshToken called");let a=r?_o:void 0,s={homeAccountId:e.homeAccountId,environment:e.environment,credentialType:vt.REFRESH_TOKEN,clientId:this.clientId,familyId:a},u=n&&n.refreshToken||this.getTokenKeys().refreshToken,d=[];u.forEach(g=>{if(this.refreshTokenKeyMatchesFilter(g,s)){let C=this.getRefreshTokenCredential(g);C&&this.credentialMatchesFilter(C,s)&&d.push(C);}});let f=d.length;return f<1?(this.commonLogger.info("CacheManager:getRefreshToken - No refresh token found."),null):(f>1&&i&&o&&i.addFields({multiMatchedRT:f},o),this.commonLogger.info("CacheManager:getRefreshToken - returning refresh token"),d[0])}refreshTokenKeyMatchesFilter(e,r){let n=e.toLowerCase();return !(r.familyId&&n.indexOf(r.familyId.toLowerCase())===-1||!r.familyId&&r.clientId&&n.indexOf(r.clientId.toLowerCase())===-1||r.homeAccountId&&n.indexOf(r.homeAccountId.toLowerCase())===-1)}readAppMetadataFromCache(e){let r={environment:e,clientId:this.clientId},n=this.getAppMetadataFilteredBy(r),i=Object.keys(n).map(a=>n[a]),o=i.length;if(o<1)return null;if(o>1)throw se(Wa);return i[0]}isAppMetadataFOCI(e){let r=this.readAppMetadataFromCache(e);return !!(r&&r.familyId===_o)}matchHomeAccountId(e,r){return typeof e.homeAccountId=="string"&&r===e.homeAccountId}matchLocalAccountIdFromTokenClaims(e,r){let n=e.oid||e.sub;return r===n}matchLocalAccountIdFromTenantProfile(e,r){return e.localAccountId===r}matchName(e,r){var n;return r.toLowerCase()===((n=e.name)==null?void 0:n.toLowerCase())}matchUsername(e,r){return !!(e&&typeof e=="string"&&(r==null?void 0:r.toLowerCase())===e.toLowerCase())}matchUserAssertionHash(e,r){return !!(e.userAssertionHash&&r===e.userAssertionHash)}matchEnvironment(e,r){if(this.staticAuthorityOptions){let i=Rx(this.staticAuthorityOptions,this.commonLogger);if(i.includes(r)&&i.includes(e.environment))return !0}let n=this.getAuthorityMetadataByAlias(r);return !!(n&&n.aliases.indexOf(e.environment)>-1)}matchCredentialType(e,r){return e.credentialType&&r.toLowerCase()===e.credentialType.toLowerCase()}matchClientId(e,r){return !!(e.clientId&&r===e.clientId)}matchFamilyId(e,r){return !!(e.familyId&&r===e.familyId)}matchRealm(e,r){var n;return ((n=e.realm)==null?void 0:n.toLowerCase())===r.toLowerCase()}matchNativeAccountId(e,r){return !!(e.nativeAccountId&&r===e.nativeAccountId)}matchLoginHintFromTokenClaims(e,r){return e.login_hint===r||e.preferred_username===r||e.upn===r}matchSid(e,r){return e.sid===r}matchAuthorityType(e,r){return !!(e.authorityType&&r.toLowerCase()===e.authorityType.toLowerCase())}matchTarget(e,r){return e.credentialType!==vt.ACCESS_TOKEN&&e.credentialType!==vt.ACCESS_TOKEN_WITH_AUTH_SCHEME||!e.target?!1:rr.fromString(e.target).containsScopeSet(r)}matchTokenType(e,r){return !!(e.tokenType&&e.tokenType===r)}matchKeyId(e,r){return !!(e.keyId&&e.keyId===r)}isAppMetadata(e){return e.indexOf(Ju)!==-1}isAuthorityMetadata(e){return e.indexOf(Kc.CACHE_KEY)!==-1}generateAuthorityMetadataCacheKey(e){return `${Kc.CACHE_KEY}-${this.clientId}-${e}`}static toObject(e,r){for(let n in r)e[n]=r[n];return e}},Id=class extends Uo{setAccount(){throw se(Xe)}getAccount(){throw se(Xe)}getCachedAccountEntity(){throw se(Xe)}setIdTokenCredential(){throw se(Xe)}getIdTokenCredential(){throw se(Xe)}setAccessTokenCredential(){throw se(Xe)}getAccessTokenCredential(){throw se(Xe)}setRefreshTokenCredential(){throw se(Xe)}getRefreshTokenCredential(){throw se(Xe)}setAppMetadata(){throw se(Xe)}getAppMetadata(){throw se(Xe)}setServerTelemetry(){throw se(Xe)}getServerTelemetry(){throw se(Xe)}setAuthorityMetadata(){throw se(Xe)}getAuthorityMetadata(){throw se(Xe)}getAuthorityMetadataKeys(){throw se(Xe)}setThrottlingCache(){throw se(Xe)}getThrottlingCache(){throw se(Xe)}removeItem(){throw se(Xe)}getKeys(){throw se(Xe)}getAccountKeys(){throw se(Xe)}getTokenKeys(){throw se(Xe)}clear(){return L(this,null,function*(){throw se(Xe)})}updateCredentialCacheKey(){throw se(Xe)}removeOutdatedAccount(){throw se(Xe)}};var x5={tokenRenewalOffsetSeconds:Qu,preventCorsPreflight:!1},k5={loggerCallback:()=>{},piiLoggingEnabled:!1,logLevel:Jt.Info,correlationId:ee.EMPTY_STRING},P5={claimsBasedCachingEnabled:!1},M5={sendGetRequestAsync(){return L(this,null,function*(){throw se(Xe)})},sendPostRequestAsync(){return L(this,null,function*(){throw se(Xe)})}},U5={sku:ee.SKU,version:Xc,cpu:ee.EMPTY_STRING,os:ee.EMPTY_STRING},B5={clientSecret:ee.EMPTY_STRING,clientAssertion:void 0},D5={azureCloudInstance:ps.None,tenant:`${ee.DEFAULT_COMMON_TENANT}`},L5={application:{appName:"",appVersion:""}};function kx({authOptions:t,systemOptions:e,loggerOptions:r,cacheOptions:n,storageInterface:i,networkInterface:o,cryptoInterface:a,clientCredentials:s,libraryInfo:u,telemetry:d,serverTelemetryManager:f,persistencePlugin:g,serializableCache:C}){let S=q(q({},k5),r);return {authOptions:F5(t),systemOptions:q(q({},x5),e),loggerOptions:S,cacheOptions:q(q({},P5),n),storageInterface:i||new Id(t.clientId,Qc,new Kn(S)),networkInterface:o||M5,cryptoInterface:a||Qc,clientCredentials:s||B5,libraryInfo:q(q({},U5),u),telemetry:q(q({},L5),d),serverTelemetryManager:f||null,persistencePlugin:g||null,serializableCache:C||null}}function F5(t){return q({clientCapabilities:[],azureCloudOptions:D5,skipAuthorityMetadataCache:!1},t)}function Nd(t){return t.authOptions.authority.options.protocolMode===On.OIDC}y();p();h();m();y();p();h();m();y();p();h();m();var Zi=class t extends Et{constructor(e,r,n,i,o){super(e,r,n),this.name="ServerError",this.errorNo=i,this.status=o,Object.setPrototypeOf(this,t.prototype);}};var Od=class t{static generateThrottlingStorageKey(e){return `${ji.THROTTLING_PREFIX}.${JSON.stringify(e)}`}static preProcess(e,r){var o;let n=t.generateThrottlingStorageKey(r),i=e.getThrottlingCache(n);if(i){if(i.throttleTime<Date.now()){e.removeItem(n);return}throw new Zi(((o=i.errorCodes)==null?void 0:o.join(" "))||ee.EMPTY_STRING,i.errorMessage,i.subError)}}static postProcess(e,r,n){if(t.checkResponseStatus(n)||t.checkResponseForRetryAfter(n)){let i={throttleTime:t.calculateThrottleTime(parseInt(n.headers[er.RETRY_AFTER])),error:n.body.error,errorCodes:n.body.error_codes,errorMessage:n.body.error_description,subError:n.body.suberror};e.setThrottlingCache(t.generateThrottlingStorageKey(r),i);}}static checkResponseStatus(e){return e.status===429||e.status>=500&&e.status<600}static checkResponseForRetryAfter(e){return e.headers?e.headers.hasOwnProperty(er.RETRY_AFTER)&&(e.status<200||e.status>=300):!1}static calculateThrottleTime(e){let r=e<=0?0:e,n=Date.now()/1e3;return Math.floor(Math.min(n+(r||ji.DEFAULT_THROTTLE_TIME_SECONDS),n+ji.DEFAULT_MAX_THROTTLE_TIME_SECONDS)*1e3)}static removeThrottle(e,r,n,i){let o={clientId:r,authority:n.authority,scopes:n.scopes,homeAccountIdentifier:i,claims:n.claims,authenticationScheme:n.authenticationScheme,resourceRequestMethod:n.resourceRequestMethod,resourceRequestUri:n.resourceRequestUri,shrClaims:n.shrClaims,sshKid:n.sshKid},a=this.generateThrottlingStorageKey(o);e.removeItem(a);}};var Cm=class{constructor(e,r){this.networkClient=e,this.cacheManager=r;}sendPostRequest(e,r,n){return L(this,null,function*(){Od.preProcess(this.cacheManager,e);let i;try{i=yield this.networkClient.sendPostRequestAsync(r,n);}catch(o){throw o instanceof Et?o:se(qa)}return Od.postProcess(this.cacheManager,e,i),i})}};y();p();h();m();var Br={HOME_ACCOUNT_ID:"home_account_id",UPN:"UPN"};y();p();h();m();y();p();h();m();var Ei=class{static validateRedirectUri(e){if(!e)throw St(ns)}static validatePrompt(e){let r=[];for(let n in Ro)r.push(Ro[n]);if(r.indexOf(e)<0)throw St(ss)}static validateClaims(e){try{JSON.parse(e);}catch(r){throw St(Wi)}}static validateCodeChallengeParams(e,r){if(!e||!r)throw St(Ki);this.validateCodeChallengeMethod(r);}static validateCodeChallengeMethod(e){if([Zh.PLAIN,Zh.S256].indexOf(e)<0)throw St(us)}};var nr=class{constructor(){this.parameters=new Map;}addResponseTypeCode(){this.parameters.set(dm,encodeURIComponent(ee.CODE_RESPONSE_TYPE));}addResponseTypeForTokenAndIdToken(){this.parameters.set(dm,encodeURIComponent(`${ee.TOKEN_RESPONSE_TYPE} ${ee.ID_TOKEN_RESPONSE_TYPE}`));}addResponseMode(e){this.parameters.set(IC,encodeURIComponent(e||Yu.QUERY));}addNativeBroker(){this.parameters.set(iS,encodeURIComponent("1"));}addScopes(e,r=!0,n=yi){r&&!n.includes("openid")&&!e.includes("openid")&&n.push("openid");let i=r?[...e||[],...n]:e||[],o=new rr(i);this.parameters.set(xC,encodeURIComponent(o.printScopes()));}addClientId(e){this.parameters.set(Mo,encodeURIComponent(e));}addRedirectUri(e){Ei.validateRedirectUri(e),this.parameters.set(_C,encodeURIComponent(e));}addPostLogoutRedirectUri(e){Ei.validateRedirectUri(e),this.parameters.set(JC,encodeURIComponent(e));}addIdTokenHint(e){this.parameters.set(ZC,encodeURIComponent(e));}addDomainHint(e){this.parameters.set(cS,encodeURIComponent(e));}addLoginHint(e){this.parameters.set(sS,encodeURIComponent(e));}addCcsUpn(e){this.parameters.set(er.CCS_HEADER,encodeURIComponent(`UPN:${e}`));}addCcsOid(e){this.parameters.set(er.CCS_HEADER,encodeURIComponent(`Oid:${e.uid}@${e.utid}`));}addSid(e){this.parameters.set(aS,encodeURIComponent(e));}addClaims(e,r){let n=this.addClientCapabilitiesToClaims(e,r);Ei.validateClaims(n),this.parameters.set(OC,encodeURIComponent(n));}addCorrelationId(e){this.parameters.set(zC,encodeURIComponent(e));}addLibraryInfo(e){this.parameters.set(qC,e.sku),this.parameters.set(jC,e.version),e.os&&this.parameters.set(HC,e.os),e.cpu&&this.parameters.set($C,e.cpu);}addApplicationTelemetry(e){e!=null&&e.appName&&this.parameters.set(KC,e.appName),e!=null&&e.appVersion&&this.parameters.set(YC,e.appVersion);}addPrompt(e){Ei.validatePrompt(e),this.parameters.set(`${UC}`,encodeURIComponent(e));}addState(e){e&&this.parameters.set(PC,encodeURIComponent(e));}addNonce(e){this.parameters.set(MC,encodeURIComponent(e));}addCodeChallengeParams(e,r){if(Ei.validateCodeChallengeParams(e,r),e&&r)this.parameters.set(DC,encodeURIComponent(e)),this.parameters.set(LC,encodeURIComponent(r));else throw St(Ki)}addAuthorizationCode(e){this.parameters.set(BC,encodeURIComponent(e));}addDeviceCode(e){this.parameters.set(QC,encodeURIComponent(e));}addRefreshToken(e){this.parameters.set(kC,encodeURIComponent(e));}addCodeVerifier(e){this.parameters.set(FC,encodeURIComponent(e));}addClientSecret(e){this.parameters.set(XC,encodeURIComponent(e));}addClientAssertion(e){e&&this.parameters.set(eS,encodeURIComponent(e));}addClientAssertionType(e){e&&this.parameters.set(tS,encodeURIComponent(e));}addOboAssertion(e){this.parameters.set(rS,encodeURIComponent(e));}addRequestTokenUse(e){this.parameters.set(nS,encodeURIComponent(e));}addGrantType(e){this.parameters.set(NC,encodeURIComponent(e));}addClientInfo(){this.parameters.set(Ex,"1");}addExtraQueryParameters(e){Object.entries(e).forEach(([r,n])=>{!this.parameters.has(r)&&n&&this.parameters.set(r,n);});}addClientCapabilitiesToClaims(e,r){let n;if(!e)n={};else try{n=JSON.parse(e);}catch(i){throw St(Wi)}return r&&r.length>0&&(n.hasOwnProperty(Gc.ACCESS_TOKEN)||(n[Gc.ACCESS_TOKEN]={}),n[Gc.ACCESS_TOKEN][Gc.XMS_CC]={values:r}),JSON.stringify(n)}addUsername(e){this.parameters.set(Xh.username,encodeURIComponent(e));}addPassword(e){this.parameters.set(Xh.password,encodeURIComponent(e));}addPopToken(e){e&&(this.parameters.set(fm,lt.POP),this.parameters.set(pm,encodeURIComponent(e)));}addSshJwk(e){e&&(this.parameters.set(fm,lt.SSH),this.parameters.set(pm,encodeURIComponent(e)));}addServerTelemetry(e){this.parameters.set(VC,e.generateCurrentRequestHeaderValue()),this.parameters.set(GC,e.generateLastRequestHeaderValue());}addThrottling(){this.parameters.set(WC,ji.X_MS_LIB_CAPABILITY_VALUE);}addLogoutHint(e){this.parameters.set(oS,encodeURIComponent(e));}createQueryString(){let e=new Array;return this.parameters.forEach((r,n)=>{e.push(`${n}=${r}`);}),e.join("&")}};var Dr=class{constructor(e,r){this.config=kx(e),this.logger=new Kn(this.config.loggerOptions,ym,Xc),this.cryptoUtils=this.config.cryptoInterface,this.cacheManager=this.config.storageInterface,this.networkClient=this.config.networkInterface,this.networkManager=new Cm(this.networkClient,this.cacheManager),this.serverTelemetryManager=this.config.serverTelemetryManager,this.authority=this.config.authOptions.authority,this.performanceClient=r;}createTokenRequestHeaders(e){let r={};if(r[er.CONTENT_TYPE]=ee.URL_FORM_CONTENT_TYPE,!this.config.systemOptions.preventCorsPreflight&&e)switch(e.type){case Br.HOME_ACCOUNT_ID:try{let n=Ji(e.credential);r[er.CCS_HEADER]=`Oid:${n.uid}@${n.utid}`;}catch(n){this.logger.verbose("Could not parse home account ID for CCS Header: "+n);}break;case Br.UPN:r[er.CCS_HEADER]=`UPN: ${e.credential}`;break}return r}executePostToTokenEndpoint(e,r,n,i,o,a){return L(this,null,function*(){var u,d,f,g;a&&((u=this.performanceClient)==null||u.addQueueMeasurement(a,o));let s=yield this.networkManager.sendPostRequest(i,e,{body:r,headers:n});return (g=this.performanceClient)==null||g.addFields({refreshTokenSize:((d=s.body.refresh_token)==null?void 0:d.length)||0,httpVerToken:((f=s.headers)==null?void 0:f[er.X_MS_HTTP_VERSION])||""},o),this.config.serverTelemetryManager&&s.status<500&&s.status!==429&&this.config.serverTelemetryManager.clearTelemetryCache(),s})}updateAuthority(e,r){return L(this,null,function*(){var o;(o=this.performanceClient)==null||o.addQueueMeasurement(Z.UpdateTokenEndpointAuthority,r);let n=`https://${e}/${this.authority.tenant}/`,i=yield RC(n,this.networkClient,this.cacheManager,this.authority.options,this.logger,r,this.performanceClient);this.authority=i;})}createTokenQueryParameters(e){let r=new nr;return e.tokenQueryParameters&&r.addExtraQueryParameters(e.tokenQueryParameters),r.createQueryString()}};y();p();h();m();y();p();h();m();y();p();h();m();var hs="no_tokens_found",Sm="native_account_unavailable",Tm="refresh_token_expired",Px="interaction_required",Mx="consent_required",Ux="login_required",ms="bad_token";var Bx=[Px,Mx,Ux,ms],z5=["message_only","additional_action","basic_action","user_password_expired","consent_required","bad_token"],wm={[hs]:"No refresh token found in the cache. Please sign-in.",[Sm]:"The requested account is not available in the native broker. It may have been deleted or logged out. Please sign-in again using an interactive API.",[Tm]:"Refresh token has expired.",[ms]:"Identity provider returned bad_token due to an expired or invalid refresh token. Please invoke an interactive API to resolve."},Qi=class t extends Et{constructor(e,r,n,i,o,a,s,u){super(e,r,n),Object.setPrototypeOf(this,t.prototype),this.timestamp=i||ee.EMPTY_STRING,this.traceId=o||ee.EMPTY_STRING,this.correlationId=a||ee.EMPTY_STRING,this.claims=s||ee.EMPTY_STRING,this.name="InteractionRequiredAuthError",this.errorNo=u;}};function uS(t,e,r){let n=!!t&&Bx.indexOf(t)>-1,i=!!r&&z5.indexOf(r)>-1,o=!!e&&Bx.some(a=>e.indexOf(a)>-1);return n||o||i}function dS(t){return new Qi(t,wm[t])}y();p();h();m();var Am=class t{static setRequestState(e,r,n){let i=t.generateLibraryState(e,n);return r?`${i}${ee.RESOURCE_DELIM}${r}`:i}static generateLibraryState(e,r){if(!e)throw se(ko);let n={id:e.createNewGuid()};r&&(n.meta=r);let i=JSON.stringify(n);return e.base64Encode(i)}static parseRequestState(e,r){if(!e)throw se(ko);if(!r)throw se(Gn);try{let n=r.split(ee.RESOURCE_DELIM),i=n[0],o=n.length>1?n.slice(1).join(ee.RESOURCE_DELIM):ee.EMPTY_STRING,a=e.base64Decode(i),s=JSON.parse(a);return {userRequestState:o||ee.EMPTY_STRING,libraryState:s}}catch(n){throw se(Gn)}}};y();p();h();m();var q5={SW:"sw",UHW:"uhw"},Xi=class{constructor(e,r){this.cryptoUtils=e,this.performanceClient=r;}generateCnf(e,r){return L(this,null,function*(){var o;(o=this.performanceClient)==null||o.addQueueMeasurement(Z.PopTokenGenerateCnf,e.correlationId);let n=yield ut(this.generateKid.bind(this),Z.PopTokenGenerateCnf,r,this.performanceClient,e.correlationId)(e),i=this.cryptoUtils.base64UrlEncode(JSON.stringify(n));return {kid:n.kid,reqCnfString:i}})}generateKid(e){return L(this,null,function*(){var n;return (n=this.performanceClient)==null||n.addQueueMeasurement(Z.PopTokenGenerateKid,e.correlationId),{kid:yield this.cryptoUtils.getPublicKeyThumbprint(e),xms_ksl:q5.SW}})}signPopToken(e,r,n){return L(this,null,function*(){return this.signPayload(e,r,n)})}signPayload(e,r,n,i){return L(this,null,function*(){let{resourceRequestMethod:o,resourceRequestUri:a,shrClaims:s,shrNonce:u,shrOptions:d}=n,f=a?new pt(a):void 0,g=f==null?void 0:f.getUrlComponents();return this.cryptoUtils.signJwt(q({at:e,ts:nn(),m:o==null?void 0:o.toUpperCase(),u:g==null?void 0:g.HostNameAndPort,nonce:u||this.cryptoUtils.createNewGuid(),p:g==null?void 0:g.AbsolutePath,q:g!=null&&g.QueryString?[[],g.QueryString]:void 0,client_claims:s||void 0},i),r,d,n.correlationId)})}};y();p();h();m();var Ci=class{constructor(e,r){this.cache=e,this.hasChanged=r;}get cacheHasChanged(){return this.hasChanged}get tokenCache(){return this.cache}};function j5(t){var n,i;let e="code=",r=(n=t.error_uri)==null?void 0:n.lastIndexOf(e);return r&&r>=0?(i=t.error_uri)==null?void 0:i.substring(r+e.length):void 0}var ir=class t{constructor(e,r,n,i,o,a,s){this.clientId=e,this.cacheStorage=r,this.cryptoObj=n,this.logger=i,this.serializableCache=o,this.persistencePlugin=a,this.performanceClient=s;}validateServerAuthorizationCodeResponse(e,r){if(!e.state||!r)throw e.state?se(Oo,"Cached State"):se(Oo,"Server State");let n,i;try{n=decodeURIComponent(e.state);}catch(o){throw se(Gn,e.state)}try{i=decodeURIComponent(r);}catch(o){throw se(Gn,e.state)}if(n!==i)throw se($a);if(e.error||e.error_description||e.suberror){let o=j5(e);throw uS(e.error,e.error_description,e.suberror)?new Qi(e.error||"",e.error_description,e.suberror,e.timestamp||"",e.trace_id||"",e.correlation_id||"",e.claims||"",o):new Zi(e.error||"",e.error_description,e.suberror,o)}}validateTokenResponse(e,r){var n;if(e.error||e.error_description||e.suberror){let i=`Error(s): ${e.error_codes||ee.NOT_AVAILABLE} - Timestamp: ${e.timestamp||ee.NOT_AVAILABLE} - Description: ${e.error_description||ee.NOT_AVAILABLE} - Correlation ID: ${e.correlation_id||ee.NOT_AVAILABLE} - Trace ID: ${e.trace_id||ee.NOT_AVAILABLE}`,o=(n=e.error_codes)!=null&&n.length?e.error_codes[0]:void 0,a=new Zi(e.error,i,e.suberror,o,e.status);if(r&&e.status&&e.status>=It.SERVER_ERROR_RANGE_START&&e.status<=It.SERVER_ERROR_RANGE_END){this.logger.warning(`executeTokenRequest:validateTokenResponse - AAD is currently unavailable and the access token is unable to be refreshed.
${a}`);return}else if(r&&e.status&&e.status>=It.CLIENT_ERROR_RANGE_START&&e.status<=It.CLIENT_ERROR_RANGE_END){this.logger.warning(`executeTokenRequest:validateTokenResponse - AAD is currently available but is unable to refresh the access token.
${a}`);return}throw uS(e.error,e.error_description,e.suberror)?new Qi(e.error,e.error_description,e.suberror,e.timestamp||ee.EMPTY_STRING,e.trace_id||ee.EMPTY_STRING,e.correlation_id||ee.EMPTY_STRING,e.claims||ee.EMPTY_STRING,o):a}}handleServerTokenResponse(e,r,n,i,o,a,s,u,d){return L(this,null,function*(){var E;(E=this.performanceClient)==null||E.addQueueMeasurement(Z.HandleServerTokenResponse,e.correlation_id);let f;if(e.id_token){if(f=Gi(e.id_token||ee.EMPTY_STRING,this.cryptoObj.base64Decode),o&&o.nonce&&f.nonce!==o.nonce)throw se(Va);if(i.maxAge||i.maxAge===0){let T=f.auth_time;if(!T)throw se(Hi);pd(T,i.maxAge);}}this.homeAccountIdentifier=Cr.generateHomeAccountId(e.client_info||ee.EMPTY_STRING,r.authorityType,this.logger,this.cryptoObj,f);let g;o&&o.state&&(g=Am.parseRequestState(this.cryptoObj,o.state)),e.key_id=e.key_id||i.sshKid||void 0;let C=this.generateCacheRecord(e,r,n,i,f,a,o),S;try{if(this.persistencePlugin&&this.serializableCache&&(this.logger.verbose("Persistence enabled, calling beforeCacheAccess"),S=new Ci(this.serializableCache,!0),yield this.persistencePlugin.beforeCacheAccess(S)),s&&!u&&C.account){let T=C.account.generateAccountKey();if(!this.cacheStorage.getAccount(T,this.logger))return this.logger.warning("Account used to refresh tokens not in persistence, refreshed tokens will not be stored in the cache"),yield t.generateAuthenticationResult(this.cryptoObj,r,C,!1,i,f,g,void 0,d)}yield this.cacheStorage.saveCacheRecord(C,i.storeInCache,i.correlationId);}finally{this.persistencePlugin&&this.serializableCache&&S&&(this.logger.verbose("Persistence enabled, calling afterCacheAccess"),yield this.persistencePlugin.afterCacheAccess(S));}return t.generateAuthenticationResult(this.cryptoObj,r,C,!1,i,f,g,e,d)})}generateCacheRecord(e,r,n,i,o,a,s){let u=r.getPreferredCache();if(!u)throw se(Vi);let d=vm(o),f,g;e.id_token&&o&&(f=TC(this.homeAccountIdentifier,u,e.id_token,this.clientId,d||""),g=Dx(this.cacheStorage,r,this.homeAccountIdentifier,this.cryptoObj.base64Decode,o,e.client_info,u,d,s,void 0,this.logger));let C=null;if(e.access_token){let T=e.scope?rr.fromString(e.scope):new rr(i.scopes||[]),_=(typeof e.expires_in=="string"?parseInt(e.expires_in,10):e.expires_in)||0,P=(typeof e.ext_expires_in=="string"?parseInt(e.ext_expires_in,10):e.ext_expires_in)||0,M=(typeof e.refresh_in=="string"?parseInt(e.refresh_in,10):e.refresh_in)||void 0,D=n+_,V=D+P,Y=M&&M>0?n+M:void 0;C=wC(this.homeAccountIdentifier,u,e.access_token,this.clientId,d||r.tenant||"",T.printScopes(),D,V,this.cryptoObj.base64Decode,Y,e.token_type,a,e.key_id,i.claims,i.requestedClaimsHash);}let S=null;if(e.refresh_token){let T;if(e.refresh_token_expires_in){let _=typeof e.refresh_token_expires_in=="string"?parseInt(e.refresh_token_expires_in,10):e.refresh_token_expires_in;T=n+_;}S=AC(this.homeAccountIdentifier,u,e.refresh_token,this.clientId,e.foci,a,T);}let E=null;return e.foci&&(E={clientId:this.clientId,environment:u,familyId:e.foci}),{account:g,idToken:f,accessToken:C,refreshToken:S,appMetadata:E}}static generateAuthenticationResult(e,r,n,i,o,a,s,u,d){return L(this,null,function*(){var D,V,Y,_e,ue;let f=ee.EMPTY_STRING,g=[],C=null,S,E,T=ee.EMPTY_STRING;if(n.accessToken){if(n.accessToken.tokenType===lt.POP&&!o.popKid){let le=new Xi(e),{secret:fe,keyId:ve}=n.accessToken;if(!ve)throw se(rs);f=yield le.signPopToken(fe,ve,o);}else f=n.accessToken.secret;g=rr.fromString(n.accessToken.target).asArray(),C=new Date(Number(n.accessToken.expiresOn)*1e3),S=new Date(Number(n.accessToken.extendedExpiresOn)*1e3),n.accessToken.refreshOn&&(E=new Date(Number(n.accessToken.refreshOn)*1e3));}n.appMetadata&&(T=n.appMetadata.familyId===_o?_o:"");let _=(a==null?void 0:a.oid)||(a==null?void 0:a.sub)||"",P=(a==null?void 0:a.tid)||"";u!=null&&u.spa_accountid&&n.account&&(n.account.nativeAccountId=u==null?void 0:u.spa_accountid);let M=n.account?gm(n.account.getAccountInfo(),void 0,a,(D=n.idToken)==null?void 0:D.secret):null;return {authority:r.canonicalAuthority,uniqueId:_,tenantId:P,scopes:g,account:M,idToken:((V=n==null?void 0:n.idToken)==null?void 0:V.secret)||"",idTokenClaims:a||{},accessToken:f,fromCache:i,expiresOn:C,extExpiresOn:S,refreshOn:E,correlationId:o.correlationId,requestId:d||ee.EMPTY_STRING,familyId:T,tokenType:((Y=n.accessToken)==null?void 0:Y.tokenType)||ee.EMPTY_STRING,state:s?s.userRequestState:ee.EMPTY_STRING,cloudGraphHostName:((_e=n.account)==null?void 0:_e.cloudGraphHostName)||ee.EMPTY_STRING,msGraphHost:((ue=n.account)==null?void 0:ue.msGraphHost)||ee.EMPTY_STRING,code:u==null?void 0:u.spa_code,fromNativeBroker:!1}})}};function Dx(t,e,r,n,i,o,a,s,u,d,f){f==null||f.verbose("setCachedAccount called");let C=t.getAccountKeys().find(P=>P.startsWith(r)),S=null;C&&(S=t.getAccount(C,f));let E=S||Cr.createAccount({homeAccountId:r,idTokenClaims:i,clientInfo:o,environment:a,cloudGraphHostName:u==null?void 0:u.cloud_graph_host_name,msGraphHost:u==null?void 0:u.msgraph_host,nativeAccountId:d},e,n),T=E.tenantProfiles||[],_=s||E.realm;if(_&&!T.find(P=>P.tenantId===_)){let P=Rd(r,E.localAccountId,_,i);T.push(P);}return E.tenantProfiles=T,E}var rl=class extends Dr{constructor(e,r){var n;super(e,r),this.includeRedirectUri=!0,this.oidcDefaultScopes=(n=this.config.authOptions.authority.options.OIDCOptions)==null?void 0:n.defaultScopes;}getAuthCodeUrl(e){return L(this,null,function*(){var n;(n=this.performanceClient)==null||n.addQueueMeasurement(Z.GetAuthCodeUrl,e.correlationId);let r=yield ut(this.createAuthCodeUrlQueryString.bind(this),Z.AuthClientCreateQueryString,this.logger,this.performanceClient,e.correlationId)(e);return pt.appendQueryString(this.authority.authorizationEndpoint,r)})}acquireToken(e,r){return L(this,null,function*(){var s,u;if((s=this.performanceClient)==null||s.addQueueMeasurement(Z.AuthClientAcquireToken,e.correlationId),!e.code)throw se(Ka);let n=nn(),i=yield ut(this.executeTokenRequest.bind(this),Z.AuthClientExecuteTokenRequest,this.logger,this.performanceClient,e.correlationId)(this.authority,e),o=(u=i.headers)==null?void 0:u[er.X_MS_REQUEST_ID],a=new ir(this.config.authOptions.clientId,this.cacheManager,this.cryptoUtils,this.logger,this.config.serializableCache,this.config.persistencePlugin,this.performanceClient);return a.validateTokenResponse(i.body),ut(a.handleServerTokenResponse.bind(a),Z.HandleServerTokenResponse,this.logger,this.performanceClient,e.correlationId)(i.body,this.authority,n,e,r,void 0,void 0,void 0,o)})}handleFragmentResponse(e,r){if(new ir(this.config.authOptions.clientId,this.cacheManager,this.cryptoUtils,this.logger,null,null).validateServerAuthorizationCodeResponse(e,r),!e.code)throw se(Xa);return e}getLogoutUri(e){if(!e)throw St(ls);let r=this.createLogoutUrlQueryString(e);return pt.appendQueryString(this.authority.endSessionEndpoint,r)}executeTokenRequest(e,r){return L(this,null,function*(){var d,f;(d=this.performanceClient)==null||d.addQueueMeasurement(Z.AuthClientExecuteTokenRequest,r.correlationId);let n=this.createTokenQueryParameters(r),i=pt.appendQueryString(e.tokenEndpoint,n),o=yield ut(this.createTokenRequestBody.bind(this),Z.AuthClientCreateTokenRequestBody,this.logger,this.performanceClient,r.correlationId)(r),a;if(r.clientInfo)try{let g=el(r.clientInfo,this.cryptoUtils.base64Decode);a={credential:`${g.uid}${Ht.CLIENT_INFO_SEPARATOR}${g.utid}`,type:Br.HOME_ACCOUNT_ID};}catch(g){this.logger.verbose("Could not parse client info for CCS Header: "+g);}let s=this.createTokenRequestHeaders(a||r.ccsCredential),u={clientId:((f=r.tokenBodyParameters)==null?void 0:f.clientId)||this.config.authOptions.clientId,authority:e.canonicalAuthority,scopes:r.scopes,claims:r.claims,authenticationScheme:r.authenticationScheme,resourceRequestMethod:r.resourceRequestMethod,resourceRequestUri:r.resourceRequestUri,shrClaims:r.shrClaims,sshKid:r.sshKid};return ut(this.executePostToTokenEndpoint.bind(this),Z.AuthorizationCodeClientExecutePostToTokenEndpoint,this.logger,this.performanceClient,r.correlationId)(i,o,s,u,r.correlationId,Z.AuthorizationCodeClientExecutePostToTokenEndpoint)})}createTokenRequestBody(e){return L(this,null,function*(){var o,a;(o=this.performanceClient)==null||o.addQueueMeasurement(Z.AuthClientCreateTokenRequestBody,e.correlationId);let r=new nr;if(r.addClientId(((a=e.tokenBodyParameters)==null?void 0:a[Mo])||this.config.authOptions.clientId),this.includeRedirectUri?r.addRedirectUri(e.redirectUri):Ei.validateRedirectUri(e.redirectUri),r.addScopes(e.scopes,!0,this.oidcDefaultScopes),r.addAuthorizationCode(e.code),r.addLibraryInfo(this.config.libraryInfo),r.addApplicationTelemetry(this.config.telemetry.application),r.addThrottling(),this.serverTelemetryManager&&!Nd(this.config)&&r.addServerTelemetry(this.serverTelemetryManager),e.codeVerifier&&r.addCodeVerifier(e.codeVerifier),this.config.clientCredentials.clientSecret&&r.addClientSecret(this.config.clientCredentials.clientSecret),this.config.clientCredentials.clientAssertion){let s=this.config.clientCredentials.clientAssertion;r.addClientAssertion(yield Ur(s.assertion,this.config.authOptions.clientId,e.resourceRequestUri)),r.addClientAssertionType(s.assertionType);}if(r.addGrantType(Vn.AUTHORIZATION_CODE_GRANT),r.addClientInfo(),e.authenticationScheme===lt.POP){let s=new Xi(this.cryptoUtils,this.performanceClient),u;e.popKid?u=this.cryptoUtils.encodeKid(e.popKid):u=(yield ut(s.generateCnf.bind(s),Z.PopTokenGenerateCnf,this.logger,this.performanceClient,e.correlationId)(e,this.logger)).reqCnfString,r.addPopToken(u);}else if(e.authenticationScheme===lt.SSH)if(e.sshJwk)r.addSshJwk(e.sshJwk);else throw St(Yi);let n=e.correlationId||this.config.cryptoInterface.createNewGuid();r.addCorrelationId(n),(!$t.isEmptyObj(e.claims)||this.config.authOptions.clientCapabilities&&this.config.authOptions.clientCapabilities.length>0)&&r.addClaims(e.claims,this.config.authOptions.clientCapabilities);let i;if(e.clientInfo)try{let s=el(e.clientInfo,this.cryptoUtils.base64Decode);i={credential:`${s.uid}${Ht.CLIENT_INFO_SEPARATOR}${s.utid}`,type:Br.HOME_ACCOUNT_ID};}catch(s){this.logger.verbose("Could not parse client info for CCS Header: "+s);}else i=e.ccsCredential;if(this.config.systemOptions.preventCorsPreflight&&i)switch(i.type){case Br.HOME_ACCOUNT_ID:try{let s=Ji(i.credential);r.addCcsOid(s);}catch(s){this.logger.verbose("Could not parse home account ID for CCS Header: "+s);}break;case Br.UPN:r.addCcsUpn(i.credential);break}return e.tokenBodyParameters&&r.addExtraQueryParameters(e.tokenBodyParameters),e.enableSpaAuthorizationCode&&(!e.tokenBodyParameters||!e.tokenBodyParameters[hm])&&r.addExtraQueryParameters({[hm]:"1"}),r.createQueryString()})}createAuthCodeUrlQueryString(e){return L(this,null,function*(){var o,a;(o=this.performanceClient)==null||o.addQueueMeasurement(Z.AuthClientCreateQueryString,e.correlationId);let r=new nr;r.addClientId(((a=e.extraQueryParameters)==null?void 0:a[Mo])||this.config.authOptions.clientId);let n=[...e.scopes||[],...e.extraScopesToConsent||[]];r.addScopes(n,!0,this.oidcDefaultScopes),r.addRedirectUri(e.redirectUri);let i=e.correlationId||this.config.cryptoInterface.createNewGuid();if(r.addCorrelationId(i),r.addResponseMode(e.responseMode),r.addResponseTypeCode(),r.addLibraryInfo(this.config.libraryInfo),Nd(this.config)||r.addApplicationTelemetry(this.config.telemetry.application),r.addClientInfo(),e.codeChallenge&&e.codeChallengeMethod&&r.addCodeChallengeParams(e.codeChallenge,e.codeChallengeMethod),e.prompt&&r.addPrompt(e.prompt),e.domainHint&&r.addDomainHint(e.domainHint),e.prompt!==Ro.SELECT_ACCOUNT)if(e.sid&&e.prompt===Ro.NONE)this.logger.verbose("createAuthCodeUrlQueryString: Prompt is none, adding sid from request"),r.addSid(e.sid);else if(e.account){let s=this.extractAccountSid(e.account),u=this.extractLoginHint(e.account);if(u&&e.domainHint&&(this.logger.warning('AuthorizationCodeClient.createAuthCodeUrlQueryString: "domainHint" param is set, skipping opaque "login_hint" claim. Please consider not passing domainHint'),u=null),u){this.logger.verbose("createAuthCodeUrlQueryString: login_hint claim present on account"),r.addLoginHint(u);try{let d=Ji(e.account.homeAccountId);r.addCcsOid(d);}catch(d){this.logger.verbose("createAuthCodeUrlQueryString: Could not parse home account ID for CCS Header");}}else if(s&&e.prompt===Ro.NONE){this.logger.verbose("createAuthCodeUrlQueryString: Prompt is none, adding sid from account"),r.addSid(s);try{let d=Ji(e.account.homeAccountId);r.addCcsOid(d);}catch(d){this.logger.verbose("createAuthCodeUrlQueryString: Could not parse home account ID for CCS Header");}}else if(e.loginHint)this.logger.verbose("createAuthCodeUrlQueryString: Adding login_hint from request"),r.addLoginHint(e.loginHint),r.addCcsUpn(e.loginHint);else if(e.account.username){this.logger.verbose("createAuthCodeUrlQueryString: Adding login_hint from account"),r.addLoginHint(e.account.username);try{let d=Ji(e.account.homeAccountId);r.addCcsOid(d);}catch(d){this.logger.verbose("createAuthCodeUrlQueryString: Could not parse home account ID for CCS Header");}}}else e.loginHint&&(this.logger.verbose("createAuthCodeUrlQueryString: No account, adding login_hint from request"),r.addLoginHint(e.loginHint),r.addCcsUpn(e.loginHint));else this.logger.verbose("createAuthCodeUrlQueryString: Prompt is select_account, ignoring account hints");if(e.nonce&&r.addNonce(e.nonce),e.state&&r.addState(e.state),(e.claims||this.config.authOptions.clientCapabilities&&this.config.authOptions.clientCapabilities.length>0)&&r.addClaims(e.claims,this.config.authOptions.clientCapabilities),e.extraQueryParameters&&r.addExtraQueryParameters(e.extraQueryParameters),e.nativeBroker&&(r.addNativeBroker(),e.authenticationScheme===lt.POP)){let s=new Xi(this.cryptoUtils),u;e.popKid?u=this.cryptoUtils.encodeKid(e.popKid):u=(yield ut(s.generateCnf.bind(s),Z.PopTokenGenerateCnf,this.logger,this.performanceClient,e.correlationId)(e,this.logger)).reqCnfString,r.addPopToken(u);}return r.createQueryString()})}createLogoutUrlQueryString(e){let r=new nr;return e.postLogoutRedirectUri&&r.addPostLogoutRedirectUri(e.postLogoutRedirectUri),e.correlationId&&r.addCorrelationId(e.correlationId),e.idTokenHint&&r.addIdTokenHint(e.idTokenHint),e.state&&r.addState(e.state),e.logoutHint&&r.addLogoutHint(e.logoutHint),e.extraQueryParameters&&r.addExtraQueryParameters(e.extraQueryParameters),r.createQueryString()}extractAccountSid(e){var r;return ((r=e.idTokenClaims)==null?void 0:r.sid)||null}extractLoginHint(e){var r;return ((r=e.idTokenClaims)==null?void 0:r.login_hint)||null}};y();p();h();m();var H5=300,Bo=class extends Dr{constructor(e,r){super(e,r);}acquireToken(e){return L(this,null,function*(){var a,s;(a=this.performanceClient)==null||a.addQueueMeasurement(Z.RefreshTokenClientAcquireToken,e.correlationId);let r=nn(),n=yield ut(this.executeTokenRequest.bind(this),Z.RefreshTokenClientExecuteTokenRequest,this.logger,this.performanceClient,e.correlationId)(e,this.authority),i=(s=n.headers)==null?void 0:s[er.X_MS_REQUEST_ID],o=new ir(this.config.authOptions.clientId,this.cacheManager,this.cryptoUtils,this.logger,this.config.serializableCache,this.config.persistencePlugin);return o.validateTokenResponse(n.body),ut(o.handleServerTokenResponse.bind(o),Z.HandleServerTokenResponse,this.logger,this.performanceClient,e.correlationId)(n.body,this.authority,r,e,void 0,void 0,!0,e.forceCache,i)})}acquireTokenByRefreshToken(e){return L(this,null,function*(){var n;if(!e)throw St(cs);if((n=this.performanceClient)==null||n.addQueueMeasurement(Z.RefreshTokenClientAcquireTokenByRefreshToken,e.correlationId),!e.account)throw se($i);if(this.cacheManager.isAppMetadataFOCI(e.account.environment))try{return yield ut(this.acquireTokenWithCachedRefreshToken.bind(this),Z.RefreshTokenClientAcquireTokenWithCachedRefreshToken,this.logger,this.performanceClient,e.correlationId)(e,!0)}catch(i){let o=i instanceof Qi&&i.errorCode===hs,a=i instanceof Zi&&i.errorCode===Qh.INVALID_GRANT_ERROR&&i.subError===Qh.CLIENT_MISMATCH_ERROR;if(o||a)return ut(this.acquireTokenWithCachedRefreshToken.bind(this),Z.RefreshTokenClientAcquireTokenWithCachedRefreshToken,this.logger,this.performanceClient,e.correlationId)(e,!1);throw i}return ut(this.acquireTokenWithCachedRefreshToken.bind(this),Z.RefreshTokenClientAcquireTokenWithCachedRefreshToken,this.logger,this.performanceClient,e.correlationId)(e,!1)})}acquireTokenWithCachedRefreshToken(e,r){return L(this,null,function*(){var o;(o=this.performanceClient)==null||o.addQueueMeasurement(Z.RefreshTokenClientAcquireTokenWithCachedRefreshToken,e.correlationId);let n=Ox(this.cacheManager.getRefreshToken.bind(this.cacheManager),Z.CacheManagerGetRefreshToken,this.logger,this.performanceClient,e.correlationId)(e.account,r,void 0,this.performanceClient,e.correlationId);if(!n)throw dS(hs);if(n.expiresOn&&Jc(n.expiresOn,e.refreshTokenExpirationOffsetSeconds||H5))throw dS(Tm);let i=ae(q({},e),{refreshToken:n.secret,authenticationScheme:e.authenticationScheme||lt.BEARER,ccsCredential:{credential:e.account.homeAccountId,type:Br.HOME_ACCOUNT_ID}});try{return yield ut(this.acquireToken.bind(this),Z.RefreshTokenClientAcquireToken,this.logger,this.performanceClient,e.correlationId)(i)}catch(a){if(a instanceof Qi&&a.subError===ms){this.logger.verbose("acquireTokenWithRefreshToken: bad refresh token, removing from cache");let s=wd(n);this.cacheManager.removeRefreshToken(s);}throw a}})}executeTokenRequest(e,r){return L(this,null,function*(){var u,d;(u=this.performanceClient)==null||u.addQueueMeasurement(Z.RefreshTokenClientExecuteTokenRequest,e.correlationId);let n=this.createTokenQueryParameters(e),i=pt.appendQueryString(r.tokenEndpoint,n),o=yield ut(this.createTokenRequestBody.bind(this),Z.RefreshTokenClientCreateTokenRequestBody,this.logger,this.performanceClient,e.correlationId)(e),a=this.createTokenRequestHeaders(e.ccsCredential),s={clientId:((d=e.tokenBodyParameters)==null?void 0:d.clientId)||this.config.authOptions.clientId,authority:r.canonicalAuthority,scopes:e.scopes,claims:e.claims,authenticationScheme:e.authenticationScheme,resourceRequestMethod:e.resourceRequestMethod,resourceRequestUri:e.resourceRequestUri,shrClaims:e.shrClaims,sshKid:e.sshKid};return ut(this.executePostToTokenEndpoint.bind(this),Z.RefreshTokenClientExecutePostToTokenEndpoint,this.logger,this.performanceClient,e.correlationId)(i,o,a,s,e.correlationId,Z.RefreshTokenClientExecutePostToTokenEndpoint)})}createTokenRequestBody(e){return L(this,null,function*(){var i,o,a;(i=this.performanceClient)==null||i.addQueueMeasurement(Z.RefreshTokenClientCreateTokenRequestBody,e.correlationId);let r=e.correlationId,n=new nr;if(n.addClientId(((o=e.tokenBodyParameters)==null?void 0:o[Mo])||this.config.authOptions.clientId),e.redirectUri&&n.addRedirectUri(e.redirectUri),n.addScopes(e.scopes,!0,(a=this.config.authOptions.authority.options.OIDCOptions)==null?void 0:a.defaultScopes),n.addGrantType(Vn.REFRESH_TOKEN_GRANT),n.addClientInfo(),n.addLibraryInfo(this.config.libraryInfo),n.addApplicationTelemetry(this.config.telemetry.application),n.addThrottling(),this.serverTelemetryManager&&!Nd(this.config)&&n.addServerTelemetry(this.serverTelemetryManager),n.addCorrelationId(r),n.addRefreshToken(e.refreshToken),this.config.clientCredentials.clientSecret&&n.addClientSecret(this.config.clientCredentials.clientSecret),this.config.clientCredentials.clientAssertion){let s=this.config.clientCredentials.clientAssertion;n.addClientAssertion(yield Ur(s.assertion,this.config.authOptions.clientId,e.resourceRequestUri)),n.addClientAssertionType(s.assertionType);}if(e.authenticationScheme===lt.POP){let s=new Xi(this.cryptoUtils,this.performanceClient),u;e.popKid?u=this.cryptoUtils.encodeKid(e.popKid):u=(yield ut(s.generateCnf.bind(s),Z.PopTokenGenerateCnf,this.logger,this.performanceClient,e.correlationId)(e,this.logger)).reqCnfString,n.addPopToken(u);}else if(e.authenticationScheme===lt.SSH)if(e.sshJwk)n.addSshJwk(e.sshJwk);else throw St(Yi);if((!$t.isEmptyObj(e.claims)||this.config.authOptions.clientCapabilities&&this.config.authOptions.clientCapabilities.length>0)&&n.addClaims(e.claims,this.config.authOptions.clientCapabilities),this.config.systemOptions.preventCorsPreflight&&e.ccsCredential)switch(e.ccsCredential.type){case Br.HOME_ACCOUNT_ID:try{let s=Ji(e.ccsCredential.credential);n.addCcsOid(s);}catch(s){this.logger.verbose("Could not parse home account ID for CCS Header: "+s);}break;case Br.UPN:n.addCcsUpn(e.ccsCredential.credential);break}return e.tokenBodyParameters&&n.addExtraQueryParameters(e.tokenBodyParameters),n.createQueryString()})}};y();p();h();m();var xd=class extends Dr{constructor(e,r){super(e,r);}acquireToken(e){return L(this,null,function*(){var r;try{let[n,i]=yield this.acquireCachedToken(ae(q({},e),{scopes:(r=e.scopes)!=null&&r.length?e.scopes:[...yi]}));return i===kt.PROACTIVELY_REFRESHED&&(this.logger.info("SilentFlowClient:acquireCachedToken - Cached access token's refreshOn property has been exceeded'. It's not expired, but must be refreshed."),new Bo(this.config,this.performanceClient).acquireTokenByRefreshToken(e).catch(()=>{})),n}catch(n){if(n instanceof Yc&&n.errorCode===gi)return new Bo(this.config,this.performanceClient).acquireTokenByRefreshToken(e);throw n}})}acquireCachedToken(e){return L(this,null,function*(){var u;(u=this.performanceClient)==null||u.addQueueMeasurement(Z.SilentFlowClientAcquireCachedToken,e.correlationId);let r=kt.NOT_APPLICABLE;if(e.forceRefresh||!this.config.cacheOptions.claimsBasedCachingEnabled&&!$t.isEmptyObj(e.claims))throw this.setCacheOutcome(kt.FORCE_REFRESH_OR_CLAIMS,e.correlationId),se(gi);if(!e.account)throw se($i);let n=e.account.tenantId||xx(e.authority),i=this.cacheManager.getTokenKeys(),o=this.cacheManager.getAccessToken(e.account,e,i,n,this.performanceClient,e.correlationId);if(o){if(SC(o.cachedAt)||Jc(o.expiresOn,this.config.systemOptions.tokenRenewalOffsetSeconds))throw this.setCacheOutcome(kt.CACHED_ACCESS_TOKEN_EXPIRED,e.correlationId),se(gi);o.refreshOn&&Jc(o.refreshOn,0)&&(r=kt.PROACTIVELY_REFRESHED);}else throw this.setCacheOutcome(kt.NO_CACHED_ACCESS_TOKEN,e.correlationId),se(gi);let a=e.authority||this.authority.getPreferredCache(),s={account:this.cacheManager.readAccountFromCache(e.account),accessToken:o,idToken:this.cacheManager.getIdToken(e.account,i,n,this.performanceClient,e.correlationId),refreshToken:null,appMetadata:this.cacheManager.readAppMetadataFromCache(a)};return this.setCacheOutcome(r,e.correlationId),this.config.serverTelemetryManager&&this.config.serverTelemetryManager.incrementCacheHits(),[yield ut(this.generateResultFromCacheRecord.bind(this),Z.SilentFlowClientGenerateResultFromCacheRecord,this.logger,this.performanceClient,e.correlationId)(s,e),r]})}setCacheOutcome(e,r){var n,i;(n=this.serverTelemetryManager)==null||n.setCacheOutcome(e),(i=this.performanceClient)==null||i.addFields({cacheOutcome:e},r),e!==kt.NOT_APPLICABLE&&this.logger.info(`Token refresh is required due to cache outcome: ${e}`);}generateResultFromCacheRecord(e,r){return L(this,null,function*(){var i;(i=this.performanceClient)==null||i.addQueueMeasurement(Z.SilentFlowClientGenerateResultFromCacheRecord,r.correlationId);let n;if(e.idToken&&(n=Gi(e.idToken.secret,this.config.cryptoInterface.base64Decode)),r.maxAge||r.maxAge===0){let o=n==null?void 0:n.auth_time;if(!o)throw se(Hi);pd(o,r.maxAge);}return ir.generateAuthenticationResult(this.cryptoUtils,this.authority,e,!0,r,n)})}};y();p();h();m();var Lx=",",Fx="|";function $5(t){let{skus:e,libraryName:r,libraryVersion:n,extensionName:i,extensionVersion:o}=t,a=new Map([[0,[r,n]],[2,[i,o]]]),s=[];if(e!=null&&e.length){if(s=e.split(Lx),s.length<4)return e}else s=Array.from({length:4},()=>Fx);return a.forEach((u,d)=>{var f,g;u.length===2&&((f=u[0])!=null&&f.length)&&((g=u[1])!=null&&g.length)&&V5({skuArr:s,index:d,skuName:u[0],skuVersion:u[1]});}),s.join(Lx)}function V5(t){let{skuArr:e,index:r,skuName:n,skuVersion:i}=t;r>=e.length||(e[r]=[n,i].join(Fx));}var kd=class t{constructor(e,r){this.cacheOutcome=kt.NOT_APPLICABLE,this.cacheManager=r,this.apiId=e.apiId,this.correlationId=e.correlationId,this.wrapperSKU=e.wrapperSKU||ee.EMPTY_STRING,this.wrapperVer=e.wrapperVer||ee.EMPTY_STRING,this.telemetryCacheKey=lr.CACHE_KEY+Ht.CACHE_KEY_SEPARATOR+e.clientId;}generateCurrentRequestHeaderValue(){let e=`${this.apiId}${lr.VALUE_SEPARATOR}${this.cacheOutcome}`,r=[this.wrapperSKU,this.wrapperVer],n=this.getNativeBrokerErrorCode();n!=null&&n.length&&r.push(`broker_error=${n}`);let i=r.join(lr.VALUE_SEPARATOR),o=this.getRegionDiscoveryFields(),a=[e,o].join(lr.VALUE_SEPARATOR);return [lr.SCHEMA_VERSION,a,i].join(lr.CATEGORY_SEPARATOR)}generateLastRequestHeaderValue(){let e=this.getLastRequests(),r=t.maxErrorsToSend(e),n=e.failedRequests.slice(0,2*r).join(lr.VALUE_SEPARATOR),i=e.errors.slice(0,r).join(lr.VALUE_SEPARATOR),o=e.errors.length,a=r<o?lr.OVERFLOW_TRUE:lr.OVERFLOW_FALSE,s=[o,a].join(lr.VALUE_SEPARATOR);return [lr.SCHEMA_VERSION,e.cacheHits,n,i,s].join(lr.CATEGORY_SEPARATOR)}cacheFailedRequest(e){let r=this.getLastRequests();r.errors.length>=lr.MAX_CACHED_ERRORS&&(r.failedRequests.shift(),r.failedRequests.shift(),r.errors.shift()),r.failedRequests.push(this.apiId,this.correlationId),e instanceof Error&&e&&e.toString()?e instanceof Et?e.subError?r.errors.push(e.subError):e.errorCode?r.errors.push(e.errorCode):r.errors.push(e.toString()):r.errors.push(e.toString()):r.errors.push(lr.UNKNOWN_ERROR),this.cacheManager.setServerTelemetry(this.telemetryCacheKey,r);}incrementCacheHits(){let e=this.getLastRequests();return e.cacheHits+=1,this.cacheManager.setServerTelemetry(this.telemetryCacheKey,e),e.cacheHits}getLastRequests(){let e={failedRequests:[],errors:[],cacheHits:0};return this.cacheManager.getServerTelemetry(this.telemetryCacheKey)||e}clearTelemetryCache(){let e=this.getLastRequests(),r=t.maxErrorsToSend(e),n=e.errors.length;if(r===n)this.cacheManager.removeItem(this.telemetryCacheKey);else {let i={failedRequests:e.failedRequests.slice(r*2),errors:e.errors.slice(r),cacheHits:0};this.cacheManager.setServerTelemetry(this.telemetryCacheKey,i);}}static maxErrorsToSend(e){let r,n=0,i=0,o=e.errors.length;for(r=0;r<o;r++){let a=e.failedRequests[2*r]||ee.EMPTY_STRING,s=e.failedRequests[2*r+1]||ee.EMPTY_STRING,u=e.errors[r]||ee.EMPTY_STRING;if(i+=a.toString().length+s.toString().length+u.length+3,i<lr.MAX_LAST_HEADER_BYTES)n+=1;else break}return n}getRegionDiscoveryFields(){let e=[];return e.push(this.regionUsed||ee.EMPTY_STRING),e.push(this.regionSource||ee.EMPTY_STRING),e.push(this.regionOutcome||ee.EMPTY_STRING),e.join(",")}updateRegionDiscoveryMetadata(e){this.regionUsed=e.region_used,this.regionSource=e.region_source,this.regionOutcome=e.region_outcome;}setCacheOutcome(e){this.cacheOutcome=e;}setNativeBrokerErrorCode(e){let r=this.getLastRequests();r.nativeBrokerErrorCode=e,this.cacheManager.setServerTelemetry(this.telemetryCacheKey,r);}getNativeBrokerErrorCode(){return this.getLastRequests().nativeBrokerErrorCode}clearNativeBrokerErrorCode(){let e=this.getLastRequests();delete e.nativeBrokerErrorCode,this.cacheManager.setServerTelemetry(this.telemetryCacheKey,e);}static makeExtraSkuString(e){return $5(e)}};var Do=class{static deserializeJSONBlob(e){return e?JSON.parse(e):{}}static deserializeAccounts(e){let r={};return e&&Object.keys(e).map(function(n){var s;let i=e[n],o={homeAccountId:i.home_account_id,environment:i.environment,realm:i.realm,localAccountId:i.local_account_id,username:i.username,authorityType:i.authority_type,name:i.name,clientInfo:i.client_info,lastModificationTime:i.last_modification_time,lastModificationApp:i.last_modification_app,tenantProfiles:(s=i.tenantProfiles)==null?void 0:s.map(u=>JSON.parse(u))},a=new Cr;Uo.toObject(a,o),r[n]=a;}),r}static deserializeIdTokens(e){let r={};return e&&Object.keys(e).map(function(n){let i=e[n],o={homeAccountId:i.home_account_id,environment:i.environment,credentialType:i.credential_type,clientId:i.client_id,secret:i.secret,realm:i.realm};r[n]=o;}),r}static deserializeAccessTokens(e){let r={};return e&&Object.keys(e).map(function(n){let i=e[n],o={homeAccountId:i.home_account_id,environment:i.environment,credentialType:i.credential_type,clientId:i.client_id,secret:i.secret,realm:i.realm,target:i.target,cachedAt:i.cached_at,expiresOn:i.expires_on,extendedExpiresOn:i.extended_expires_on,refreshOn:i.refresh_on,keyId:i.key_id,tokenType:i.token_type,requestedClaims:i.requestedClaims,requestedClaimsHash:i.requestedClaimsHash,userAssertionHash:i.userAssertionHash};r[n]=o;}),r}static deserializeRefreshTokens(e){let r={};return e&&Object.keys(e).map(function(n){let i=e[n],o={homeAccountId:i.home_account_id,environment:i.environment,credentialType:i.credential_type,clientId:i.client_id,secret:i.secret,familyId:i.family_id,target:i.target,realm:i.realm};r[n]=o;}),r}static deserializeAppMetadata(e){let r={};return e&&Object.keys(e).map(function(n){let i=e[n];r[n]={clientId:i.client_id,environment:i.environment,familyId:i.family_id};}),r}static deserializeAllCache(e){return {accounts:e.Account?this.deserializeAccounts(e.Account):{},idTokens:e.IdToken?this.deserializeIdTokens(e.IdToken):{},accessTokens:e.AccessToken?this.deserializeAccessTokens(e.AccessToken):{},refreshTokens:e.RefreshToken?this.deserializeRefreshTokens(e.RefreshToken):{},appMetadata:e.AppMetadata?this.deserializeAppMetadata(e.AppMetadata):{}}}};y();p();h();m();y();p();h();m();var zx="Authorization",nl="Metadata",qx="X-IDENTITY-HEADER",jx="secret",Lo="api-version",Si="resource",Hx="system_assigned_managed_identity",W5="managed_identity",fS=`https://login.microsoftonline.com/${W5}/`,tt={AZURE_POD_IDENTITY_AUTHORITY_HOST:"AZURE_POD_IDENTITY_AUTHORITY_HOST",IDENTITY_ENDPOINT:"IDENTITY_ENDPOINT",IDENTITY_HEADER:"IDENTITY_HEADER",IDENTITY_SERVER_THUMBPRINT:"IDENTITY_SERVER_THUMBPRINT",IMDS_ENDPOINT:"IMDS_ENDPOINT",MSI_ENDPOINT:"MSI_ENDPOINT"},st={APP_SERVICE:"AppService",AZURE_ARC:"AzureArc",CLOUD_SHELL:"CloudShell",DEFAULT_TO_IMDS:"DefaultToImds",IMDS:"Imds",SERVICE_FABRIC:"ServiceFabric"},or={SYSTEM_ASSIGNED:"system-assigned",USER_ASSIGNED_CLIENT_ID:"user-assigned-client-id",USER_ASSIGNED_RESOURCE_ID:"user-assigned-resource-id",USER_ASSIGNED_OBJECT_ID:"user-assigned-object-id"},Ft={GET:"get",POST:"post"},bm={SUCCESS:It.SUCCESS,SUCCESS_RANGE_START:It.SUCCESS_RANGE_START,SUCCESS_RANGE_END:It.SUCCESS_RANGE_END,SERVER_ERROR:It.SERVER_ERROR},$x="REGION_NAME",Vx=32,Gx={SHA256:"sha256"},Rm={CV_CHARSET:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~"},Ti={MSAL_SKU:"msal.js.node",JWT_BEARER_ASSERTION_TYPE:"urn:ietf:params:oauth:client-assertion-type:jwt-bearer",AUTHORIZATION_PENDING:"authorization_pending",HTTP_PROTOCOL:"http://",LOCALHOST:"localhost"},Fo={acquireTokenSilent:62,acquireTokenByUsernamePassword:371,acquireTokenByDeviceCode:671,acquireTokenByClientCredential:771,acquireTokenByCode:871,acquireTokenByRefreshToken:872},xn={ALGORITHM:"alg",RSA_256:"RS256",PSS_256:"PS256",X5T_256:"x5t#S256",X5T:"x5t",X5C:"x5c",AUDIENCE:"aud",EXPIRATION_TIME:"exp",ISSUER:"iss",SUBJECT:"sub",NOT_BEFORE:"nbf",JWT_ID:"jti"};var Wx=4096,Kx=3,Yx=1e3,Jx=[It.NOT_FOUND,It.REQUEST_TIMEOUT,It.TOO_MANY_REQUESTS,It.SERVER_ERROR,It.SERVICE_UNAVAILABLE,It.GATEWAY_TIMEOUT];y();p();h();m();y();p();h();m();y();p();h();m();y();p();h();m();var il=class{static getNetworkResponse(e,r,n){return {headers:e,body:r,status:n}}static urlToHttpOptions(e){let r={protocol:e.protocol,hostname:e.hostname&&e.hostname.startsWith("[")?e.hostname.slice(1,-1):e.hostname,hash:e.hash,search:e.search,pathname:e.pathname,path:`${e.pathname||""}${e.search||""}`,href:e.href};return e.port!==""&&(r.port=Number(e.port)),(e.username||e.password)&&(r.auth=`${decodeURIComponent(e.username)}:${decodeURIComponent(e.password)}`),r}};var _m=Ar(hc(),1),pS=Ar(nE(),1);var ol=class{constructor(e,r){this.proxyUrl=e||"",this.customAgentOptions=r||{};}sendGetRequestAsync(e,r,n){return L(this,null,function*(){return this.proxyUrl?Zx(e,this.proxyUrl,Ft.GET,r,this.customAgentOptions,n):Qx(e,Ft.GET,r,this.customAgentOptions,n)})}sendPostRequestAsync(e,r){return L(this,null,function*(){return this.proxyUrl?Zx(e,this.proxyUrl,Ft.POST,r,this.customAgentOptions):Qx(e,Ft.POST,r,this.customAgentOptions)})}},Zx=(t,e,r,n,i,o)=>{let a=new URL(t),s=new URL(e),u=(n==null?void 0:n.headers)||{},d={host:s.hostname,port:s.port,method:"CONNECT",path:a.hostname,headers:u};i&&Object.keys(i).length&&(d.agent=new _m.default.Agent(i));let f="";if(r===Ft.POST){let C=(n==null?void 0:n.body)||"";f=`Content-Type: application/x-www-form-urlencoded\r
Content-Length: ${C.length}\r
\r
${C}`;}else o&&(d.timeout=o);let g=`${r.toUpperCase()} ${a.href} HTTP/1.1\r
Host: ${a.host}\r
Connection: close\r
`+f+`\r
`;return new Promise((C,S)=>{let E=_m.default.request(d);o&&E.on("timeout",()=>{E.destroy(),S(new Error("Request time out"));}),E.end(),E.on("connect",(T,_)=>{let P=(T==null?void 0:T.statusCode)||bm.SERVER_ERROR;(P<bm.SUCCESS_RANGE_START||P>bm.SUCCESS_RANGE_END)&&(E.destroy(),_.destroy(),S(new Error(`Error connecting to proxy. Http status code: ${T.statusCode}. Http status message: ${(T==null?void 0:T.statusMessage)||"Unknown"}`))),_.write(g);let M=[];_.on("data",D=>{M.push(D);}),_.on("end",()=>{let V=R.Buffer.concat([...M]).toString().split(`\r
`),Y=parseInt(V[0].split(" ")[1]),_e=V[0].split(" ").slice(2).join(" "),ue=V[V.length-1],le=V.slice(1,V.length-2),fe=new Map;le.forEach(Ae=>{let Te=Ae.split(new RegExp(new RegExp(":\\s(.*)","s"))),Ee=Te[0],Se=Te[1];try{let te=JSON.parse(Se);te&&typeof te=="object"&&(Se=te);}catch(te){}fe.set(Ee,Se);});let H=Object.fromEntries(fe),X=il.getNetworkResponse(H,Xx(Y,_e,H,ue),Y);(Y<It.SUCCESS_RANGE_START||Y>It.SUCCESS_RANGE_END)&&X.body.error!==Ti.AUTHORIZATION_PENDING&&E.destroy(),C(X);}),_.on("error",D=>{E.destroy(),_.destroy(),S(new Error(D.toString()));});}),E.on("error",T=>{E.destroy(),S(new Error(T.toString()));});})},Qx=(t,e,r,n,i)=>{let o=e===Ft.POST,a=(r==null?void 0:r.body)||"",s=new URL(t),u=(r==null?void 0:r.headers)||{},d=q({method:e,headers:u},il.urlToHttpOptions(s));return n&&Object.keys(n).length&&(d.agent=new pS.default.Agent(n)),o?d.headers=ae(q({},d.headers),{"Content-Length":a.length}):i&&(d.timeout=i),new Promise((f,g)=>{let C;d.protocol==="http:"?C=_m.default.request(d):C=pS.default.request(d),o&&C.write(a),i&&C.on("timeout",()=>{C.destroy(),g(new Error("Request time out"));}),C.end(),C.on("response",S=>{let E=S.headers,T=S.statusCode,_=S.statusMessage,P=[];S.on("data",M=>{P.push(M);}),S.on("end",()=>{let M=R.Buffer.concat([...P]).toString(),D=E,V=il.getNetworkResponse(D,Xx(T,_,D,M),T);(T<It.SUCCESS_RANGE_START||T>It.SUCCESS_RANGE_END)&&V.body.error!==Ti.AUTHORIZATION_PENDING&&C.destroy(),f(V);});}),C.on("error",S=>{C.destroy(),g(new Error(S.toString()));});})},Xx=(t,e,r,n)=>{let i;try{i=JSON.parse(n);}catch(o){let a,s;t>=It.CLIENT_ERROR_RANGE_START&&t<=It.CLIENT_ERROR_RANGE_END?(a="client_error",s="A client"):t>=It.SERVER_ERROR_RANGE_START&&t<=It.SERVER_ERROR_RANGE_END?(a="server_error",s="A server"):(a="unknown_error",s="An unknown"),i={error:a,error_description:`${s} error occured.
Http status code: ${t}
Http status message: ${e||"Unknown"}
Headers: ${JSON.stringify(r)}`};}return i};y();p();h();m();y();p();h();m();y();p();h();m();var Im="invalid_file_extension",Nm="invalid_file_path",zo="invalid_managed_identity_id_type",Om="invalid_secret",ek="missing_client_id",tk="network_unavailable",xm="platform_not_supported",km="unable_to_create_azure_arc",Pm="unable_to_create_cloud_shell",Mm="unable_to_create_source",Pd="unable_to_read_secret_file",rk="user_assigned_not_available_at_runtime",Um="www_authenticate_header_missing",Bm="www_authenticate_header_unsupported_format",ys={[tt.AZURE_POD_IDENTITY_AUTHORITY_HOST]:"azure_pod_identity_authority_host_url_malformed",[tt.IDENTITY_ENDPOINT]:"identity_endpoint_url_malformed",[tt.IMDS_ENDPOINT]:"imds_endpoint_url_malformed",[tt.MSI_ENDPOINT]:"msi_endpoint_url_malformed"};var K5={[Im]:"The file path in the WWW-Authenticate header does not contain a .key file.",[Nm]:"The file path in the WWW-Authenticate header is not in a valid Windows or Linux Format.",[zo]:"More than one ManagedIdentityIdType was provided.",[Om]:"The secret in the file on the file path in the WWW-Authenticate header is greater than 4096 bytes.",[xm]:"The platform is not supported by Azure Arc. Azure Arc only supports Windows and Linux.",[ek]:"A ManagedIdentityId id was not provided.",[ys.AZURE_POD_IDENTITY_AUTHORITY_HOST]:`The Managed Identity's '${tt.AZURE_POD_IDENTITY_AUTHORITY_HOST}' environment variable is malformed.`,[ys.IDENTITY_ENDPOINT]:`The Managed Identity's '${tt.IDENTITY_ENDPOINT}' environment variable is malformed.`,[ys.IMDS_ENDPOINT]:`The Managed Identity's '${tt.IMDS_ENDPOINT}' environment variable is malformed.`,[ys.MSI_ENDPOINT]:`The Managed Identity's '${tt.MSI_ENDPOINT}' environment variable is malformed.`,[tk]:"Authentication unavailable. The request to the managed identity endpoint timed out.",[km]:"Azure Arc Managed Identities can only be system assigned.",[Pm]:"Cloud Shell Managed Identities can only be system assigned.",[Mm]:"Unable to create a Managed Identity source based on environment variables.",[Pd]:"Unable to read the secret file.",[rk]:"Service Fabric user assigned managed identity ClientId or ResourceId is not configurable at runtime.",[Um]:"A 401 response was received form the Azure Arc Managed Identity, but the www-authenticate header is missing.",[Bm]:"A 401 response was received form the Azure Arc Managed Identity, but the www-authenticate header is in an unsupported format."},hS=class t extends Et{constructor(e){super(e,K5[e]),this.name="ManagedIdentityError",Object.setPrototypeOf(this,t.prototype);}};function Zt(t){return new hS(t)}var Dm=class{get id(){return this._id}set id(e){this._id=e;}get idType(){return this._idType}set idType(e){this._idType=e;}constructor(e){let r=e==null?void 0:e.userAssignedClientId,n=e==null?void 0:e.userAssignedResourceId,i=e==null?void 0:e.userAssignedObjectId;if(r){if(n||i)throw Zt(zo);this.id=r,this.idType=or.USER_ASSIGNED_CLIENT_ID;}else if(n){if(r||i)throw Zt(zo);this.id=n,this.idType=or.USER_ASSIGNED_RESOURCE_ID;}else if(i){if(r||n)throw Zt(zo);this.id=i,this.idType=or.USER_ASSIGNED_OBJECT_ID;}else this.id=Hx,this.idType=or.SYSTEM_ASSIGNED;}};y();p();h();m();var Lm=class{constructor(e,r,n){this.maxRetries=e,this.retryDelay=r,this.httpStatusCodesToRetryOn=n;}retryAfterMillisecondsToSleep(e){if(!e)return 0;let r=Math.round(parseFloat(e)*1e3);return isNaN(r)&&(r=Math.max(0,new Date(e).valueOf()-new Date().valueOf())),r}pauseForRetry(e,r,n){return L(this,null,function*(){if(this.httpStatusCodesToRetryOn.includes(e)&&r<this.maxRetries){let i=this.retryAfterMillisecondsToSleep(n);return yield new Promise(o=>setTimeout(o,i||this.retryDelay)),!0}return !1})}};y();p();h();m();var Fm=class{constructor(e,r){this.httpClientNoRetries=e,this.retryPolicy=r;}sendNetworkRequestAsyncHelper(e,r,n){return L(this,null,function*(){return e===Ft.GET?this.httpClientNoRetries.sendGetRequestAsync(r,n):this.httpClientNoRetries.sendPostRequestAsync(r,n)})}sendNetworkRequestAsync(e,r,n){return L(this,null,function*(){let i=yield this.sendNetworkRequestAsyncHelper(e,r,n),o=0;for(;yield this.retryPolicy.pauseForRetry(i.status,o,i.headers[er.RETRY_AFTER]);)i=yield this.sendNetworkRequestAsyncHelper(e,r,n),o++;return i})}sendGetRequestAsync(e,r){return L(this,null,function*(){return this.sendNetworkRequestAsync(Ft.GET,e,r)})}sendPostRequestAsync(e,r){return L(this,null,function*(){return this.sendNetworkRequestAsync(Ft.POST,e,r)})}};y();p();h();m();var Sr={invalidLoopbackAddressType:{code:"invalid_loopback_server_address_type",desc:"Loopback server address is not type string. This is unexpected."},unableToLoadRedirectUri:{code:"unable_to_load_redirectUrl",desc:"Loopback server callback was invoked without a url. This is unexpected."},noAuthCodeInResponse:{code:"no_auth_code_in_response",desc:"No auth code found in the server response. Please check your network trace to determine what happened."},noLoopbackServerExists:{code:"no_loopback_server_exists",desc:"No loopback server exists yet."},loopbackServerAlreadyExists:{code:"loopback_server_already_exists",desc:"Loopback server already exists. Cannot create another."},loopbackServerTimeout:{code:"loopback_server_timeout",desc:"Timed out waiting for auth code listener to be registered."},stateNotFoundError:{code:"state_not_found",desc:"State not found. Please verify that the request originated from msal."},thumbprintMissing:{code:"thumbprint_missing_from_client_certificate",desc:"Client certificate does not contain a SHA-1 or SHA-256 thumbprint."}},qo=class t extends Et{constructor(e,r){super(e,r),this.name="NodeAuthError";}static createInvalidLoopbackAddressTypeError(){return new t(Sr.invalidLoopbackAddressType.code,`${Sr.invalidLoopbackAddressType.desc}`)}static createUnableToLoadRedirectUrlError(){return new t(Sr.unableToLoadRedirectUri.code,`${Sr.unableToLoadRedirectUri.desc}`)}static createNoAuthCodeInResponseError(){return new t(Sr.noAuthCodeInResponse.code,`${Sr.noAuthCodeInResponse.desc}`)}static createNoLoopbackServerExistsError(){return new t(Sr.noLoopbackServerExists.code,`${Sr.noLoopbackServerExists.desc}`)}static createLoopbackServerAlreadyExistsError(){return new t(Sr.loopbackServerAlreadyExists.code,`${Sr.loopbackServerAlreadyExists.desc}`)}static createLoopbackServerTimeoutError(){return new t(Sr.loopbackServerTimeout.code,`${Sr.loopbackServerTimeout.desc}`)}static createStateNotFoundError(){return new t(Sr.stateNotFoundError.code,Sr.stateNotFoundError.desc)}static createThumbprintMissingError(){return new t(Sr.thumbprintMissing.code,Sr.thumbprintMissing.desc)}};var Y5={clientId:ee.EMPTY_STRING,authority:ee.DEFAULT_AUTHORITY,clientSecret:ee.EMPTY_STRING,clientAssertion:ee.EMPTY_STRING,clientCertificate:{thumbprint:ee.EMPTY_STRING,thumbprintSha256:ee.EMPTY_STRING,privateKey:ee.EMPTY_STRING,x5c:ee.EMPTY_STRING},knownAuthorities:[],cloudDiscoveryMetadata:ee.EMPTY_STRING,authorityMetadata:ee.EMPTY_STRING,clientCapabilities:[],protocolMode:On.AAD,azureCloudOptions:{azureCloudInstance:ps.None,tenant:ee.EMPTY_STRING},skipAuthorityMetadataCache:!1},J5={claimsBasedCachingEnabled:!1},mS={loggerCallback:()=>{},piiLoggingEnabled:!1,logLevel:Jt.Info},Z5={loggerOptions:mS,networkClient:new ol,proxyUrl:ee.EMPTY_STRING,customAgentOptions:{},disableInternalRetries:!1},Q5={application:{appName:ee.EMPTY_STRING,appVersion:ee.EMPTY_STRING}};function yS({auth:t,broker:e,cache:r,system:n,telemetry:i}){let o=ae(q({},Z5),{networkClient:new ol(n==null?void 0:n.proxyUrl,n==null?void 0:n.customAgentOptions),loggerOptions:(n==null?void 0:n.loggerOptions)||mS,disableInternalRetries:(n==null?void 0:n.disableInternalRetries)||!1});if(t.clientCertificate&&!t.clientCertificate.thumbprint&&!t.clientCertificate.thumbprintSha256)throw qo.createStateNotFoundError();return {auth:q(q({},Y5),t),broker:q({},e),cache:q(q({},J5),r),system:q(q({},o),n),telemetry:q(q({},Q5),i)}}function nk({managedIdentityIdParams:t,system:e}){let r=new Dm(t),n=(e==null?void 0:e.loggerOptions)||mS,i;if(e!=null&&e.networkClient?i=e.networkClient:i=new ol(e==null?void 0:e.proxyUrl,e==null?void 0:e.customAgentOptions),!(e!=null&&e.disableInternalRetries)){let o=new Lm(Kx,Yx,Jx);i=new Fm(i,o);}return {managedIdentityId:r,system:{loggerOptions:n,networkClient:i}}}y();p();h();m();y();p();h();m();y();p();h();m();y();p();h();m();var ik=typeof crypto!="undefined"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto!="undefined"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),X5=new Uint8Array(16);function gS(){if(!ik)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return ik(X5)}y();p();h();m();y();p();h();m();y();p();h();m();var ok=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function eV(t){return typeof t=="string"&&ok.test(t)}var ak=eV;var Tr=[];for(zm=0;zm<256;++zm)Tr.push((zm+256).toString(16).substr(1));var zm;function tV(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=(Tr[t[e+0]]+Tr[t[e+1]]+Tr[t[e+2]]+Tr[t[e+3]]+"-"+Tr[t[e+4]]+Tr[t[e+5]]+"-"+Tr[t[e+6]]+Tr[t[e+7]]+"-"+Tr[t[e+8]]+Tr[t[e+9]]+"-"+Tr[t[e+10]]+Tr[t[e+11]]+Tr[t[e+12]]+Tr[t[e+13]]+Tr[t[e+14]]+Tr[t[e+15]]).toLowerCase();if(!ak(r))throw TypeError("Stringified UUID is invalid");return r}var sk=tV;y();p();h();m();function rV(t,e,r){t=t||{};var n=t.random||(t.rng||gS)();if(n[6]=n[6]&15|64,n[8]=n[8]&63|128,e){r=r||0;for(var i=0;i<16;++i)e[r+i]=n[i];return e}return sk(n)}var vS=rV;var qm=class{generateGuid(){return vS()}isGuid(e){return /^[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i.test(e)}};y();p();h();m();var on=class t{static base64Encode(e,r){return R.Buffer.from(e,r).toString("base64")}static base64EncodeUrl(e,r){return t.base64Encode(e,r).replace(/=/g,ee.EMPTY_STRING).replace(/\+/g,"-").replace(/\//g,"_")}static base64Decode(e){return R.Buffer.from(e,"base64").toString("utf8")}static base64DecodeUrl(e){let r=e.replace(/-/g,"+").replace(/_/g,"/");for(;r.length%4;)r+="=";return t.base64Decode(r)}};y();p();h();m();y();p();h();m();Qs();var al=class{sha256(e){return Bl.createHash(Gx.SHA256).update(e).digest()}};Qs();var jm=class{constructor(){this.hashUtils=new al;}generatePkceCodes(){return L(this,null,function*(){let e=this.generateCodeVerifier(),r=this.generateCodeChallengeFromVerifier(e);return {verifier:e,challenge:r}})}generateCodeVerifier(){let e=[],r=256-256%Rm.CV_CHARSET.length;for(;e.length<=Vx;){let i=Bl.randomBytes(1)[0];if(i>=r)continue;let o=i%Rm.CV_CHARSET.length;e.push(Rm.CV_CHARSET[o]);}let n=e.join(ee.EMPTY_STRING);return on.base64EncodeUrl(n)}generateCodeChallengeFromVerifier(e){return on.base64EncodeUrl(this.hashUtils.sha256(e).toString("base64"),"base64")}};var gs=class{constructor(){this.pkceGenerator=new jm,this.guidGenerator=new qm,this.hashUtils=new al;}base64UrlEncode(){throw new Error("Method not implemented.")}encodeKid(){throw new Error("Method not implemented.")}createNewGuid(){return this.guidGenerator.generateGuid()}base64Encode(e){return on.base64Encode(e)}base64Decode(e){return on.base64Decode(e)}generatePkceCodes(){return this.pkceGenerator.generatePkceCodes()}getPublicKeyThumbprint(){throw new Error("Method not implemented.")}removeTokenBindingKey(){throw new Error("Method not implemented.")}clearKeystore(){throw new Error("Method not implemented.")}signJwt(){throw new Error("Method not implemented.")}hashString(e){return L(this,null,function*(){return on.base64EncodeUrl(this.hashUtils.sha256(e).toString("base64"),"base64")})}};y();p();h();m();var vs=class extends Uo{constructor(e,r,n,i){super(r,n,e,i),this.cache={},this.changeEmitters=[],this.logger=e;}registerChangeEmitter(e){this.changeEmitters.push(e);}emitChange(){this.changeEmitters.forEach(e=>e.call(null));}cacheToInMemoryCache(e){let r={accounts:{},idTokens:{},accessTokens:{},refreshTokens:{},appMetadata:{}};for(let n in e){let i=e[n];if(typeof i=="object")if(i instanceof Cr)r.accounts[n]=i;else if(ur.isIdTokenEntity(i))r.idTokens[n]=i;else if(ur.isAccessTokenEntity(i))r.accessTokens[n]=i;else if(ur.isRefreshTokenEntity(i))r.refreshTokens[n]=i;else if(ur.isAppMetadataEntity(n,i))r.appMetadata[n]=i;else continue}return r}inMemoryCacheToCache(e){let r=this.getCache();return r=q(q(q(q(q(q({},r),e.accounts),e.idTokens),e.accessTokens),e.refreshTokens),e.appMetadata),r}getInMemoryCache(){return this.logger.trace("Getting in-memory cache"),this.cacheToInMemoryCache(this.getCache())}setInMemoryCache(e){this.logger.trace("Setting in-memory cache");let r=this.inMemoryCacheToCache(e);this.setCache(r),this.emitChange();}getCache(){return this.logger.trace("Getting cache key-value store"),this.cache}setCache(e){this.logger.trace("Setting cache key value store"),this.cache=e,this.emitChange();}getItem(e){return this.logger.tracePii(`Item key: ${e}`),this.getCache()[e]}setItem(e,r){this.logger.tracePii(`Item key: ${e}`);let n=this.getCache();n[e]=r,this.setCache(n);}getAccountKeys(){let e=this.getInMemoryCache();return Object.keys(e.accounts)}getTokenKeys(){let e=this.getInMemoryCache();return {idToken:Object.keys(e.idTokens),accessToken:Object.keys(e.accessTokens),refreshToken:Object.keys(e.refreshTokens)}}getAccount(e){let r=this.getCachedAccountEntity(e);return r&&Cr.isAccountEntity(r)?this.updateOutdatedCachedAccount(e,r):null}getCachedAccountEntity(e){return this.getItem(e)?Object.assign(new Cr,this.getItem(e)):null}setAccount(e){let r=e.generateAccountKey();this.setItem(r,e);}getIdTokenCredential(e){let r=this.getItem(e);return ur.isIdTokenEntity(r)?r:null}setIdTokenCredential(e){let r=ur.generateCredentialKey(e);this.setItem(r,e);}getAccessTokenCredential(e){let r=this.getItem(e);return ur.isAccessTokenEntity(r)?r:null}setAccessTokenCredential(e){let r=ur.generateCredentialKey(e);this.setItem(r,e);}getRefreshTokenCredential(e){let r=this.getItem(e);return ur.isRefreshTokenEntity(r)?r:null}setRefreshTokenCredential(e){let r=ur.generateCredentialKey(e);this.setItem(r,e);}getAppMetadata(e){let r=this.getItem(e);return ur.isAppMetadataEntity(e,r)?r:null}setAppMetadata(e){let r=ur.generateAppMetadataKey(e);this.setItem(r,e);}getServerTelemetry(e){let r=this.getItem(e);return r&&ur.isServerTelemetryEntity(e,r)?r:null}setServerTelemetry(e,r){this.setItem(e,r);}getAuthorityMetadata(e){let r=this.getItem(e);return r&&ur.isAuthorityMetadataEntity(e,r)?r:null}getAuthorityMetadataKeys(){return this.getKeys().filter(e=>this.isAuthorityMetadata(e))}setAuthorityMetadata(e,r){this.setItem(e,r);}getThrottlingCache(e){let r=this.getItem(e);return r&&ur.isThrottlingEntity(e,r)?r:null}setThrottlingCache(e,r){this.setItem(e,r);}removeItem(e){this.logger.tracePii(`Item key: ${e}`);let r=!1,n=this.getCache();return n[e]&&(delete n[e],r=!0),r&&(this.setCache(n),this.emitChange()),r}removeOutdatedAccount(e){this.removeItem(e);}containsKey(e){return this.getKeys().includes(e)}getKeys(){this.logger.trace("Retrieving all cache keys");let e=this.getCache();return [...Object.keys(e)]}clear(){return L(this,null,function*(){this.logger.trace("Clearing cache entries created by MSAL"),this.getKeys().forEach(r=>{this.removeItem(r);}),this.emitChange();})}static generateInMemoryCache(e){return Do.deserializeAllCache(Do.deserializeJSONBlob(e))}static generateJsonCache(e){return Da.serializeAllCache(e)}updateCredentialCacheKey(e,r){let n=ur.generateCredentialKey(r);if(e!==n){let i=this.getItem(e);if(i)return this.removeItem(e),this.setItem(n,i),this.logger.verbose(`Updated an outdated ${r.credentialType} cache key`),n;this.logger.error(`Attempted to update an outdated ${r.credentialType} cache key but no item matching the outdated key was found in storage`);}return e}};y();p();h();m();var Md={Account:{},IdToken:{},AccessToken:{},RefreshToken:{},AppMetadata:{}},Ud=class{constructor(e,r,n){this.cacheHasChanged=!1,this.storage=e,this.storage.registerChangeEmitter(this.handleChangeEvent.bind(this)),n&&(this.persistence=n),this.logger=r;}hasChanged(){return this.cacheHasChanged}serialize(){this.logger.trace("Serializing in-memory cache");let e=Da.serializeAllCache(this.storage.getInMemoryCache());return this.cacheSnapshot?(this.logger.trace("Reading cache snapshot from disk"),e=this.mergeState(JSON.parse(this.cacheSnapshot),e)):this.logger.trace("No cache snapshot to merge"),this.cacheHasChanged=!1,JSON.stringify(e)}deserialize(e){if(this.logger.trace("Deserializing JSON to in-memory cache"),this.cacheSnapshot=e,this.cacheSnapshot){this.logger.trace("Reading cache snapshot from disk");let r=Do.deserializeAllCache(this.overlayDefaults(JSON.parse(this.cacheSnapshot)));this.storage.setInMemoryCache(r);}else this.logger.trace("No cache snapshot to deserialize");}getKVStore(){return this.storage.getCache()}getAllAccounts(){return L(this,null,function*(){this.logger.trace("getAllAccounts called");let e;try{return this.persistence&&(e=new Ci(this,!0),yield this.persistence.beforeCacheAccess(e)),this.storage.getAllAccounts()}finally{this.persistence&&e&&(yield this.persistence.afterCacheAccess(e));}})}getAccountByHomeId(e){return L(this,null,function*(){let r=yield this.getAllAccounts();return e&&r&&r.length&&r.filter(n=>n.homeAccountId===e)[0]||null})}getAccountByLocalId(e){return L(this,null,function*(){let r=yield this.getAllAccounts();return e&&r&&r.length&&r.filter(n=>n.localAccountId===e)[0]||null})}removeAccount(e){return L(this,null,function*(){this.logger.trace("removeAccount called");let r;try{this.persistence&&(r=new Ci(this,!0),yield this.persistence.beforeCacheAccess(r)),yield this.storage.removeAccount(Cr.generateAccountCacheKey(e));}finally{this.persistence&&r&&(yield this.persistence.afterCacheAccess(r));}})}handleChangeEvent(){this.cacheHasChanged=!0;}mergeState(e,r){this.logger.trace("Merging in-memory cache with cache snapshot");let n=this.mergeRemovals(e,r);return this.mergeUpdates(n,r)}mergeUpdates(e,r){return Object.keys(r).forEach(n=>{let i=r[n];if(!e.hasOwnProperty(n))i!==null&&(e[n]=i);else {let o=i!==null,a=typeof i=="object",s=!Array.isArray(i),u=typeof e[n]!="undefined"&&e[n]!==null;o&&a&&s&&u?this.mergeUpdates(e[n],i):e[n]=i;}}),e}mergeRemovals(e,r){this.logger.trace("Remove updated entries in cache");let n=e.Account?this.mergeRemovalsDict(e.Account,r.Account):e.Account,i=e.AccessToken?this.mergeRemovalsDict(e.AccessToken,r.AccessToken):e.AccessToken,o=e.RefreshToken?this.mergeRemovalsDict(e.RefreshToken,r.RefreshToken):e.RefreshToken,a=e.IdToken?this.mergeRemovalsDict(e.IdToken,r.IdToken):e.IdToken,s=e.AppMetadata?this.mergeRemovalsDict(e.AppMetadata,r.AppMetadata):e.AppMetadata;return ae(q({},e),{Account:n,AccessToken:i,RefreshToken:o,IdToken:a,AppMetadata:s})}mergeRemovalsDict(e,r){let n=q({},e);return Object.keys(e).forEach(i=>{(!r||!r.hasOwnProperty(i))&&delete n[i];}),n}overlayDefaults(e){return this.logger.trace("Overlaying input cache with the default cache"),{Account:q(q({},Md.Account),e.Account),IdToken:q(q({},Md.IdToken),e.IdToken),AccessToken:q(q({},Md.AccessToken),e.AccessToken),RefreshToken:q(q({},Md.RefreshToken),e.RefreshToken),AppMetadata:q(q({},Md.AppMetadata),e.AppMetadata)}}};y();p();h();m();var ck=Ar(Wl(),1);var jo=class t{static fromAssertion(e){let r=new t;return r.jwt=e,r}static fromCertificate(e,r,n){let i=new t;return i.privateKey=r,i.thumbprint=e,i.useSha256=!1,n&&(i.publicCertificate=this.parseCertificate(n)),i}static fromCertificateWithSha256Thumbprint(e,r,n){let i=new t;return i.privateKey=r,i.thumbprint=e,i.useSha256=!0,n&&(i.publicCertificate=this.parseCertificate(n)),i}getJwt(e,r,n){if(this.privateKey&&this.thumbprint)return this.jwt&&!this.isExpired()&&r===this.issuer&&n===this.jwtAudience?this.jwt:this.createJwt(e,r,n);if(this.jwt)return this.jwt;throw se(tr.invalidAssertion)}createJwt(e,r,n){this.issuer=r,this.jwtAudience=n;let i=yr.nowSeconds();this.expirationTime=i+600;let a={alg:this.useSha256?xn.PSS_256:xn.RSA_256},s=this.useSha256?xn.X5T_256:xn.X5T;Object.assign(a,{[s]:on.base64EncodeUrl(this.thumbprint,"hex")}),this.publicCertificate&&Object.assign(a,{[xn.X5C]:this.publicCertificate});let u={[xn.AUDIENCE]:this.jwtAudience,[xn.EXPIRATION_TIME]:this.expirationTime,[xn.ISSUER]:this.issuer,[xn.SUBJECT]:this.issuer,[xn.NOT_BEFORE]:i,[xn.JWT_ID]:e.createNewGuid()};return this.jwt=ck.default.sign(u,this.privateKey,{header:a}),this.jwt}isExpired(){return this.expirationTime<yr.nowSeconds()}static parseCertificate(e){let r=new RegExp("-----BEGIN CERTIFICATE-----\\r*\\n(.+?)\\r*\\n-----END CERTIFICATE-----","gs"),n=[],i;for(;(i=r.exec(e))!==null;)n.push(i[1].replace(/\r*\n/g,ee.EMPTY_STRING));return n}};y();p();h();m();var Hm="@azure/msal-node",Es="2.13.1";y();p();h();m();var Bd=class extends Dr{constructor(e){super(e);}acquireToken(e){return L(this,null,function*(){this.logger.info("in acquireToken call in username-password client");let r=yr.nowSeconds(),n=yield this.executeTokenRequest(this.authority,e),i=new ir(this.config.authOptions.clientId,this.cacheManager,this.cryptoUtils,this.logger,this.config.serializableCache,this.config.persistencePlugin);return i.validateTokenResponse(n.body),i.handleServerTokenResponse(n.body,this.authority,r,e)})}executeTokenRequest(e,r){return L(this,null,function*(){let n=this.createTokenQueryParameters(r),i=pt.appendQueryString(e.tokenEndpoint,n),o=yield this.createTokenRequestBody(r),a=this.createTokenRequestHeaders({credential:r.username,type:Br.UPN}),s={clientId:this.config.authOptions.clientId,authority:e.canonicalAuthority,scopes:r.scopes,claims:r.claims,authenticationScheme:r.authenticationScheme,resourceRequestMethod:r.resourceRequestMethod,resourceRequestUri:r.resourceRequestUri,shrClaims:r.shrClaims,sshKid:r.sshKid};return this.executePostToTokenEndpoint(i,o,a,s,r.correlationId)})}createTokenRequestBody(e){return L(this,null,function*(){let r=new nr;r.addClientId(this.config.authOptions.clientId),r.addUsername(e.username),r.addPassword(e.password),r.addScopes(e.scopes),r.addResponseTypeForTokenAndIdToken(),r.addGrantType(Vn.RESOURCE_OWNER_PASSWORD_GRANT),r.addClientInfo(),r.addLibraryInfo(this.config.libraryInfo),r.addApplicationTelemetry(this.config.telemetry.application),r.addThrottling(),this.serverTelemetryManager&&r.addServerTelemetry(this.serverTelemetryManager);let n=e.correlationId||this.config.cryptoInterface.createNewGuid();r.addCorrelationId(n),this.config.clientCredentials.clientSecret&&r.addClientSecret(this.config.clientCredentials.clientSecret);let i=this.config.clientCredentials.clientAssertion;return i&&(r.addClientAssertion(yield Ur(i.assertion,this.config.authOptions.clientId,e.resourceRequestUri)),r.addClientAssertionType(i.assertionType)),(!$t.isEmptyObj(e.claims)||this.config.authOptions.clientCapabilities&&this.config.authOptions.clientCapabilities.length>0)&&r.addClaims(e.claims,this.config.authOptions.clientCapabilities),this.config.systemOptions.preventCorsPreflight&&e.username&&r.addCcsUpn(e.username),r.createQueryString()})}};var sl=class{constructor(e){this.config=yS(e),this.cryptoProvider=new gs,this.logger=new Kn(this.config.system.loggerOptions,Hm,Es),this.storage=new vs(this.logger,this.config.auth.clientId,this.cryptoProvider,bC(this.config.auth)),this.tokenCache=new Ud(this.storage,this.logger,this.config.cache.cachePlugin);}getAuthCodeUrl(e){return L(this,null,function*(){this.logger.info("getAuthCodeUrl called",e.correlationId);let r=ae(q(q({},e),yield this.initializeBaseRequest(e)),{responseMode:e.responseMode||Yu.QUERY,authenticationScheme:lt.BEARER}),n=yield this.buildOauthClientConfiguration(r.authority,r.correlationId,void 0,void 0,e.azureCloudOptions),i=new rl(n);return this.logger.verbose("Auth code client created",r.correlationId),i.getAuthCodeUrl(r)})}acquireTokenByCode(e,r){return L(this,null,function*(){this.logger.info("acquireTokenByCode called"),e.state&&r&&(this.logger.info("acquireTokenByCode - validating state"),this.validateState(e.state,r.state||""),r=ae(q({},r),{state:""}));let n=ae(q(q({},e),yield this.initializeBaseRequest(e)),{authenticationScheme:lt.BEARER}),i=this.initializeServerTelemetryManager(Fo.acquireTokenByCode,n.correlationId);try{let o=yield this.buildOauthClientConfiguration(n.authority,n.correlationId,i,void 0,e.azureCloudOptions),a=new rl(o);return this.logger.verbose("Auth code client created",n.correlationId),yield a.acquireToken(n,r)}catch(o){throw o instanceof Et&&o.setCorrelationId(n.correlationId),i.cacheFailedRequest(o),o}})}acquireTokenByRefreshToken(e){return L(this,null,function*(){this.logger.info("acquireTokenByRefreshToken called",e.correlationId);let r=ae(q(q({},e),yield this.initializeBaseRequest(e)),{authenticationScheme:lt.BEARER}),n=this.initializeServerTelemetryManager(Fo.acquireTokenByRefreshToken,r.correlationId);try{let i=yield this.buildOauthClientConfiguration(r.authority,r.correlationId,n,void 0,e.azureCloudOptions),o=new Bo(i);return this.logger.verbose("Refresh token client created",r.correlationId),yield o.acquireToken(r)}catch(i){throw i instanceof Et&&i.setCorrelationId(r.correlationId),n.cacheFailedRequest(i),i}})}acquireTokenSilent(e){return L(this,null,function*(){let r=ae(q(q({},e),yield this.initializeBaseRequest(e)),{forceRefresh:e.forceRefresh||!1}),n=this.initializeServerTelemetryManager(Fo.acquireTokenSilent,r.correlationId,r.forceRefresh);try{let i=yield this.buildOauthClientConfiguration(r.authority,r.correlationId,n,void 0,e.azureCloudOptions),o=new xd(i);return this.logger.verbose("Silent flow client created",r.correlationId),yield o.acquireToken(r)}catch(i){throw i instanceof Et&&i.setCorrelationId(r.correlationId),n.cacheFailedRequest(i),i}})}acquireTokenByUsernamePassword(e){return L(this,null,function*(){this.logger.info("acquireTokenByUsernamePassword called",e.correlationId);let r=q(q({},e),yield this.initializeBaseRequest(e)),n=this.initializeServerTelemetryManager(Fo.acquireTokenByUsernamePassword,r.correlationId);try{let i=yield this.buildOauthClientConfiguration(r.authority,r.correlationId,n,void 0,e.azureCloudOptions),o=new Bd(i);return this.logger.verbose("Username password client created",r.correlationId),yield o.acquireToken(r)}catch(i){throw i instanceof Et&&i.setCorrelationId(r.correlationId),n.cacheFailedRequest(i),i}})}getTokenCache(){return this.logger.info("getTokenCache called"),this.tokenCache}validateState(e,r){if(!e)throw qo.createStateNotFoundError();if(e!==r)throw se(tr.stateMismatch)}getLogger(){return this.logger}setLogger(e){this.logger=e;}buildOauthClientConfiguration(e,r,n,i,o){return L(this,null,function*(){this.logger.verbose("buildOauthClientConfiguration called",r);let a=o||this.config.auth.azureCloudOptions,s=yield this.createAuthority(e,r,i,a);return this.logger.info(`Building oauth client configuration with the following authority: ${s.tokenEndpoint}.`,r),n==null||n.updateRegionDiscoveryMetadata(s.regionDiscoveryMetadata),{authOptions:{clientId:this.config.auth.clientId,authority:s,clientCapabilities:this.config.auth.clientCapabilities},loggerOptions:{logLevel:this.config.system.loggerOptions.logLevel,loggerCallback:this.config.system.loggerOptions.loggerCallback,piiLoggingEnabled:this.config.system.loggerOptions.piiLoggingEnabled,correlationId:r},cacheOptions:{claimsBasedCachingEnabled:this.config.cache.claimsBasedCachingEnabled},cryptoInterface:this.cryptoProvider,networkInterface:this.config.system.networkClient,storageInterface:this.storage,serverTelemetryManager:n,clientCredentials:{clientSecret:this.clientSecret,clientAssertion:yield this.getClientAssertion(s)},libraryInfo:{sku:Ti.MSAL_SKU,version:Es,cpu:A.arch||ee.EMPTY_STRING,os:A.platform||ee.EMPTY_STRING},telemetry:this.config.telemetry,persistencePlugin:this.config.cache.cachePlugin,serializableCache:this.tokenCache}})}getClientAssertion(e){return L(this,null,function*(){return this.developerProvidedClientAssertion&&(this.clientAssertion=jo.fromAssertion(yield Ur(this.developerProvidedClientAssertion,this.config.auth.clientId,e.tokenEndpoint))),this.clientAssertion&&{assertion:this.clientAssertion.getJwt(this.cryptoProvider,this.config.auth.clientId,e.tokenEndpoint),assertionType:Ti.JWT_BEARER_ASSERTION_TYPE}})}initializeBaseRequest(e){return L(this,null,function*(){return this.logger.verbose("initializeRequestScopes called",e.correlationId),e.authenticationScheme&&e.authenticationScheme===lt.POP&&this.logger.verbose("Authentication Scheme 'pop' is not supported yet, setting Authentication Scheme to 'Bearer' for request",e.correlationId),e.authenticationScheme=lt.BEARER,this.config.cache.claimsBasedCachingEnabled&&e.claims&&!$t.isEmptyObj(e.claims)&&(e.requestedClaimsHash=yield this.cryptoProvider.hashString(e.claims)),ae(q({},e),{scopes:[...e&&e.scopes||[],...yi],correlationId:e&&e.correlationId||this.cryptoProvider.createNewGuid(),authority:e.authority||this.config.auth.authority})})}initializeServerTelemetryManager(e,r,n){let i={clientId:this.config.auth.clientId,correlationId:r,apiId:e,forceRefresh:n||!1};return new kd(i,this.storage)}createAuthority(e,r,n,i){return L(this,null,function*(){this.logger.verbose("createAuthority called",r);let o=Wn.generateAuthority(e,i),a={protocolMode:this.config.auth.protocolMode,knownAuthorities:this.config.auth.knownAuthorities,cloudDiscoveryMetadata:this.config.auth.cloudDiscoveryMetadata,authorityMetadata:this.config.auth.authorityMetadata,azureRegionConfiguration:n,skipAuthorityMetadataCache:this.config.auth.skipAuthorityMetadataCache};return um.createDiscoveredInstance(o,this.config.system.networkClient,this.storage,a,this.logger,r)})}clearCache(){this.storage.clear();}};y();p();h();m();Ar(hc(),1);y();p();h();m();y();p();h();m();y();p();h();m();var Cs=class extends Dr{constructor(e,r){super(e),this.appTokenProvider=r;}acquireToken(e){return L(this,null,function*(){if(e.skipCache||e.claims)return this.executeTokenRequest(e,this.authority);let[r,n]=yield this.getCachedAuthenticationResult(e,this.config,this.cryptoUtils,this.authority,this.cacheManager,this.serverTelemetryManager);return r?(n===kt.PROACTIVELY_REFRESHED&&(this.logger.info("ClientCredentialClient:getCachedAuthenticationResult - Cached access token's refreshOn property has been exceeded'. It's not expired, but must be refreshed."),yield this.executeTokenRequest(e,this.authority,!0)),r):this.executeTokenRequest(e,this.authority)})}getCachedAuthenticationResult(e,r,n,i,o,a){return L(this,null,function*(){var C,S;let s=r,u=r,d=kt.NOT_APPLICABLE,f;s.serializableCache&&s.persistencePlugin&&(f=new Ci(s.serializableCache,!1),yield s.persistencePlugin.beforeCacheAccess(f));let g=this.readAccessTokenFromCache(i,((C=u.managedIdentityId)==null?void 0:C.id)||s.authOptions.clientId,new rr(e.scopes||[]),o);return s.serializableCache&&s.persistencePlugin&&f&&(yield s.persistencePlugin.afterCacheAccess(f)),g?yr.isTokenExpired(g.expiresOn,((S=s.systemOptions)==null?void 0:S.tokenRenewalOffsetSeconds)||Qu)?(a==null||a.setCacheOutcome(kt.CACHED_ACCESS_TOKEN_EXPIRED),[null,kt.CACHED_ACCESS_TOKEN_EXPIRED]):(g.refreshOn&&yr.isTokenExpired(g.refreshOn.toString(),0)&&(d=kt.PROACTIVELY_REFRESHED,a==null||a.setCacheOutcome(kt.PROACTIVELY_REFRESHED)),[yield ir.generateAuthenticationResult(n,i,{account:null,idToken:null,accessToken:g,refreshToken:null,appMetadata:null},!0,e),d]):(a==null||a.setCacheOutcome(kt.NO_CACHED_ACCESS_TOKEN),[null,kt.NO_CACHED_ACCESS_TOKEN])})}readAccessTokenFromCache(e,r,n,i){let o={homeAccountId:ee.EMPTY_STRING,environment:e.canonicalAuthorityUrlComponents.HostNameAndPort,credentialType:vt.ACCESS_TOKEN,clientId:r,realm:e.tenant,target:rr.createSearchScopes(n.asArray())},a=i.getAccessTokensByFilter(o);if(a.length<1)return null;if(a.length>1)throw se(tr.multipleMatchingTokens);return a[0]}executeTokenRequest(e,r,n){return L(this,null,function*(){let i,o;if(this.appTokenProvider){this.logger.info("Using appTokenProvider extensibility.");let u={correlationId:e.correlationId,tenantId:this.config.authOptions.authority.tenant,scopes:e.scopes,claims:e.claims};o=yr.nowSeconds();let d=yield this.appTokenProvider(u);i={access_token:d.accessToken,expires_in:d.expiresInSeconds,refresh_in:d.refreshInSeconds,token_type:lt.BEARER};}else {let u=this.createTokenQueryParameters(e),d=pt.appendQueryString(r.tokenEndpoint,u),f=yield this.createTokenRequestBody(e),g=this.createTokenRequestHeaders(),C={clientId:this.config.authOptions.clientId,authority:e.authority,scopes:e.scopes,claims:e.claims,authenticationScheme:e.authenticationScheme,resourceRequestMethod:e.resourceRequestMethod,resourceRequestUri:e.resourceRequestUri,shrClaims:e.shrClaims,sshKid:e.sshKid};this.logger.info("Sending token request to endpoint: "+r.tokenEndpoint),o=yr.nowSeconds();let S=yield this.executePostToTokenEndpoint(d,f,g,C,e.correlationId);i=S.body,i.status=S.status;}let a=new ir(this.config.authOptions.clientId,this.cacheManager,this.cryptoUtils,this.logger,this.config.serializableCache,this.config.persistencePlugin);return a.validateTokenResponse(i,n),yield a.handleServerTokenResponse(i,this.authority,o,e)})}createTokenRequestBody(e){return L(this,null,function*(){let r=new nr;r.addClientId(this.config.authOptions.clientId),r.addScopes(e.scopes,!1),r.addGrantType(Vn.CLIENT_CREDENTIALS_GRANT),r.addLibraryInfo(this.config.libraryInfo),r.addApplicationTelemetry(this.config.telemetry.application),r.addThrottling(),this.serverTelemetryManager&&r.addServerTelemetry(this.serverTelemetryManager);let n=e.correlationId||this.config.cryptoInterface.createNewGuid();r.addCorrelationId(n),this.config.clientCredentials.clientSecret&&r.addClientSecret(this.config.clientCredentials.clientSecret);let i=e.clientAssertion||this.config.clientCredentials.clientAssertion;return i&&(r.addClientAssertion(yield Ur(i.assertion,this.config.authOptions.clientId,e.resourceRequestUri)),r.addClientAssertionType(i.assertionType)),(!$t.isEmptyObj(e.claims)||this.config.authOptions.clientCapabilities&&this.config.authOptions.clientCapabilities.length>0)&&r.addClaims(e.claims,this.config.authOptions.clientCapabilities),r.createQueryString()})}};y();p();h();m();var Dd=class extends Dr{constructor(e){super(e);}acquireToken(e){return L(this,null,function*(){if(this.scopeSet=new rr(e.scopes||[]),this.userAssertionHash=yield this.cryptoUtils.hashString(e.oboAssertion),e.skipCache||e.claims)return this.executeTokenRequest(e,this.authority,this.userAssertionHash);try{return yield this.getCachedAuthenticationResult(e)}catch(r){return yield this.executeTokenRequest(e,this.authority,this.userAssertionHash)}})}getCachedAuthenticationResult(e){return L(this,null,function*(){var a,s;let r=this.readAccessTokenFromCacheForOBO(this.config.authOptions.clientId,e);if(r){if(yr.isTokenExpired(r.expiresOn,this.config.systemOptions.tokenRenewalOffsetSeconds))throw (s=this.serverTelemetryManager)==null||s.setCacheOutcome(kt.CACHED_ACCESS_TOKEN_EXPIRED),this.logger.info(`OnbehalfofFlow:getCachedAuthenticationResult - Cached access token is expired or will expire within ${this.config.systemOptions.tokenRenewalOffsetSeconds} seconds.`),se(tr.tokenRefreshRequired)}else throw (a=this.serverTelemetryManager)==null||a.setCacheOutcome(kt.NO_CACHED_ACCESS_TOKEN),this.logger.info("SilentFlowClient:acquireCachedToken - No access token found in cache for the given properties."),se(tr.tokenRefreshRequired);let n=this.readIdTokenFromCacheForOBO(r.homeAccountId),i,o=null;if(n){i=nm.extractTokenClaims(n.secret,on.base64Decode);let u=i.oid||i.sub,d={homeAccountId:n.homeAccountId,environment:n.environment,tenantId:n.realm,username:ee.EMPTY_STRING,localAccountId:u||ee.EMPTY_STRING};o=this.cacheManager.readAccountFromCache(d);}return this.config.serverTelemetryManager&&this.config.serverTelemetryManager.incrementCacheHits(),ir.generateAuthenticationResult(this.cryptoUtils,this.authority,{account:o,accessToken:r,idToken:n,refreshToken:null,appMetadata:null},!0,e,i)})}readIdTokenFromCacheForOBO(e){let r={homeAccountId:e,environment:this.authority.canonicalAuthorityUrlComponents.HostNameAndPort,credentialType:vt.ID_TOKEN,clientId:this.config.authOptions.clientId,realm:this.authority.tenant},n=this.cacheManager.getIdTokensByFilter(r);return Object.values(n).length<1?null:Object.values(n)[0]}readAccessTokenFromCacheForOBO(e,r){let n=r.authenticationScheme||lt.BEARER,o={credentialType:n&&n.toLowerCase()!==lt.BEARER.toLowerCase()?vt.ACCESS_TOKEN_WITH_AUTH_SCHEME:vt.ACCESS_TOKEN,clientId:e,target:rr.createSearchScopes(this.scopeSet.asArray()),tokenType:n,keyId:r.sshKid,requestedClaimsHash:r.requestedClaimsHash,userAssertionHash:this.userAssertionHash},a=this.cacheManager.getAccessTokensByFilter(o),s=a.length;if(s<1)return null;if(s>1)throw se(tr.multipleMatchingTokens);return a[0]}executeTokenRequest(e,r,n){return L(this,null,function*(){let i=this.createTokenQueryParameters(e),o=pt.appendQueryString(r.tokenEndpoint,i),a=yield this.createTokenRequestBody(e),s=this.createTokenRequestHeaders(),u={clientId:this.config.authOptions.clientId,authority:e.authority,scopes:e.scopes,claims:e.claims,authenticationScheme:e.authenticationScheme,resourceRequestMethod:e.resourceRequestMethod,resourceRequestUri:e.resourceRequestUri,shrClaims:e.shrClaims,sshKid:e.sshKid},d=yr.nowSeconds(),f=yield this.executePostToTokenEndpoint(o,a,s,u,e.correlationId),g=new ir(this.config.authOptions.clientId,this.cacheManager,this.cryptoUtils,this.logger,this.config.serializableCache,this.config.persistencePlugin);return g.validateTokenResponse(f.body),yield g.handleServerTokenResponse(f.body,this.authority,d,e,void 0,n)})}createTokenRequestBody(e){return L(this,null,function*(){let r=new nr;r.addClientId(this.config.authOptions.clientId),r.addScopes(e.scopes),r.addGrantType(Vn.JWT_BEARER),r.addClientInfo(),r.addLibraryInfo(this.config.libraryInfo),r.addApplicationTelemetry(this.config.telemetry.application),r.addThrottling(),this.serverTelemetryManager&&r.addServerTelemetry(this.serverTelemetryManager);let n=e.correlationId||this.config.cryptoInterface.createNewGuid();r.addCorrelationId(n),r.addRequestTokenUse(mm.ON_BEHALF_OF),r.addOboAssertion(e.oboAssertion),this.config.clientCredentials.clientSecret&&r.addClientSecret(this.config.clientCredentials.clientSecret);let i=this.config.clientCredentials.clientAssertion;return i&&(r.addClientAssertion(yield Ur(i.assertion,this.config.authOptions.clientId,e.resourceRequestUri)),r.addClientAssertionType(i.assertionType)),(e.claims||this.config.authOptions.clientCapabilities&&this.config.authOptions.clientCapabilities.length>0)&&r.addClaims(e.claims,this.config.authOptions.clientCapabilities),r.createQueryString()})}};var eo=class extends sl{constructor(e){super(e),this.setClientCredential(),this.appTokenProvider=void 0;}SetAppTokenProvider(e){this.appTokenProvider=e;}acquireTokenByClientCredential(e){return L(this,null,function*(){this.logger.info("acquireTokenByClientCredential called",e.correlationId);let r;e.clientAssertion&&(r={assertion:yield Ur(e.clientAssertion,this.config.auth.clientId),assertionType:Ti.JWT_BEARER_ASSERTION_TYPE});let n=yield this.initializeBaseRequest(e),i=ae(q({},n),{scopes:n.scopes.filter(f=>!yi.includes(f))}),o=ae(q(q({},e),i),{clientAssertion:r}),s=new pt(o.authority).getUrlComponents().PathSegments[0];if(Object.values(rn).includes(s))throw se(tr.missingTenantIdError);let u={azureRegion:o.azureRegion,environmentRegion:A.env[$x]},d=this.initializeServerTelemetryManager(Fo.acquireTokenByClientCredential,o.correlationId,o.skipCache);try{let f=yield this.buildOauthClientConfiguration(o.authority,o.correlationId,d,u,e.azureCloudOptions),g=new Cs(f,this.appTokenProvider);return this.logger.verbose("Client credential client created",o.correlationId),yield g.acquireToken(o)}catch(f){throw f instanceof Et&&f.setCorrelationId(o.correlationId),d.cacheFailedRequest(f),f}})}acquireTokenOnBehalfOf(e){return L(this,null,function*(){this.logger.info("acquireTokenOnBehalfOf called",e.correlationId);let r=q(q({},e),yield this.initializeBaseRequest(e));try{let n=yield this.buildOauthClientConfiguration(r.authority,r.correlationId,void 0,void 0,e.azureCloudOptions),i=new Dd(n);return this.logger.verbose("On behalf of client created",r.correlationId),yield i.acquireToken(r)}catch(n){throw n instanceof Et&&n.setCorrelationId(r.correlationId),n}})}setClientCredential(){var i,o,a;let e=!!this.config.auth.clientSecret,r=!!this.config.auth.clientAssertion,n=(!!((i=this.config.auth.clientCertificate)!=null&&i.thumbprint)||!!((o=this.config.auth.clientCertificate)!=null&&o.thumbprintSha256))&&!!((a=this.config.auth.clientCertificate)!=null&&a.privateKey);if(!this.appTokenProvider){if(e&&r||r&&n||e&&n)throw se(tr.invalidClientCredential);if(this.config.auth.clientSecret){this.clientSecret=this.config.auth.clientSecret;return}if(this.config.auth.clientAssertion){this.developerProvidedClientAssertion=this.config.auth.clientAssertion;return}if(n)this.clientAssertion=this.config.auth.clientCertificate.thumbprintSha256?jo.fromCertificateWithSha256Thumbprint(this.config.auth.clientCertificate.thumbprintSha256,this.config.auth.clientCertificate.privateKey,this.config.auth.clientCertificate.x5c):jo.fromCertificate(this.config.auth.clientCertificate.thumbprint,this.config.auth.clientCertificate.privateKey,this.config.auth.clientCertificate.x5c);else throw se(tr.invalidClientCredential)}}};y();p();h();m();y();p();h();m();y();p();h();m();y();p();h();m();var ES={MANAGED_IDENTITY_CLIENT_ID:"client_id",MANAGED_IDENTITY_OBJECT_ID:"object_id",MANAGED_IDENTITY_RESOURCE_ID:"mi_res_id"},an=class{constructor(e,r,n,i){this.logger=e,this.nodeStorage=r,this.networkClient=n,this.cryptoProvider=i;}getServerTokenResponseAsync(e,r,n,i){return L(this,null,function*(){return this.getServerTokenResponse(e)})}getServerTokenResponse(e){var o,a;let r,n;return e.body.expires_on&&(n=e.body.expires_on-yr.nowSeconds(),n>2*3600&&(r=n/2)),{status:e.status,access_token:e.body.access_token,expires_in:n,scope:e.body.resource,token_type:e.body.token_type,refresh_in:r,correlation_id:e.body.correlation_id||e.body.correlationId,error:typeof e.body.error=="string"?e.body.error:(o=e.body.error)==null?void 0:o.code,error_description:e.body.message||(typeof e.body.error=="string"?e.body.error_description:(a=e.body.error)==null?void 0:a.message),error_codes:e.body.error_codes,timestamp:e.body.timestamp,trace_id:e.body.trace_id}}acquireTokenWithManagedIdentity(e,r,n,i){return L(this,null,function*(){let o=this.createRequest(e.resource,r),a=o.headers;a[er.CONTENT_TYPE]=ee.URL_FORM_CONTENT_TYPE;let s={headers:a};Object.keys(o.bodyParameters).length&&(s.body=o.computeParametersBodyString());let u=yr.nowSeconds(),d;try{o.httpMethod===Ft.POST?d=yield this.networkClient.sendPostRequestAsync(o.computeUri(),s):d=yield this.networkClient.sendGetRequestAsync(o.computeUri(),s);}catch(C){throw C instanceof Et?C:se(tr.networkError)}let f=new ir(r.id,this.nodeStorage,this.cryptoProvider,this.logger,null,null),g=yield this.getServerTokenResponseAsync(d,this.networkClient,o,s);return f.validateTokenResponse(g,i),f.handleServerTokenResponse(g,n,u,e)})}getManagedIdentityUserAssignedIdQueryParameterKey(e){switch(e){case or.USER_ASSIGNED_CLIENT_ID:return this.logger.info("[Managed Identity] Adding user assigned client id to the request."),ES.MANAGED_IDENTITY_CLIENT_ID;case or.USER_ASSIGNED_RESOURCE_ID:return this.logger.info("[Managed Identity] Adding user assigned resource id to the request."),ES.MANAGED_IDENTITY_RESOURCE_ID;case or.USER_ASSIGNED_OBJECT_ID:return this.logger.info("[Managed Identity] Adding user assigned object id to the request."),ES.MANAGED_IDENTITY_OBJECT_ID;default:throw Zt(zo)}}};an.getValidatedEnvVariableUrlString=(t,e,r,n)=>{try{return new pt(e).urlString}catch(i){throw n.info(`[Managed Identity] ${r} managed identity is unavailable because the '${t}' environment variable is malformed.`),Zt(ys[t])}};y();p();h();m();var kn=class{constructor(e,r){this.httpMethod=e,this._baseEndpoint=r,this.headers={},this.bodyParameters={},this.queryParameters={};}computeUri(){let e=new nr;this.queryParameters&&e.addExtraQueryParameters(this.queryParameters);let r=e.createQueryString();return pt.appendQueryString(this._baseEndpoint,r)}computeParametersBodyString(){let e=new nr;return this.bodyParameters&&e.addExtraQueryParameters(this.bodyParameters),e.createQueryString()}};var oV="2019-08-01",Ld=class t extends an{constructor(e,r,n,i,o,a){super(e,r,n,i),this.identityEndpoint=o,this.identityHeader=a;}static getEnvironmentVariables(){let e=A.env[tt.IDENTITY_ENDPOINT],r=A.env[tt.IDENTITY_HEADER];return [e,r]}static tryCreate(e,r,n,i){let[o,a]=t.getEnvironmentVariables();if(!o||!a)return e.info(`[Managed Identity] ${st.APP_SERVICE} managed identity is unavailable because one or both of the '${tt.IDENTITY_HEADER}' and '${tt.IDENTITY_ENDPOINT}' environment variables are not defined.`),null;let s=t.getValidatedEnvVariableUrlString(tt.IDENTITY_ENDPOINT,o,st.APP_SERVICE,e);return e.info(`[Managed Identity] Environment variables validation passed for ${st.APP_SERVICE} managed identity. Endpoint URI: ${s}. Creating ${st.APP_SERVICE} managed identity.`),new t(e,r,n,i,o,a)}createRequest(e,r){let n=new kn(Ft.GET,this.identityEndpoint);return n.headers[qx]=this.identityHeader,n.queryParameters[Lo]=oV,n.queryParameters[Si]=e,r.idType!==or.SYSTEM_ASSIGNED&&(n.queryParameters[this.getManagedIdentityUserAssignedIdQueryParameterKey(r.idType)]=r.id),n}};y();p();h();m();y();p();h();m();y();p();h();m();ia();Rl();lo();Aa();y();p();h();m();for(Ck={byteLength:function(t){var e=dk(t),r=e[0],n=e[1];return 3*(r+n)/4-n},toByteArray:function(t){var e,r,n=dk(t),i=n[0],o=n[1],a=new lk(function(d,f,g){return 3*(f+g)/4-g}(0,i,o)),s=0,u=o>0?i-4:i;for(r=0;r<u;r+=4)e=sn[t.charCodeAt(r)]<<18|sn[t.charCodeAt(r+1)]<<12|sn[t.charCodeAt(r+2)]<<6|sn[t.charCodeAt(r+3)],a[s++]=e>>16&255,a[s++]=e>>8&255,a[s++]=255&e;return o===2&&(e=sn[t.charCodeAt(r)]<<2|sn[t.charCodeAt(r+1)]>>4,a[s++]=255&e),o===1&&(e=sn[t.charCodeAt(r)]<<10|sn[t.charCodeAt(r+1)]<<4|sn[t.charCodeAt(r+2)]>>2,a[s++]=e>>8&255,a[s++]=255&e),a},fromByteArray:function(t){for(var e,r=t.length,n=r%3,i=[],o=0,a=r-n;o<a;o+=16383)i.push(aV(t,o,o+16383>a?a:o+16383));return n===1?(e=t[r-1],i.push(Yn[e>>2]+Yn[e<<4&63]+"==")):n===2&&(e=(t[r-2]<<8)+t[r-1],i.push(Yn[e>>10]+Yn[e>>4&63]+Yn[e<<2&63]+"=")),i.join("")}},Yn=[],sn=[],lk=typeof Uint8Array!="undefined"?Uint8Array:Array,$m="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Ss=0,uk=$m.length;Ss<uk;++Ss)Yn[Ss]=$m[Ss],sn[$m.charCodeAt(Ss)]=Ss;var Ck,Yn,sn,lk,$m,Ss,uk;function dk(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var r=t.indexOf("=");return r===-1&&(r=e),[r,r===e?0:4-r%4]}function aV(t,e,r){for(var n,i,o=[],a=e;a<r;a+=3)n=(t[a]<<16&16711680)+(t[a+1]<<8&65280)+(255&t[a+2]),o.push(Yn[(i=n)>>18&63]+Yn[i>>12&63]+Yn[i>>6&63]+Yn[63&i]);return o.join("")}sn[45]=62,sn[95]=63;var sV={read:function(t,e,r,n,i){var o,a,s=8*i-n-1,u=(1<<s)-1,d=u>>1,f=-7,g=r?i-1:0,C=r?-1:1,S=t[e+g];for(g+=C,o=S&(1<<-f)-1,S>>=-f,f+=s;f>0;o=256*o+t[e+g],g+=C,f-=8);for(a=o&(1<<-f)-1,o>>=-f,f+=n;f>0;a=256*a+t[e+g],g+=C,f-=8);if(o===0)o=1-d;else {if(o===u)return a?NaN:1/0*(S?-1:1);a+=Math.pow(2,n),o-=d;}return (S?-1:1)*a*Math.pow(2,o-n)},write:function(t,e,r,n,i,o){var a,s,u,d=8*o-i-1,f=(1<<d)-1,g=f>>1,C=i===23?Math.pow(2,-24)-Math.pow(2,-77):0,S=n?0:o-1,E=n?1:-1,T=e<0||e===0&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(s=isNaN(e)?1:0,a=f):(a=Math.floor(Math.log(e)/Math.LN2),e*(u=Math.pow(2,-a))<1&&(a--,u*=2),(e+=a+g>=1?C/u:C*Math.pow(2,1-g))*u>=2&&(a++,u/=2),a+g>=f?(s=0,a=f):a+g>=1?(s=(e*u-1)*Math.pow(2,i),a+=g):(s=e*Math.pow(2,g-1)*Math.pow(2,i),a=0));i>=8;t[r+S]=255&s,S+=E,s/=256,i-=8);for(a=a<<i|s,d+=i;d>0;t[r+S]=255&a,S+=E,a/=256,d-=8);t[r+S-E]|=128*T;}},no={},TS=Ck,cl=sV,fk=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;no.Buffer=me,no.SlowBuffer=function(t){return +t!=t&&(t=0),me.alloc(+t)},no.INSPECT_MAX_BYTES=50;function to(t){if(t>2147483647)throw new RangeError('The value "'+t+'" is invalid for option "size"');var e=new Uint8Array(t);return Object.setPrototypeOf(e,me.prototype),e}function me(t,e,r){if(typeof t=="number"){if(typeof e=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return wS(t)}return Sk(t,e,r)}function Sk(t,e,r){if(typeof t=="string")return function(o,a){if(typeof a=="string"&&a!==""||(a="utf8"),!me.isEncoding(a))throw new TypeError("Unknown encoding: "+a);var s=0|wk(o,a),u=to(s),d=u.write(o,a);return d!==s&&(u=u.slice(0,d)),u}(t,e);if(ArrayBuffer.isView(t))return CS(t);if(t==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t);if(ro(t,ArrayBuffer)||t&&ro(t.buffer,ArrayBuffer)||typeof SharedArrayBuffer!="undefined"&&(ro(t,SharedArrayBuffer)||t&&ro(t.buffer,SharedArrayBuffer)))return pk(t,e,r);if(typeof t=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');var n=t.valueOf&&t.valueOf();if(n!=null&&n!==t)return me.from(n,e,r);var i=function(o){if(me.isBuffer(o)){var a=0|RS(o.length),s=to(a);return s.length===0||o.copy(s,0,0,a),s}if(o.length!==void 0)return typeof o.length!="number"||_S(o.length)?to(0):CS(o);if(o.type==="Buffer"&&Array.isArray(o.data))return CS(o.data)}(t);if(i)return i;if(typeof Symbol!="undefined"&&Symbol.toPrimitive!=null&&typeof t[Symbol.toPrimitive]=="function")return me.from(t[Symbol.toPrimitive]("string"),e,r);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t)}function Tk(t){if(typeof t!="number")throw new TypeError('"size" argument must be of type number');if(t<0)throw new RangeError('The value "'+t+'" is invalid for option "size"')}function wS(t){return Tk(t),to(t<0?0:0|RS(t))}function CS(t){for(var e=t.length<0?0:0|RS(t.length),r=to(e),n=0;n<e;n+=1)r[n]=255&t[n];return r}function pk(t,e,r){if(e<0||t.byteLength<e)throw new RangeError('"offset" is outside of buffer bounds');if(t.byteLength<e+(r||0))throw new RangeError('"length" is outside of buffer bounds');var n;return n=e===void 0&&r===void 0?new Uint8Array(t):r===void 0?new Uint8Array(t,e):new Uint8Array(t,e,r),Object.setPrototypeOf(n,me.prototype),n}function RS(t){if(t>=2147483647)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x7fffffff bytes");return 0|t}function wk(t,e){if(me.isBuffer(t))return t.length;if(ArrayBuffer.isView(t)||ro(t,ArrayBuffer))return t.byteLength;if(typeof t!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof t);var r=t.length,n=arguments.length>2&&arguments[2]===!0;if(!n&&r===0)return 0;for(var i=!1;;)switch(e){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":return AS(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return _k(t).length;default:if(i)return n?-1:AS(t).length;e=(""+e).toLowerCase(),i=!0;}}function cV(t,e,r){var n=!1;if((e===void 0||e<0)&&(e=0),e>this.length||((r===void 0||r>this.length)&&(r=this.length),r<=0)||(r>>>=0)<=(e>>>=0))return "";for(t||(t="utf8");;)switch(t){case"hex":return gV(this,e,r);case"utf8":case"utf-8":return bk(this,e,r);case"ascii":return mV(this,e,r);case"latin1":case"binary":return yV(this,e,r);case"base64":return hV(this,e,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return vV(this,e,r);default:if(n)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),n=!0;}}function Ts(t,e,r){var n=t[e];t[e]=t[r],t[r]=n;}function hk(t,e,r,n,i){if(t.length===0)return -1;if(typeof r=="string"?(n=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),_S(r=+r)&&(r=i?0:t.length-1),r<0&&(r=t.length+r),r>=t.length){if(i)return -1;r=t.length-1;}else if(r<0){if(!i)return -1;r=0;}if(typeof e=="string"&&(e=me.from(e,n)),me.isBuffer(e))return e.length===0?-1:mk(t,e,r,n,i);if(typeof e=="number")return e&=255,typeof Uint8Array.prototype.indexOf=="function"?i?Uint8Array.prototype.indexOf.call(t,e,r):Uint8Array.prototype.lastIndexOf.call(t,e,r):mk(t,[e],r,n,i);throw new TypeError("val must be string, number or Buffer")}function mk(t,e,r,n,i){var o,a=1,s=t.length,u=e.length;if(n!==void 0&&((n=String(n).toLowerCase())==="ucs2"||n==="ucs-2"||n==="utf16le"||n==="utf-16le")){if(t.length<2||e.length<2)return -1;a=2,s/=2,u/=2,r/=2;}function d(S,E){return a===1?S[E]:S.readUInt16BE(E*a)}if(i){var f=-1;for(o=r;o<s;o++)if(d(t,o)===d(e,f===-1?0:o-f)){if(f===-1&&(f=o),o-f+1===u)return f*a}else f!==-1&&(o-=o-f),f=-1;}else for(r+u>s&&(r=s-u),o=r;o>=0;o--){for(var g=!0,C=0;C<u;C++)if(d(t,o+C)!==d(e,C)){g=!1;break}if(g)return o}return -1}function lV(t,e,r,n){r=Number(r)||0;var i=t.length-r;n?(n=Number(n))>i&&(n=i):n=i;var o=e.length;n>o/2&&(n=o/2);for(var a=0;a<n;++a){var s=parseInt(e.substr(2*a,2),16);if(_S(s))return a;t[r+a]=s;}return a}function uV(t,e,r,n){return Wm(AS(e,t.length-r),t,r,n)}function Ak(t,e,r,n){return Wm(function(i){for(var o=[],a=0;a<i.length;++a)o.push(255&i.charCodeAt(a));return o}(e),t,r,n)}function dV(t,e,r,n){return Ak(t,e,r,n)}function fV(t,e,r,n){return Wm(_k(e),t,r,n)}function pV(t,e,r,n){return Wm(function(i,o){for(var a,s,u,d=[],f=0;f<i.length&&!((o-=2)<0);++f)a=i.charCodeAt(f),s=a>>8,u=a%256,d.push(u),d.push(s);return d}(e,t.length-r),t,r,n)}function hV(t,e,r){return e===0&&r===t.length?TS.fromByteArray(t):TS.fromByteArray(t.slice(e,r))}function bk(t,e,r){r=Math.min(t.length,r);for(var n=[],i=e;i<r;){var o,a,s,u,d=t[i],f=null,g=d>239?4:d>223?3:d>191?2:1;if(i+g<=r)switch(g){case 1:d<128&&(f=d);break;case 2:(192&(o=t[i+1]))==128&&(u=(31&d)<<6|63&o)>127&&(f=u);break;case 3:o=t[i+1],a=t[i+2],(192&o)==128&&(192&a)==128&&(u=(15&d)<<12|(63&o)<<6|63&a)>2047&&(u<55296||u>57343)&&(f=u);break;case 4:o=t[i+1],a=t[i+2],s=t[i+3],(192&o)==128&&(192&a)==128&&(192&s)==128&&(u=(15&d)<<18|(63&o)<<12|(63&a)<<6|63&s)>65535&&u<1114112&&(f=u);}f===null?(f=65533,g=1):f>65535&&(f-=65536,n.push(f>>>10&1023|55296),f=56320|1023&f),n.push(f),i+=g;}return function(C){var S=C.length;if(S<=4096)return String.fromCharCode.apply(String,C);for(var E="",T=0;T<S;)E+=String.fromCharCode.apply(String,C.slice(T,T+=4096));return E}(n)}no.kMaxLength=2147483647,me.TYPED_ARRAY_SUPPORT=function(){try{var t=new Uint8Array(1),e={foo:function(){return 42}};return Object.setPrototypeOf(e,Uint8Array.prototype),Object.setPrototypeOf(t,e),t.foo()===42}catch(r){return !1}}(),me.TYPED_ARRAY_SUPPORT||typeof console=="undefined"||typeof console.error!="function"||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(me.prototype,"parent",{enumerable:!0,get:function(){if(me.isBuffer(this))return this.buffer}}),Object.defineProperty(me.prototype,"offset",{enumerable:!0,get:function(){if(me.isBuffer(this))return this.byteOffset}}),me.poolSize=8192,me.from=function(t,e,r){return Sk(t,e,r)},Object.setPrototypeOf(me.prototype,Uint8Array.prototype),Object.setPrototypeOf(me,Uint8Array),me.alloc=function(t,e,r){return function(n,i,o){return Tk(n),n<=0?to(n):i!==void 0?typeof o=="string"?to(n).fill(i,o):to(n).fill(i):to(n)}(t,e,r)},me.allocUnsafe=function(t){return wS(t)},me.allocUnsafeSlow=function(t){return wS(t)},me.isBuffer=function(t){return t!=null&&t._isBuffer===!0&&t!==me.prototype},me.compare=function(t,e){if(ro(t,Uint8Array)&&(t=me.from(t,t.offset,t.byteLength)),ro(e,Uint8Array)&&(e=me.from(e,e.offset,e.byteLength)),!me.isBuffer(t)||!me.isBuffer(e))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(t===e)return 0;for(var r=t.length,n=e.length,i=0,o=Math.min(r,n);i<o;++i)if(t[i]!==e[i]){r=t[i],n=e[i];break}return r<n?-1:n<r?1:0},me.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return !0;default:return !1}},me.concat=function(t,e){if(!Array.isArray(t))throw new TypeError('"list" argument must be an Array of Buffers');if(t.length===0)return me.alloc(0);var r;if(e===void 0)for(e=0,r=0;r<t.length;++r)e+=t[r].length;var n=me.allocUnsafe(e),i=0;for(r=0;r<t.length;++r){var o=t[r];if(ro(o,Uint8Array)&&(o=me.from(o)),!me.isBuffer(o))throw new TypeError('"list" argument must be an Array of Buffers');o.copy(n,i),i+=o.length;}return n},me.byteLength=wk,me.prototype._isBuffer=!0,me.prototype.swap16=function(){var t=this.length;if(t%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var e=0;e<t;e+=2)Ts(this,e,e+1);return this},me.prototype.swap32=function(){var t=this.length;if(t%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var e=0;e<t;e+=4)Ts(this,e,e+3),Ts(this,e+1,e+2);return this},me.prototype.swap64=function(){var t=this.length;if(t%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var e=0;e<t;e+=8)Ts(this,e,e+7),Ts(this,e+1,e+6),Ts(this,e+2,e+5),Ts(this,e+3,e+4);return this},me.prototype.toString=function(){var t=this.length;return t===0?"":arguments.length===0?bk(this,0,t):cV.apply(this,arguments)},me.prototype.toLocaleString=me.prototype.toString,me.prototype.equals=function(t){if(!me.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t||me.compare(this,t)===0},me.prototype.inspect=function(){var t="",e=no.INSPECT_MAX_BYTES;return t=this.toString("hex",0,e).replace(/(.{2})/g,"$1 ").trim(),this.length>e&&(t+=" ... "),"<Buffer "+t+">"},fk&&(me.prototype[fk]=me.prototype.inspect),me.prototype.compare=function(t,e,r,n,i){if(ro(t,Uint8Array)&&(t=me.from(t,t.offset,t.byteLength)),!me.isBuffer(t))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof t);if(e===void 0&&(e=0),r===void 0&&(r=t?t.length:0),n===void 0&&(n=0),i===void 0&&(i=this.length),e<0||r>t.length||n<0||i>this.length)throw new RangeError("out of range index");if(n>=i&&e>=r)return 0;if(n>=i)return -1;if(e>=r)return 1;if(this===t)return 0;for(var o=(i>>>=0)-(n>>>=0),a=(r>>>=0)-(e>>>=0),s=Math.min(o,a),u=this.slice(n,i),d=t.slice(e,r),f=0;f<s;++f)if(u[f]!==d[f]){o=u[f],a=d[f];break}return o<a?-1:a<o?1:0},me.prototype.includes=function(t,e,r){return this.indexOf(t,e,r)!==-1},me.prototype.indexOf=function(t,e,r){return hk(this,t,e,r,!0)},me.prototype.lastIndexOf=function(t,e,r){return hk(this,t,e,r,!1)},me.prototype.write=function(t,e,r,n){if(e===void 0)n="utf8",r=this.length,e=0;else if(r===void 0&&typeof e=="string")n=e,r=this.length,e=0;else {if(!isFinite(e))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");e>>>=0,isFinite(r)?(r>>>=0,n===void 0&&(n="utf8")):(n=r,r=void 0);}var i=this.length-e;if((r===void 0||r>i)&&(r=i),t.length>0&&(r<0||e<0)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");for(var o=!1;;)switch(n){case"hex":return lV(this,t,e,r);case"utf8":case"utf-8":return uV(this,t,e,r);case"ascii":return Ak(this,t,e,r);case"latin1":case"binary":return dV(this,t,e,r);case"base64":return fV(this,t,e,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return pV(this,t,e,r);default:if(o)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),o=!0;}},me.prototype.toJSON=function(){return {type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function mV(t,e,r){var n="";r=Math.min(t.length,r);for(var i=e;i<r;++i)n+=String.fromCharCode(127&t[i]);return n}function yV(t,e,r){var n="";r=Math.min(t.length,r);for(var i=e;i<r;++i)n+=String.fromCharCode(t[i]);return n}function gV(t,e,r){var n=t.length;(!e||e<0)&&(e=0),(!r||r<0||r>n)&&(r=n);for(var i="",o=e;o<r;++o)i+=CV[t[o]];return i}function vV(t,e,r){for(var n=t.slice(e,r),i="",o=0;o<n.length;o+=2)i+=String.fromCharCode(n[o]+256*n[o+1]);return i}function gr(t,e,r){if(t%1!=0||t<0)throw new RangeError("offset is not uint");if(t+e>r)throw new RangeError("Trying to access beyond buffer length")}function $r(t,e,r,n,i,o){if(!me.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>i||e<o)throw new RangeError('"value" argument is out of bounds');if(r+n>t.length)throw new RangeError("Index out of range")}function Rk(t,e,r,n,i,o){if(r+n>t.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function yk(t,e,r,n,i){return e=+e,r>>>=0,i||Rk(t,0,r,4),cl.write(t,e,r,n,23,4),r+4}function gk(t,e,r,n,i){return e=+e,r>>>=0,i||Rk(t,0,r,8),cl.write(t,e,r,n,52,8),r+8}me.prototype.slice=function(t,e){var r=this.length;(t=~~t)<0?(t+=r)<0&&(t=0):t>r&&(t=r),(e=e===void 0?r:~~e)<0?(e+=r)<0&&(e=0):e>r&&(e=r),e<t&&(e=t);var n=this.subarray(t,e);return Object.setPrototypeOf(n,me.prototype),n},me.prototype.readUIntLE=function(t,e,r){t>>>=0,e>>>=0,r||gr(t,e,this.length);for(var n=this[t],i=1,o=0;++o<e&&(i*=256);)n+=this[t+o]*i;return n},me.prototype.readUIntBE=function(t,e,r){t>>>=0,e>>>=0,r||gr(t,e,this.length);for(var n=this[t+--e],i=1;e>0&&(i*=256);)n+=this[t+--e]*i;return n},me.prototype.readUInt8=function(t,e){return t>>>=0,e||gr(t,1,this.length),this[t]},me.prototype.readUInt16LE=function(t,e){return t>>>=0,e||gr(t,2,this.length),this[t]|this[t+1]<<8},me.prototype.readUInt16BE=function(t,e){return t>>>=0,e||gr(t,2,this.length),this[t]<<8|this[t+1]},me.prototype.readUInt32LE=function(t,e){return t>>>=0,e||gr(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},me.prototype.readUInt32BE=function(t,e){return t>>>=0,e||gr(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},me.prototype.readIntLE=function(t,e,r){t>>>=0,e>>>=0,r||gr(t,e,this.length);for(var n=this[t],i=1,o=0;++o<e&&(i*=256);)n+=this[t+o]*i;return n>=(i*=128)&&(n-=Math.pow(2,8*e)),n},me.prototype.readIntBE=function(t,e,r){t>>>=0,e>>>=0,r||gr(t,e,this.length);for(var n=e,i=1,o=this[t+--n];n>0&&(i*=256);)o+=this[t+--n]*i;return o>=(i*=128)&&(o-=Math.pow(2,8*e)),o},me.prototype.readInt8=function(t,e){return t>>>=0,e||gr(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},me.prototype.readInt16LE=function(t,e){t>>>=0,e||gr(t,2,this.length);var r=this[t]|this[t+1]<<8;return 32768&r?4294901760|r:r},me.prototype.readInt16BE=function(t,e){t>>>=0,e||gr(t,2,this.length);var r=this[t+1]|this[t]<<8;return 32768&r?4294901760|r:r},me.prototype.readInt32LE=function(t,e){return t>>>=0,e||gr(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},me.prototype.readInt32BE=function(t,e){return t>>>=0,e||gr(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},me.prototype.readFloatLE=function(t,e){return t>>>=0,e||gr(t,4,this.length),cl.read(this,t,!0,23,4)},me.prototype.readFloatBE=function(t,e){return t>>>=0,e||gr(t,4,this.length),cl.read(this,t,!1,23,4)},me.prototype.readDoubleLE=function(t,e){return t>>>=0,e||gr(t,8,this.length),cl.read(this,t,!0,52,8)},me.prototype.readDoubleBE=function(t,e){return t>>>=0,e||gr(t,8,this.length),cl.read(this,t,!1,52,8)},me.prototype.writeUIntLE=function(t,e,r,n){t=+t,e>>>=0,r>>>=0,n||$r(this,t,e,r,Math.pow(2,8*r)-1,0);var i=1,o=0;for(this[e]=255&t;++o<r&&(i*=256);)this[e+o]=t/i&255;return e+r},me.prototype.writeUIntBE=function(t,e,r,n){t=+t,e>>>=0,r>>>=0,n||$r(this,t,e,r,Math.pow(2,8*r)-1,0);var i=r-1,o=1;for(this[e+i]=255&t;--i>=0&&(o*=256);)this[e+i]=t/o&255;return e+r},me.prototype.writeUInt8=function(t,e,r){return t=+t,e>>>=0,r||$r(this,t,e,1,255,0),this[e]=255&t,e+1},me.prototype.writeUInt16LE=function(t,e,r){return t=+t,e>>>=0,r||$r(this,t,e,2,65535,0),this[e]=255&t,this[e+1]=t>>>8,e+2},me.prototype.writeUInt16BE=function(t,e,r){return t=+t,e>>>=0,r||$r(this,t,e,2,65535,0),this[e]=t>>>8,this[e+1]=255&t,e+2},me.prototype.writeUInt32LE=function(t,e,r){return t=+t,e>>>=0,r||$r(this,t,e,4,4294967295,0),this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=255&t,e+4},me.prototype.writeUInt32BE=function(t,e,r){return t=+t,e>>>=0,r||$r(this,t,e,4,4294967295,0),this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t,e+4},me.prototype.writeIntLE=function(t,e,r,n){if(t=+t,e>>>=0,!n){var i=Math.pow(2,8*r-1);$r(this,t,e,r,i-1,-i);}var o=0,a=1,s=0;for(this[e]=255&t;++o<r&&(a*=256);)t<0&&s===0&&this[e+o-1]!==0&&(s=1),this[e+o]=(t/a>>0)-s&255;return e+r},me.prototype.writeIntBE=function(t,e,r,n){if(t=+t,e>>>=0,!n){var i=Math.pow(2,8*r-1);$r(this,t,e,r,i-1,-i);}var o=r-1,a=1,s=0;for(this[e+o]=255&t;--o>=0&&(a*=256);)t<0&&s===0&&this[e+o+1]!==0&&(s=1),this[e+o]=(t/a>>0)-s&255;return e+r},me.prototype.writeInt8=function(t,e,r){return t=+t,e>>>=0,r||$r(this,t,e,1,127,-128),t<0&&(t=255+t+1),this[e]=255&t,e+1},me.prototype.writeInt16LE=function(t,e,r){return t=+t,e>>>=0,r||$r(this,t,e,2,32767,-32768),this[e]=255&t,this[e+1]=t>>>8,e+2},me.prototype.writeInt16BE=function(t,e,r){return t=+t,e>>>=0,r||$r(this,t,e,2,32767,-32768),this[e]=t>>>8,this[e+1]=255&t,e+2},me.prototype.writeInt32LE=function(t,e,r){return t=+t,e>>>=0,r||$r(this,t,e,4,2147483647,-2147483648),this[e]=255&t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24,e+4},me.prototype.writeInt32BE=function(t,e,r){return t=+t,e>>>=0,r||$r(this,t,e,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t,e+4},me.prototype.writeFloatLE=function(t,e,r){return yk(this,t,e,!0,r)},me.prototype.writeFloatBE=function(t,e,r){return yk(this,t,e,!1,r)},me.prototype.writeDoubleLE=function(t,e,r){return gk(this,t,e,!0,r)},me.prototype.writeDoubleBE=function(t,e,r){return gk(this,t,e,!1,r)},me.prototype.copy=function(t,e,r,n){if(!me.isBuffer(t))throw new TypeError("argument should be a Buffer");if(r||(r=0),n||n===0||(n=this.length),e>=t.length&&(e=t.length),e||(e=0),n>0&&n<r&&(n=r),n===r||t.length===0||this.length===0)return 0;if(e<0)throw new RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),t.length-e<n-r&&(n=t.length-e+r);var i=n-r;if(this===t&&typeof Uint8Array.prototype.copyWithin=="function")this.copyWithin(e,r,n);else if(this===t&&r<e&&e<n)for(var o=i-1;o>=0;--o)t[o+e]=this[o+r];else Uint8Array.prototype.set.call(t,this.subarray(r,n),e);return i},me.prototype.fill=function(t,e,r,n){if(typeof t=="string"){if(typeof e=="string"?(n=e,e=0,r=this.length):typeof r=="string"&&(n=r,r=this.length),n!==void 0&&typeof n!="string")throw new TypeError("encoding must be a string");if(typeof n=="string"&&!me.isEncoding(n))throw new TypeError("Unknown encoding: "+n);if(t.length===1){var i=t.charCodeAt(0);(n==="utf8"&&i<128||n==="latin1")&&(t=i);}}else typeof t=="number"?t&=255:typeof t=="boolean"&&(t=Number(t));if(e<0||this.length<e||this.length<r)throw new RangeError("Out of range index");if(r<=e)return this;var o;if(e>>>=0,r=r===void 0?this.length:r>>>0,t||(t=0),typeof t=="number")for(o=e;o<r;++o)this[o]=t;else {var a=me.isBuffer(t)?t:me.from(t,n),s=a.length;if(s===0)throw new TypeError('The value "'+t+'" is invalid for argument "value"');for(o=0;o<r-e;++o)this[o+e]=a[o%s];}return this};var EV=/[^+/0-9A-Za-z-_]/g;function AS(t,e){var r;e=e||1/0;for(var n=t.length,i=null,o=[],a=0;a<n;++a){if((r=t.charCodeAt(a))>55295&&r<57344){if(!i){if(r>56319){(e-=3)>-1&&o.push(239,191,189);continue}if(a+1===n){(e-=3)>-1&&o.push(239,191,189);continue}i=r;continue}if(r<56320){(e-=3)>-1&&o.push(239,191,189),i=r;continue}r=65536+(i-55296<<10|r-56320);}else i&&(e-=3)>-1&&o.push(239,191,189);if(i=null,r<128){if((e-=1)<0)break;o.push(r);}else if(r<2048){if((e-=2)<0)break;o.push(r>>6|192,63&r|128);}else if(r<65536){if((e-=3)<0)break;o.push(r>>12|224,r>>6&63|128,63&r|128);}else {if(!(r<1114112))throw new Error("Invalid code point");if((e-=4)<0)break;o.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128);}}return o}function _k(t){return TS.toByteArray(function(e){if((e=(e=e.split("=")[0]).trim().replace(EV,"")).length<2)return "";for(;e.length%4!=0;)e+="=";return e}(t))}function Wm(t,e,r,n){for(var i=0;i<n&&!(i+r>=e.length||i>=t.length);++i)e[i+r]=t[i];return i}function ro(t,e){return t instanceof e||t!=null&&t.constructor!=null&&t.constructor.name!=null&&t.constructor.name===e.name}function _S(t){return t!=t}var CV=function(){for(var t=new Array(256),e=0;e<16;++e)for(var r=16*e,n=0;n<16;++n)t[r+n]="0123456789abcdef"[e]+"0123456789abcdef"[n];return t}();no.Buffer;no.INSPECT_MAX_BYTES;no.kMaxLength;var Vm={},Gm=no,wi=Gm.Buffer;function vk(t,e){for(var r in t)e[r]=t[r];}function ws(t,e,r){return wi(t,e,r)}wi.from&&wi.alloc&&wi.allocUnsafe&&wi.allocUnsafeSlow?Vm=Gm:(vk(Gm,Vm),Vm.Buffer=ws),ws.prototype=Object.create(wi.prototype),vk(wi,ws),ws.from=function(t,e,r){if(typeof t=="number")throw new TypeError("Argument must not be a number");return wi(t,e,r)},ws.alloc=function(t,e,r){if(typeof t!="number")throw new TypeError("Argument must be a number");var n=wi(t);return e!==void 0?typeof r=="string"?n.fill(e,r):n.fill(e):n.fill(0),n},ws.allocUnsafe=function(t){if(typeof t!="number")throw new TypeError("Argument must be a number");return wi(t)},ws.allocUnsafeSlow=function(t){if(typeof t!="number")throw new TypeError("Argument must be a number");return Gm.SlowBuffer(t)};var SV=Vm,ll={},bS=SV.Buffer,Ek=bS.isEncoding||function(t){switch((t=""+t)&&t.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return !0;default:return !1}};function Fd(t){var e;switch(this.encoding=function(r){var n=function(i){if(!i)return "utf8";for(var o;;)switch(i){case"utf8":case"utf-8":return "utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return "utf16le";case"latin1":case"binary":return "latin1";case"base64":case"ascii":case"hex":return i;default:if(o)return;i=(""+i).toLowerCase(),o=!0;}}(r);if(typeof n!="string"&&(bS.isEncoding===Ek||!Ek(r)))throw new Error("Unknown encoding: "+r);return n||r}(t),this.encoding){case"utf16le":this.text=wV,this.end=AV,e=4;break;case"utf8":this.fillLast=TV,e=4;break;case"base64":this.text=bV,this.end=RV,e=3;break;default:return this.write=_V,this.end=IV,void 0}this.lastNeed=0,this.lastTotal=0,this.lastChar=bS.allocUnsafe(e);}function SS(t){return t<=127?0:t>>5==6?2:t>>4==14?3:t>>3==30?4:t>>6==2?-1:-2}function TV(t){var e=this.lastTotal-this.lastNeed,r=function(n,i,o){if((192&i[0])!=128)return n.lastNeed=0,"\uFFFD";if(n.lastNeed>1&&i.length>1){if((192&i[1])!=128)return n.lastNeed=1,"\uFFFD";if(n.lastNeed>2&&i.length>2&&(192&i[2])!=128)return n.lastNeed=2,"\uFFFD"}}(this,t);return r!==void 0?r:this.lastNeed<=t.length?(t.copy(this.lastChar,e,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(t.copy(this.lastChar,e,0,t.length),this.lastNeed-=t.length,void 0)}function wV(t,e){if((t.length-e)%2==0){var r=t.toString("utf16le",e);if(r){var n=r.charCodeAt(r.length-1);if(n>=55296&&n<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1],r.slice(0,-1)}return r}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=t[t.length-1],t.toString("utf16le",e,t.length-1)}function AV(t){var e=t&&t.length?this.write(t):"";if(this.lastNeed){var r=this.lastTotal-this.lastNeed;return e+this.lastChar.toString("utf16le",0,r)}return e}function bV(t,e){var r=(t.length-e)%3;return r===0?t.toString("base64",e):(this.lastNeed=3-r,this.lastTotal=3,r===1?this.lastChar[0]=t[t.length-1]:(this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1]),t.toString("base64",e,t.length-r))}function RV(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+this.lastChar.toString("base64",0,3-this.lastNeed):e}function _V(t){return t.toString(this.encoding)}function IV(t){return t&&t.length?this.write(t):""}ll.StringDecoder=Fd,Fd.prototype.write=function(t){if(t.length===0)return "";var e,r;if(this.lastNeed){if((e=this.fillLast(t))===void 0)return "";r=this.lastNeed,this.lastNeed=0;}else r=0;return r<t.length?e?e+this.text(t,r):this.text(t,r):e||""},Fd.prototype.end=function(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+"\uFFFD":e},Fd.prototype.text=function(t,e){var r=function(i,o,a){var s=o.length-1;if(s<a)return 0;var u=SS(o[s]);return u>=0?(u>0&&(i.lastNeed=u-1),u):--s<a||u===-2?0:(u=SS(o[s]))>=0?(u>0&&(i.lastNeed=u-2),u):--s<a||u===-2?0:(u=SS(o[s]))>=0?(u>0&&(u===2?u=0:i.lastNeed=u-3),u):0}(this,t,e);if(!this.lastNeed)return t.toString("utf8",e);this.lastTotal=r;var n=t.length-(r-this.lastNeed);return t.copy(this.lastChar,0,n),t.toString("utf8",e,n)},Fd.prototype.fillLast=function(t){if(this.lastNeed<=t.length)return t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,t.length),this.lastNeed-=t.length;};var zd={},Ik=!1;function NV(){if(Ik)return zd;Ik=!0,zd.byteLength=s,zd.toByteArray=d,zd.fromByteArray=C;for(var t=[],e=[],r=typeof Uint8Array!="undefined"?Uint8Array:Array,n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",i=0,o=n.length;i<o;++i)t[i]=n[i],e[n.charCodeAt(i)]=i;e[45]=62,e[95]=63;function a(S){var E=S.length;if(E%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var T=S.indexOf("=");T===-1&&(T=E);var _=T===E?0:4-T%4;return [T,_]}function s(S){var E=a(S),T=E[0],_=E[1];return (T+_)*3/4-_}function u(S,E,T){return (E+T)*3/4-T}function d(S){var E,T=a(S),_=T[0],P=T[1],M=new r(u(S,_,P)),D=0,V=P>0?_-4:_,Y;for(Y=0;Y<V;Y+=4)E=e[S.charCodeAt(Y)]<<18|e[S.charCodeAt(Y+1)]<<12|e[S.charCodeAt(Y+2)]<<6|e[S.charCodeAt(Y+3)],M[D++]=E>>16&255,M[D++]=E>>8&255,M[D++]=E&255;return P===2&&(E=e[S.charCodeAt(Y)]<<2|e[S.charCodeAt(Y+1)]>>4,M[D++]=E&255),P===1&&(E=e[S.charCodeAt(Y)]<<10|e[S.charCodeAt(Y+1)]<<4|e[S.charCodeAt(Y+2)]>>2,M[D++]=E>>8&255,M[D++]=E&255),M}function f(S){return t[S>>18&63]+t[S>>12&63]+t[S>>6&63]+t[S&63]}function g(S,E,T){for(var _,P=[],M=E;M<T;M+=3)_=(S[M]<<16&16711680)+(S[M+1]<<8&65280)+(S[M+2]&255),P.push(f(_));return P.join("")}function C(S){for(var E,T=S.length,_=T%3,P=[],M=16383,D=0,V=T-_;D<V;D+=M)P.push(g(S,D,D+M>V?V:D+M));return _===1?(E=S[T-1],P.push(t[E>>2]+t[E<<4&63]+"==")):_===2&&(E=(S[T-2]<<8)+S[T-1],P.push(t[E>>10]+t[E>>4&63]+t[E<<2&63]+"=")),P.join("")}return zd}var Km={},Nk=!1;function OV(){if(Nk)return Km;Nk=!0;return Km.read=function(t,e,r,n,i){var o,a,s=i*8-n-1,u=(1<<s)-1,d=u>>1,f=-7,g=r?i-1:0,C=r?-1:1,S=t[e+g];for(g+=C,o=S&(1<<-f)-1,S>>=-f,f+=s;f>0;o=o*256+t[e+g],g+=C,f-=8);for(a=o&(1<<-f)-1,o>>=-f,f+=n;f>0;a=a*256+t[e+g],g+=C,f-=8);if(o===0)o=1-d;else {if(o===u)return a?NaN:(S?-1:1)*(1/0);a=a+Math.pow(2,n),o=o-d;}return (S?-1:1)*a*Math.pow(2,o-n)},Km.write=function(t,e,r,n,i,o){var a,s,u,d=o*8-i-1,f=(1<<d)-1,g=f>>1,C=i===23?Math.pow(2,-24)-Math.pow(2,-77):0,S=n?0:o-1,E=n?1:-1,T=e<0||e===0&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(s=isNaN(e)?1:0,a=f):(a=Math.floor(Math.log(e)/Math.LN2),e*(u=Math.pow(2,-a))<1&&(a--,u*=2),a+g>=1?e+=C/u:e+=C*Math.pow(2,1-g),e*u>=2&&(a++,u/=2),a+g>=f?(s=0,a=f):a+g>=1?(s=(e*u-1)*Math.pow(2,i),a=a+g):(s=e*Math.pow(2,g-1)*Math.pow(2,i),a=0));i>=8;t[r+S]=s&255,S+=E,s/=256,i-=8);for(a=a<<i|s,d+=i;d>0;t[r+S]=a&255,S+=E,a/=256,d-=8);t[r+S-E]|=T*128;},Km}var As={},Ok=!1;function xV(){if(Ok)return As;Ok=!0;let t=NV(),e=OV(),r=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;As.Buffer=a,As.SlowBuffer=P,As.INSPECT_MAX_BYTES=50;let n=2147483647;As.kMaxLength=n,a.TYPED_ARRAY_SUPPORT=i(),!a.TYPED_ARRAY_SUPPORT&&typeof console!="undefined"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function i(){try{let v=new Uint8Array(1),c={foo:function(){return 42}};return Object.setPrototypeOf(c,Uint8Array.prototype),Object.setPrototypeOf(v,c),v.foo()===42}catch(v){return !1}}Object.defineProperty(a.prototype,"parent",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.buffer}}),Object.defineProperty(a.prototype,"offset",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.byteOffset}});function o(v){if(v>n)throw new RangeError('The value "'+v+'" is invalid for option "size"');let c=new Uint8Array(v);return Object.setPrototypeOf(c,a.prototype),c}function a(v,c,l){if(typeof v=="number"){if(typeof c=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return f(v)}return s(v,c,l)}a.poolSize=8192;function s(v,c,l){if(typeof v=="string")return g(v,c);if(ArrayBuffer.isView(v))return S(v);if(v==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof v);if(rt(v,ArrayBuffer)||v&&rt(v.buffer,ArrayBuffer)||typeof SharedArrayBuffer!="undefined"&&(rt(v,SharedArrayBuffer)||v&&rt(v.buffer,SharedArrayBuffer)))return E(v,c,l);if(typeof v=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');let w=v.valueOf&&v.valueOf();if(w!=null&&w!==v)return a.from(w,c,l);let x=T(v);if(x)return x;if(typeof Symbol!="undefined"&&Symbol.toPrimitive!=null&&typeof v[Symbol.toPrimitive]=="function")return a.from(v[Symbol.toPrimitive]("string"),c,l);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof v)}a.from=function(v,c,l){return s(v,c,l)},Object.setPrototypeOf(a.prototype,Uint8Array.prototype),Object.setPrototypeOf(a,Uint8Array);function u(v){if(typeof v!="number")throw new TypeError('"size" argument must be of type number');if(v<0)throw new RangeError('The value "'+v+'" is invalid for option "size"')}function d(v,c,l){return u(v),v<=0?o(v):c!==void 0?typeof l=="string"?o(v).fill(c,l):o(v).fill(c):o(v)}a.alloc=function(v,c,l){return d(v,c,l)};function f(v){return u(v),o(v<0?0:_(v)|0)}a.allocUnsafe=function(v){return f(v)},a.allocUnsafeSlow=function(v){return f(v)};function g(v,c){if((typeof c!="string"||c==="")&&(c="utf8"),!a.isEncoding(c))throw new TypeError("Unknown encoding: "+c);let l=M(v,c)|0,w=o(l),x=w.write(v,c);return x!==l&&(w=w.slice(0,x)),w}function C(v){let c=v.length<0?0:_(v.length)|0,l=o(c);for(let w=0;w<c;w+=1)l[w]=v[w]&255;return l}function S(v){if(rt(v,Uint8Array)){let c=new Uint8Array(v);return E(c.buffer,c.byteOffset,c.byteLength)}return C(v)}function E(v,c,l){if(c<0||v.byteLength<c)throw new RangeError('"offset" is outside of buffer bounds');if(v.byteLength<c+(l||0))throw new RangeError('"length" is outside of buffer bounds');let w;return c===void 0&&l===void 0?w=new Uint8Array(v):l===void 0?w=new Uint8Array(v,c):w=new Uint8Array(v,c,l),Object.setPrototypeOf(w,a.prototype),w}function T(v){if(a.isBuffer(v)){let c=_(v.length)|0,l=o(c);return l.length===0||v.copy(l,0,0,c),l}if(v.length!==void 0)return typeof v.length!="number"||Ir(v.length)?o(0):C(v);if(v.type==="Buffer"&&Array.isArray(v.data))return C(v.data)}function _(v){if(v>=n)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+n.toString(16)+" bytes");return v|0}function P(v){return +v!=v&&(v=0),a.alloc(+v)}a.isBuffer=function(c){return c!=null&&c._isBuffer===!0&&c!==a.prototype},a.compare=function(c,l){if(rt(c,Uint8Array)&&(c=a.from(c,c.offset,c.byteLength)),rt(l,Uint8Array)&&(l=a.from(l,l.offset,l.byteLength)),!a.isBuffer(c)||!a.isBuffer(l))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(c===l)return 0;let w=c.length,x=l.length;for(let B=0,j=Math.min(w,x);B<j;++B)if(c[B]!==l[B]){w=c[B],x=l[B];break}return w<x?-1:x<w?1:0},a.isEncoding=function(c){switch(String(c).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return !0;default:return !1}},a.concat=function(c,l){if(!Array.isArray(c))throw new TypeError('"list" argument must be an Array of Buffers');if(c.length===0)return a.alloc(0);let w;if(l===void 0)for(l=0,w=0;w<c.length;++w)l+=c[w].length;let x=a.allocUnsafe(l),B=0;for(w=0;w<c.length;++w){let j=c[w];if(rt(j,Uint8Array))B+j.length>x.length?(a.isBuffer(j)||(j=a.from(j)),j.copy(x,B)):Uint8Array.prototype.set.call(x,j,B);else if(a.isBuffer(j))j.copy(x,B);else throw new TypeError('"list" argument must be an Array of Buffers');B+=j.length;}return x};function M(v,c){if(a.isBuffer(v))return v.length;if(ArrayBuffer.isView(v)||rt(v,ArrayBuffer))return v.byteLength;if(typeof v!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof v);let l=v.length,w=arguments.length>2&&arguments[2]===!0;if(!w&&l===0)return 0;let x=!1;for(;;)switch(c){case"ascii":case"latin1":case"binary":return l;case"utf8":case"utf-8":return Oe(v).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return l*2;case"hex":return l>>>1;case"base64":return wr(v).length;default:if(x)return w?-1:Oe(v).length;c=(""+c).toLowerCase(),x=!0;}}a.byteLength=M;function D(v,c,l){let w=!1;if((c===void 0||c<0)&&(c=0),c>this.length||((l===void 0||l>this.length)&&(l=this.length),l<=0)||(l>>>=0,c>>>=0,l<=c))return "";for(v||(v="utf8");;)switch(v){case"hex":return W(this,c,l);case"utf8":case"utf-8":return Ae(this,c,l);case"ascii":return Se(this,c,l);case"latin1":case"binary":return te(this,c,l);case"base64":return X(this,c,l);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return ne(this,c,l);default:if(w)throw new TypeError("Unknown encoding: "+v);v=(v+"").toLowerCase(),w=!0;}}a.prototype._isBuffer=!0;function V(v,c,l){let w=v[c];v[c]=v[l],v[l]=w;}a.prototype.swap16=function(){let c=this.length;if(c%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let l=0;l<c;l+=2)V(this,l,l+1);return this},a.prototype.swap32=function(){let c=this.length;if(c%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let l=0;l<c;l+=4)V(this,l,l+3),V(this,l+1,l+2);return this},a.prototype.swap64=function(){let c=this.length;if(c%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let l=0;l<c;l+=8)V(this,l,l+7),V(this,l+1,l+6),V(this,l+2,l+5),V(this,l+3,l+4);return this},a.prototype.toString=function(){let c=this.length;return c===0?"":arguments.length===0?Ae(this,0,c):D.apply(this,arguments)},a.prototype.toLocaleString=a.prototype.toString,a.prototype.equals=function(c){if(!a.isBuffer(c))throw new TypeError("Argument must be a Buffer");return this===c?!0:a.compare(this,c)===0},a.prototype.inspect=function(){let c="",l=As.INSPECT_MAX_BYTES;return c=this.toString("hex",0,l).replace(/(.{2})/g,"$1 ").trim(),this.length>l&&(c+=" ... "),"<Buffer "+c+">"},r&&(a.prototype[r]=a.prototype.inspect),a.prototype.compare=function(c,l,w,x,B){if(rt(c,Uint8Array)&&(c=a.from(c,c.offset,c.byteLength)),!a.isBuffer(c))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof c);if(l===void 0&&(l=0),w===void 0&&(w=c?c.length:0),x===void 0&&(x=0),B===void 0&&(B=this.length),l<0||w>c.length||x<0||B>this.length)throw new RangeError("out of range index");if(x>=B&&l>=w)return 0;if(x>=B)return -1;if(l>=w)return 1;if(l>>>=0,w>>>=0,x>>>=0,B>>>=0,this===c)return 0;let j=B-x,be=w-l,Ge=Math.min(j,be),He=this.slice(x,B),We=c.slice(l,w);for(let Le=0;Le<Ge;++Le)if(He[Le]!==We[Le]){j=He[Le],be=We[Le];break}return j<be?-1:be<j?1:0};function Y(v,c,l,w,x){if(v.length===0)return -1;if(typeof l=="string"?(w=l,l=0):l>2147483647?l=2147483647:l<-2147483648&&(l=-2147483648),l=+l,Ir(l)&&(l=x?0:v.length-1),l<0&&(l=v.length+l),l>=v.length){if(x)return -1;l=v.length-1;}else if(l<0)if(x)l=0;else return -1;if(typeof c=="string"&&(c=a.from(c,w)),a.isBuffer(c))return c.length===0?-1:_e(v,c,l,w,x);if(typeof c=="number")return c=c&255,typeof Uint8Array.prototype.indexOf=="function"?x?Uint8Array.prototype.indexOf.call(v,c,l):Uint8Array.prototype.lastIndexOf.call(v,c,l):_e(v,[c],l,w,x);throw new TypeError("val must be string, number or Buffer")}function _e(v,c,l,w,x){let B=1,j=v.length,be=c.length;if(w!==void 0&&(w=String(w).toLowerCase(),w==="ucs2"||w==="ucs-2"||w==="utf16le"||w==="utf-16le")){if(v.length<2||c.length<2)return -1;B=2,j/=2,be/=2,l/=2;}function Ge(We,Le){return B===1?We[Le]:We.readUInt16BE(Le*B)}let He;if(x){let We=-1;for(He=l;He<j;He++)if(Ge(v,He)===Ge(c,We===-1?0:He-We)){if(We===-1&&(We=He),He-We+1===be)return We*B}else We!==-1&&(He-=He-We),We=-1;}else for(l+be>j&&(l=j-be),He=l;He>=0;He--){let We=!0;for(let Le=0;Le<be;Le++)if(Ge(v,He+Le)!==Ge(c,Le)){We=!1;break}if(We)return He}return -1}a.prototype.includes=function(c,l,w){return this.indexOf(c,l,w)!==-1},a.prototype.indexOf=function(c,l,w){return Y(this,c,l,w,!0)},a.prototype.lastIndexOf=function(c,l,w){return Y(this,c,l,w,!1)};function ue(v,c,l,w){l=Number(l)||0;let x=v.length-l;w?(w=Number(w),w>x&&(w=x)):w=x;let B=c.length;w>B/2&&(w=B/2);let j;for(j=0;j<w;++j){let be=parseInt(c.substr(j*2,2),16);if(Ir(be))return j;v[l+j]=be;}return j}function le(v,c,l,w){return Vt(Oe(c,v.length-l),v,l,w)}function fe(v,c,l,w){return Vt(Ve(c),v,l,w)}function ve(v,c,l,w){return Vt(wr(c),v,l,w)}function H(v,c,l,w){return Vt(it(c,v.length-l),v,l,w)}a.prototype.write=function(c,l,w,x){if(l===void 0)x="utf8",w=this.length,l=0;else if(w===void 0&&typeof l=="string")x=l,w=this.length,l=0;else if(isFinite(l))l=l>>>0,isFinite(w)?(w=w>>>0,x===void 0&&(x="utf8")):(x=w,w=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");let B=this.length-l;if((w===void 0||w>B)&&(w=B),c.length>0&&(w<0||l<0)||l>this.length)throw new RangeError("Attempt to write outside buffer bounds");x||(x="utf8");let j=!1;for(;;)switch(x){case"hex":return ue(this,c,l,w);case"utf8":case"utf-8":return le(this,c,l,w);case"ascii":case"latin1":case"binary":return fe(this,c,l,w);case"base64":return ve(this,c,l,w);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return H(this,c,l,w);default:if(j)throw new TypeError("Unknown encoding: "+x);x=(""+x).toLowerCase(),j=!0;}},a.prototype.toJSON=function(){return {type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function X(v,c,l){return c===0&&l===v.length?t.fromByteArray(v):t.fromByteArray(v.slice(c,l))}function Ae(v,c,l){l=Math.min(v.length,l);let w=[],x=c;for(;x<l;){let B=v[x],j=null,be=B>239?4:B>223?3:B>191?2:1;if(x+be<=l){let Ge,He,We,Le;switch(be){case 1:B<128&&(j=B);break;case 2:Ge=v[x+1],(Ge&192)===128&&(Le=(B&31)<<6|Ge&63,Le>127&&(j=Le));break;case 3:Ge=v[x+1],He=v[x+2],(Ge&192)===128&&(He&192)===128&&(Le=(B&15)<<12|(Ge&63)<<6|He&63,Le>2047&&(Le<55296||Le>57343)&&(j=Le));break;case 4:Ge=v[x+1],He=v[x+2],We=v[x+3],(Ge&192)===128&&(He&192)===128&&(We&192)===128&&(Le=(B&15)<<18|(Ge&63)<<12|(He&63)<<6|We&63,Le>65535&&Le<1114112&&(j=Le));}}j===null?(j=65533,be=1):j>65535&&(j-=65536,w.push(j>>>10&1023|55296),j=56320|j&1023),w.push(j),x+=be;}return Ee(w)}let Te=4096;function Ee(v){let c=v.length;if(c<=Te)return String.fromCharCode.apply(String,v);let l="",w=0;for(;w<c;)l+=String.fromCharCode.apply(String,v.slice(w,w+=Te));return l}function Se(v,c,l){let w="";l=Math.min(v.length,l);for(let x=c;x<l;++x)w+=String.fromCharCode(v[x]&127);return w}function te(v,c,l){let w="";l=Math.min(v.length,l);for(let x=c;x<l;++x)w+=String.fromCharCode(v[x]);return w}function W(v,c,l){let w=v.length;(!c||c<0)&&(c=0),(!l||l<0||l>w)&&(l=w);let x="";for(let B=c;B<l;++B)x+=Ri[v[B]];return x}function ne(v,c,l){let w=v.slice(c,l),x="";for(let B=0;B<w.length-1;B+=2)x+=String.fromCharCode(w[B]+w[B+1]*256);return x}a.prototype.slice=function(c,l){let w=this.length;c=~~c,l=l===void 0?w:~~l,c<0?(c+=w,c<0&&(c=0)):c>w&&(c=w),l<0?(l+=w,l<0&&(l=0)):l>w&&(l=w),l<c&&(l=c);let x=this.subarray(c,l);return Object.setPrototypeOf(x,a.prototype),x};function oe(v,c,l){if(v%1!==0||v<0)throw new RangeError("offset is not uint");if(v+c>l)throw new RangeError("Trying to access beyond buffer length")}a.prototype.readUintLE=a.prototype.readUIntLE=function(c,l,w){c=c>>>0,l=l>>>0,w||oe(c,l,this.length);let x=this[c],B=1,j=0;for(;++j<l&&(B*=256);)x+=this[c+j]*B;return x},a.prototype.readUintBE=a.prototype.readUIntBE=function(c,l,w){c=c>>>0,l=l>>>0,w||oe(c,l,this.length);let x=this[c+--l],B=1;for(;l>0&&(B*=256);)x+=this[c+--l]*B;return x},a.prototype.readUint8=a.prototype.readUInt8=function(c,l){return c=c>>>0,l||oe(c,1,this.length),this[c]},a.prototype.readUint16LE=a.prototype.readUInt16LE=function(c,l){return c=c>>>0,l||oe(c,2,this.length),this[c]|this[c+1]<<8},a.prototype.readUint16BE=a.prototype.readUInt16BE=function(c,l){return c=c>>>0,l||oe(c,2,this.length),this[c]<<8|this[c+1]},a.prototype.readUint32LE=a.prototype.readUInt32LE=function(c,l){return c=c>>>0,l||oe(c,4,this.length),(this[c]|this[c+1]<<8|this[c+2]<<16)+this[c+3]*16777216},a.prototype.readUint32BE=a.prototype.readUInt32BE=function(c,l){return c=c>>>0,l||oe(c,4,this.length),this[c]*16777216+(this[c+1]<<16|this[c+2]<<8|this[c+3])},a.prototype.readBigUInt64LE=Nt(function(c){c=c>>>0,F(c,"offset");let l=this[c],w=this[c+7];(l===void 0||w===void 0)&&z(c,this.length-8);let x=l+this[++c]*Re(2,8)+this[++c]*Re(2,16)+this[++c]*Re(2,24),B=this[++c]+this[++c]*Re(2,8)+this[++c]*Re(2,16)+w*Re(2,24);return BigInt(x)+(BigInt(B)<<BigInt(32))}),a.prototype.readBigUInt64BE=Nt(function(c){c=c>>>0,F(c,"offset");let l=this[c],w=this[c+7];(l===void 0||w===void 0)&&z(c,this.length-8);let x=l*Re(2,24)+this[++c]*Re(2,16)+this[++c]*Re(2,8)+this[++c],B=this[++c]*Re(2,24)+this[++c]*Re(2,16)+this[++c]*Re(2,8)+w;return (BigInt(x)<<BigInt(32))+BigInt(B)}),a.prototype.readIntLE=function(c,l,w){c=c>>>0,l=l>>>0,w||oe(c,l,this.length);let x=this[c],B=1,j=0;for(;++j<l&&(B*=256);)x+=this[c+j]*B;return B*=128,x>=B&&(x-=Math.pow(2,8*l)),x},a.prototype.readIntBE=function(c,l,w){c=c>>>0,l=l>>>0,w||oe(c,l,this.length);let x=l,B=1,j=this[c+--x];for(;x>0&&(B*=256);)j+=this[c+--x]*B;return B*=128,j>=B&&(j-=Math.pow(2,8*l)),j},a.prototype.readInt8=function(c,l){return c=c>>>0,l||oe(c,1,this.length),this[c]&128?(255-this[c]+1)*-1:this[c]},a.prototype.readInt16LE=function(c,l){c=c>>>0,l||oe(c,2,this.length);let w=this[c]|this[c+1]<<8;return w&32768?w|4294901760:w},a.prototype.readInt16BE=function(c,l){c=c>>>0,l||oe(c,2,this.length);let w=this[c+1]|this[c]<<8;return w&32768?w|4294901760:w},a.prototype.readInt32LE=function(c,l){return c=c>>>0,l||oe(c,4,this.length),this[c]|this[c+1]<<8|this[c+2]<<16|this[c+3]<<24},a.prototype.readInt32BE=function(c,l){return c=c>>>0,l||oe(c,4,this.length),this[c]<<24|this[c+1]<<16|this[c+2]<<8|this[c+3]},a.prototype.readBigInt64LE=Nt(function(c){c=c>>>0,F(c,"offset");let l=this[c],w=this[c+7];(l===void 0||w===void 0)&&z(c,this.length-8);let x=this[c+4]+this[c+5]*Re(2,8)+this[c+6]*Re(2,16)+(w<<24);return (BigInt(x)<<BigInt(32))+BigInt(l+this[++c]*Re(2,8)+this[++c]*Re(2,16)+this[++c]*Re(2,24))}),a.prototype.readBigInt64BE=Nt(function(c){c=c>>>0,F(c,"offset");let l=this[c],w=this[c+7];(l===void 0||w===void 0)&&z(c,this.length-8);let x=(l<<24)+this[++c]*Re(2,16)+this[++c]*Re(2,8)+this[++c];return (BigInt(x)<<BigInt(32))+BigInt(this[++c]*Re(2,24)+this[++c]*Re(2,16)+this[++c]*Re(2,8)+w)}),a.prototype.readFloatLE=function(c,l){return c=c>>>0,l||oe(c,4,this.length),e.read(this,c,!0,23,4)},a.prototype.readFloatBE=function(c,l){return c=c>>>0,l||oe(c,4,this.length),e.read(this,c,!1,23,4)},a.prototype.readDoubleLE=function(c,l){return c=c>>>0,l||oe(c,8,this.length),e.read(this,c,!0,52,8)},a.prototype.readDoubleBE=function(c,l){return c=c>>>0,l||oe(c,8,this.length),e.read(this,c,!1,52,8)};function de(v,c,l,w,x,B){if(!a.isBuffer(v))throw new TypeError('"buffer" argument must be a Buffer instance');if(c>x||c<B)throw new RangeError('"value" argument is out of bounds');if(l+w>v.length)throw new RangeError("Index out of range")}a.prototype.writeUintLE=a.prototype.writeUIntLE=function(c,l,w,x){if(c=+c,l=l>>>0,w=w>>>0,!x){let be=Math.pow(2,8*w)-1;de(this,c,l,w,be,0);}let B=1,j=0;for(this[l]=c&255;++j<w&&(B*=256);)this[l+j]=c/B&255;return l+w},a.prototype.writeUintBE=a.prototype.writeUIntBE=function(c,l,w,x){if(c=+c,l=l>>>0,w=w>>>0,!x){let be=Math.pow(2,8*w)-1;de(this,c,l,w,be,0);}let B=w-1,j=1;for(this[l+B]=c&255;--B>=0&&(j*=256);)this[l+B]=c/j&255;return l+w},a.prototype.writeUint8=a.prototype.writeUInt8=function(c,l,w){return c=+c,l=l>>>0,w||de(this,c,l,1,255,0),this[l]=c&255,l+1},a.prototype.writeUint16LE=a.prototype.writeUInt16LE=function(c,l,w){return c=+c,l=l>>>0,w||de(this,c,l,2,65535,0),this[l]=c&255,this[l+1]=c>>>8,l+2},a.prototype.writeUint16BE=a.prototype.writeUInt16BE=function(c,l,w){return c=+c,l=l>>>0,w||de(this,c,l,2,65535,0),this[l]=c>>>8,this[l+1]=c&255,l+2},a.prototype.writeUint32LE=a.prototype.writeUInt32LE=function(c,l,w){return c=+c,l=l>>>0,w||de(this,c,l,4,4294967295,0),this[l+3]=c>>>24,this[l+2]=c>>>16,this[l+1]=c>>>8,this[l]=c&255,l+4},a.prototype.writeUint32BE=a.prototype.writeUInt32BE=function(c,l,w){return c=+c,l=l>>>0,w||de(this,c,l,4,4294967295,0),this[l]=c>>>24,this[l+1]=c>>>16,this[l+2]=c>>>8,this[l+3]=c&255,l+4};function Ue(v,c,l,w,x){$e(c,w,x,v,l,7);let B=Number(c&BigInt(4294967295));v[l++]=B,B=B>>8,v[l++]=B,B=B>>8,v[l++]=B,B=B>>8,v[l++]=B;let j=Number(c>>BigInt(32)&BigInt(4294967295));return v[l++]=j,j=j>>8,v[l++]=j,j=j>>8,v[l++]=j,j=j>>8,v[l++]=j,l}function ze(v,c,l,w,x){$e(c,w,x,v,l,7);let B=Number(c&BigInt(4294967295));v[l+7]=B,B=B>>8,v[l+6]=B,B=B>>8,v[l+5]=B,B=B>>8,v[l+4]=B;let j=Number(c>>BigInt(32)&BigInt(4294967295));return v[l+3]=j,j=j>>8,v[l+2]=j,j=j>>8,v[l+1]=j,j=j>>8,v[l]=j,l+8}a.prototype.writeBigUInt64LE=Nt(function(c,l=0){return Ue(this,c,l,BigInt(0),BigInt("0xffffffffffffffff"))}),a.prototype.writeBigUInt64BE=Nt(function(c,l=0){return ze(this,c,l,BigInt(0),BigInt("0xffffffffffffffff"))}),a.prototype.writeIntLE=function(c,l,w,x){if(c=+c,l=l>>>0,!x){let Ge=Math.pow(2,8*w-1);de(this,c,l,w,Ge-1,-Ge);}let B=0,j=1,be=0;for(this[l]=c&255;++B<w&&(j*=256);)c<0&&be===0&&this[l+B-1]!==0&&(be=1),this[l+B]=(c/j>>0)-be&255;return l+w},a.prototype.writeIntBE=function(c,l,w,x){if(c=+c,l=l>>>0,!x){let Ge=Math.pow(2,8*w-1);de(this,c,l,w,Ge-1,-Ge);}let B=w-1,j=1,be=0;for(this[l+B]=c&255;--B>=0&&(j*=256);)c<0&&be===0&&this[l+B+1]!==0&&(be=1),this[l+B]=(c/j>>0)-be&255;return l+w},a.prototype.writeInt8=function(c,l,w){return c=+c,l=l>>>0,w||de(this,c,l,1,127,-128),c<0&&(c=255+c+1),this[l]=c&255,l+1},a.prototype.writeInt16LE=function(c,l,w){return c=+c,l=l>>>0,w||de(this,c,l,2,32767,-32768),this[l]=c&255,this[l+1]=c>>>8,l+2},a.prototype.writeInt16BE=function(c,l,w){return c=+c,l=l>>>0,w||de(this,c,l,2,32767,-32768),this[l]=c>>>8,this[l+1]=c&255,l+2},a.prototype.writeInt32LE=function(c,l,w){return c=+c,l=l>>>0,w||de(this,c,l,4,2147483647,-2147483648),this[l]=c&255,this[l+1]=c>>>8,this[l+2]=c>>>16,this[l+3]=c>>>24,l+4},a.prototype.writeInt32BE=function(c,l,w){return c=+c,l=l>>>0,w||de(this,c,l,4,2147483647,-2147483648),c<0&&(c=4294967295+c+1),this[l]=c>>>24,this[l+1]=c>>>16,this[l+2]=c>>>8,this[l+3]=c&255,l+4},a.prototype.writeBigInt64LE=Nt(function(c,l=0){return Ue(this,c,l,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),a.prototype.writeBigInt64BE=Nt(function(c,l=0){return ze(this,c,l,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function dt(v,c,l,w,x,B){if(l+w>v.length)throw new RangeError("Index out of range");if(l<0)throw new RangeError("Index out of range")}function ct(v,c,l,w,x){return c=+c,l=l>>>0,x||dt(v,c,l,4),e.write(v,c,l,w,23,4),l+4}a.prototype.writeFloatLE=function(c,l,w){return ct(this,c,l,!0,w)},a.prototype.writeFloatBE=function(c,l,w){return ct(this,c,l,!1,w)};function Er(v,c,l,w,x){return c=+c,l=l>>>0,x||dt(v,c,l,8),e.write(v,c,l,w,52,8),l+8}a.prototype.writeDoubleLE=function(c,l,w){return Er(this,c,l,!0,w)},a.prototype.writeDoubleBE=function(c,l,w){return Er(this,c,l,!1,w)},a.prototype.copy=function(c,l,w,x){if(!a.isBuffer(c))throw new TypeError("argument should be a Buffer");if(w||(w=0),!x&&x!==0&&(x=this.length),l>=c.length&&(l=c.length),l||(l=0),x>0&&x<w&&(x=w),x===w||c.length===0||this.length===0)return 0;if(l<0)throw new RangeError("targetStart out of bounds");if(w<0||w>=this.length)throw new RangeError("Index out of range");if(x<0)throw new RangeError("sourceEnd out of bounds");x>this.length&&(x=this.length),c.length-l<x-w&&(x=c.length-l+w);let B=x-w;return this===c&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(l,w,x):Uint8Array.prototype.set.call(c,this.subarray(w,x),l),B},a.prototype.fill=function(c,l,w,x){if(typeof c=="string"){if(typeof l=="string"?(x=l,l=0,w=this.length):typeof w=="string"&&(x=w,w=this.length),x!==void 0&&typeof x!="string")throw new TypeError("encoding must be a string");if(typeof x=="string"&&!a.isEncoding(x))throw new TypeError("Unknown encoding: "+x);if(c.length===1){let j=c.charCodeAt(0);(x==="utf8"&&j<128||x==="latin1")&&(c=j);}}else typeof c=="number"?c=c&255:typeof c=="boolean"&&(c=Number(c));if(l<0||this.length<l||this.length<w)throw new RangeError("Out of range index");if(w<=l)return this;l=l>>>0,w=w===void 0?this.length:w>>>0,c||(c=0);let B;if(typeof c=="number")for(B=l;B<w;++B)this[B]=c;else {let j=a.isBuffer(c)?c:a.from(c,x),be=j.length;if(be===0)throw new TypeError('The value "'+c+'" is invalid for argument "value"');for(B=0;B<w-l;++B)this[B+l]=j[B%be];}return this};let K={};function G(v,c,l){K[v]=class extends l{constructor(){super(),Object.defineProperty(this,"message",{value:c.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${v}]`,this.stack,delete this.name;}get code(){return v}set code(x){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:x,writable:!0});}toString(){return `${this.name} [${v}]: ${this.message}`}};}G("ERR_BUFFER_OUT_OF_BOUNDS",function(v){return v?`${v} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),G("ERR_INVALID_ARG_TYPE",function(v,c){return `The "${v}" argument must be of type number. Received type ${typeof c}`},TypeError),G("ERR_OUT_OF_RANGE",function(v,c,l){let w=`The value of "${v}" is out of range.`,x=l;return Number.isInteger(l)&&Math.abs(l)>Re(2,32)?x=pe(String(l)):typeof l=="bigint"&&(x=String(l),(l>Re(BigInt(2),BigInt(32))||l<-Re(BigInt(2),BigInt(32)))&&(x=pe(x)),x+="n"),w+=` It must be ${c}. Received ${x}`,w},RangeError);function pe(v){let c="",l=v.length,w=v[0]==="-"?1:0;for(;l>=w+4;l-=3)c=`_${v.slice(l-3,l)}${c}`;return `${v.slice(0,l)}${c}`}function Be(v,c,l){F(c,"offset"),(v[c]===void 0||v[c+l]===void 0)&&z(c,v.length-(l+1));}function $e(v,c,l,w,x,B){if(v>l||v<c){let j=typeof c=="bigint"?"n":"",be;throw c===0||c===BigInt(0)?be=`>= 0${j} and < 2${j} ** ${(B+1)*8}${j}`:be=`>= -(2${j} ** ${(B+1)*8-1}${j}) and < 2 ** ${(B+1)*8-1}${j}`,new K.ERR_OUT_OF_RANGE("value",be,v)}Be(w,x,B);}function F(v,c){if(typeof v!="number")throw new K.ERR_INVALID_ARG_TYPE(c,"number",v)}function z(v,c,l){throw Math.floor(v)!==v?(F(v,l),new K.ERR_OUT_OF_RANGE("offset","an integer",v)):c<0?new K.ERR_BUFFER_OUT_OF_BOUNDS:new K.ERR_OUT_OF_RANGE("offset",`>= ${0} and <= ${c}`,v)}let he=/[^+/0-9A-Za-z-_]/g;function Ne(v){if(v=v.split("=")[0],v=v.trim().replace(he,""),v.length<2)return "";for(;v.length%4!==0;)v=v+"=";return v}function Oe(v,c){c=c||1/0;let l,w=v.length,x=null,B=[];for(let j=0;j<w;++j){if(l=v.charCodeAt(j),l>55295&&l<57344){if(!x){if(l>56319){(c-=3)>-1&&B.push(239,191,189);continue}else if(j+1===w){(c-=3)>-1&&B.push(239,191,189);continue}x=l;continue}if(l<56320){(c-=3)>-1&&B.push(239,191,189),x=l;continue}l=(x-55296<<10|l-56320)+65536;}else x&&(c-=3)>-1&&B.push(239,191,189);if(x=null,l<128){if((c-=1)<0)break;B.push(l);}else if(l<2048){if((c-=2)<0)break;B.push(l>>6|192,l&63|128);}else if(l<65536){if((c-=3)<0)break;B.push(l>>12|224,l>>6&63|128,l&63|128);}else if(l<1114112){if((c-=4)<0)break;B.push(l>>18|240,l>>12&63|128,l>>6&63|128,l&63|128);}else throw new Error("Invalid code point")}return B}function Ve(v){let c=[];for(let l=0;l<v.length;++l)c.push(v.charCodeAt(l)&255);return c}function it(v,c){let l,w,x,B=[];for(let j=0;j<v.length&&!((c-=2)<0);++j)l=v.charCodeAt(j),w=l>>8,x=l%256,B.push(x),B.push(w);return B}function wr(v){return t.toByteArray(Ne(v))}function Vt(v,c,l,w){let x;for(x=0;x<w&&!(x+l>=c.length||x>=v.length);++x)c[x+l]=v[x];return x}function rt(v,c){return v instanceof c||v!=null&&v.constructor!=null&&v.constructor.name!=null&&v.constructor.name===c.name}function Ir(v){return v!==v}let Ri=function(){let v="0123456789abcdef",c=new Array(256);for(let l=0;l<16;++l){let w=l*16;for(let x=0;x<16;++x)c[w+x]=v[l]+v[x];}return c}();function Nt(v){return typeof BigInt=="undefined"?Zn:v}function Zn(){throw new Error("BigInt not supported")}return As}var Ho=xV();Ho.Buffer;Ho.INSPECT_MAX_BYTES;Ho.kMaxLength;var Ym={},xk=!1;function Rs(){return xk||(xk=!0,typeof Object.create=="function"?Ym=function(e,r){r&&(e.super_=r,e.prototype=Object.create(r.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}));}:Ym=function(e,r){if(r){e.super_=r;var n=function(){};n.prototype=r.prototype,e.prototype=new n,e.prototype.constructor=e;}}),Ym}var IS={},kk=!1;function Wk(){return kk||(kk=!0,IS=zt.EventEmitter),IS}var NS={},Pk=!1;function kV(){if(Pk)return NS;Pk=!0;function t(C,S){var E=Object.keys(C);if(Object.getOwnPropertySymbols){var T=Object.getOwnPropertySymbols(C);S&&(T=T.filter(function(_){return Object.getOwnPropertyDescriptor(C,_).enumerable})),E.push.apply(E,T);}return E}function e(C){for(var S=1;S<arguments.length;S++){var E=arguments[S]!=null?arguments[S]:{};S%2?t(Object(E),!0).forEach(function(T){r(C,T,E[T]);}):Object.getOwnPropertyDescriptors?Object.defineProperties(C,Object.getOwnPropertyDescriptors(E)):t(Object(E)).forEach(function(T){Object.defineProperty(C,T,Object.getOwnPropertyDescriptor(E,T));});}return C}function r(C,S,E){return S in C?Object.defineProperty(C,S,{value:E,enumerable:!0,configurable:!0,writable:!0}):C[S]=E,C}function n(C,S){if(!(C instanceof S))throw new TypeError("Cannot call a class as a function")}function i(C,S){for(var E=0;E<S.length;E++){var T=S[E];T.enumerable=T.enumerable||!1,T.configurable=!0,"value"in T&&(T.writable=!0),Object.defineProperty(C,T.key,T);}}function o(C,S,E){return S&&i(C.prototype,S),C}var a=Ho,s=a.Buffer,u=re,d=u.inspect,f=d&&d.custom||"inspect";function g(C,S,E){s.prototype.copy.call(C,S,E);}return NS=function(){function C(){n(this,C),this.head=null,this.tail=null,this.length=0;}return o(C,[{key:"push",value:function(E){var T={data:E,next:null};this.length>0?this.tail.next=T:this.head=T,this.tail=T,++this.length;}},{key:"unshift",value:function(E){var T={data:E,next:this.head};this.length===0&&(this.tail=T),this.head=T,++this.length;}},{key:"shift",value:function(){if(this.length!==0){var E=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,E}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0;}},{key:"join",value:function(E){if(this.length===0)return "";for(var T=this.head,_=""+T.data;T=T.next;)_+=E+T.data;return _}},{key:"concat",value:function(E){if(this.length===0)return s.alloc(0);for(var T=s.allocUnsafe(E>>>0),_=this.head,P=0;_;)g(_.data,T,P),P+=_.data.length,_=_.next;return T}},{key:"consume",value:function(E,T){var _;return E<this.head.data.length?(_=this.head.data.slice(0,E),this.head.data=this.head.data.slice(E)):E===this.head.data.length?_=this.shift():_=T?this._getString(E):this._getBuffer(E),_}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(E){var T=this.head,_=1,P=T.data;for(E-=P.length;T=T.next;){var M=T.data,D=E>M.length?M.length:E;if(D===M.length?P+=M:P+=M.slice(0,E),E-=D,E===0){D===M.length?(++_,T.next?this.head=T.next:this.head=this.tail=null):(this.head=T,T.data=M.slice(D));break}++_;}return this.length-=_,P}},{key:"_getBuffer",value:function(E){var T=s.allocUnsafe(E),_=this.head,P=1;for(_.data.copy(T),E-=_.data.length;_=_.next;){var M=_.data,D=E>M.length?M.length:E;if(M.copy(T,T.length-E,0,D),E-=D,E===0){D===M.length?(++P,_.next?this.head=_.next:this.head=this.tail=null):(this.head=_,_.data=M.slice(D));break}++P;}return this.length-=P,T}},{key:f,value:function(E,T){return d(this,e({},T,{depth:0,customInspect:!1}))}}]),C}(),NS}var OS={},Mk=!1;function Kk(){if(Mk)return OS;Mk=!0;var t=ft;function e(s,u){var d=this,f=this._readableState&&this._readableState.destroyed,g=this._writableState&&this._writableState.destroyed;return f||g?(u?u(s):s&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,t.nextTick(o,this,s)):t.nextTick(o,this,s)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(s||null,function(C){!u&&C?d._writableState?d._writableState.errorEmitted?t.nextTick(n,d):(d._writableState.errorEmitted=!0,t.nextTick(r,d,C)):t.nextTick(r,d,C):u?(t.nextTick(n,d),u(C)):t.nextTick(n,d);}),this)}function r(s,u){o(s,u),n(s);}function n(s){s._writableState&&!s._writableState.emitClose||s._readableState&&!s._readableState.emitClose||s.emit("close");}function i(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1);}function o(s,u){s.emit("error",u);}function a(s,u){var d=s._readableState,f=s._writableState;d&&d.autoDestroy||f&&f.autoDestroy?s.destroy(u):s.emit("error",u);}return OS={destroy:e,undestroy:i,errorOrDestroy:a},OS}var xS={},Uk=!1;function ul(){if(Uk)return xS;Uk=!0;let t={};function e(a,s,u){u||(u=Error);function d(g,C,S){return typeof s=="string"?s:s(g,C,S)}class f extends u{constructor(C,S,E){super(d(C,S,E));}}f.prototype.name=u.name,f.prototype.code=a,t[a]=f;}function r(a,s){if(Array.isArray(a)){let u=a.length;return a=a.map(d=>String(d)),u>2?`one of ${s} ${a.slice(0,u-1).join(", ")}, or `+a[u-1]:u===2?`one of ${s} ${a[0]} or ${a[1]}`:`of ${s} ${a[0]}`}else return `of ${s} ${String(a)}`}function n(a,s,u){return a.substr(0,s.length)===s}function i(a,s,u){return (u===void 0||u>a.length)&&(u=a.length),a.substring(u-s.length,u)===s}function o(a,s,u){return typeof u!="number"&&(u=0),u+s.length>a.length?!1:a.indexOf(s,u)!==-1}return e("ERR_INVALID_OPT_VALUE",function(a,s){return 'The value "'+s+'" is invalid for option "'+a+'"'},TypeError),e("ERR_INVALID_ARG_TYPE",function(a,s,u){let d;typeof s=="string"&&n(s,"not ")?(d="must not be",s=s.replace(/^not /,"")):d="must be";let f;if(i(a," argument"))f=`The ${a} ${d} ${r(s,"type")}`;else {let g=o(a,".")?"property":"argument";f=`The "${a}" ${g} ${d} ${r(s,"type")}`;}return f+=`. Received type ${typeof u}`,f},TypeError),e("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),e("ERR_METHOD_NOT_IMPLEMENTED",function(a){return "The "+a+" method is not implemented"}),e("ERR_STREAM_PREMATURE_CLOSE","Premature close"),e("ERR_STREAM_DESTROYED",function(a){return "Cannot call "+a+" after a stream was destroyed"}),e("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),e("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),e("ERR_STREAM_WRITE_AFTER_END","write after end"),e("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),e("ERR_UNKNOWN_ENCODING",function(a){return "Unknown encoding: "+a},TypeError),e("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),xS.codes=t,xS}var kS={},Bk=!1;function Yk(){if(Bk)return kS;Bk=!0;var t=ul().codes.ERR_INVALID_OPT_VALUE;function e(n,i,o){return n.highWaterMark!=null?n.highWaterMark:i?n[o]:null}function r(n,i,o,a){var s=e(i,a,o);if(s!=null){if(!(isFinite(s)&&Math.floor(s)===s)||s<0){var u=a?o:"highWaterMark";throw new t(u,s)}return Math.floor(s)}return n.objectMode?16:16*1024}return kS={getHighWaterMark:r},kS}var PS={},Dk=!1,MS=typeof globalThis!="undefined"?globalThis:typeof self!="undefined"?self:globalThis;function PV(){if(Dk)return PS;Dk=!0,PS=t;function t(r,n){if(e("noDeprecation"))return r;var i=!1;function o(){if(!i){if(e("throwDeprecation"))throw new Error(n);e("traceDeprecation")?console.trace(n):console.warn(n),i=!0;}return r.apply(this||MS,arguments)}return o}function e(r){try{if(!MS.localStorage)return !1}catch(i){return !1}var n=MS.localStorage[r];return n==null?!1:String(n).toLowerCase()==="true"}return PS}var US={},Lk=!1,MV=typeof globalThis!="undefined"?globalThis:typeof self!="undefined"?self:globalThis;function $S(){if(Lk)return US;Lk=!0;var t=ft;US=fe;function e(K){var G=this;this.next=null,this.entry=null,this.finish=function(){Er(G,K);};}var r;fe.WritableState=ue;var n={deprecate:PV()},i=Wk(),o=Ho.Buffer,a=MV.Uint8Array||function(){};function s(K){return o.from(K)}function u(K){return o.isBuffer(K)||K instanceof a}var d=Kk(),f=Yk(),g=f.getHighWaterMark,C=ul().codes,S=C.ERR_INVALID_ARG_TYPE,E=C.ERR_METHOD_NOT_IMPLEMENTED,T=C.ERR_MULTIPLE_CALLBACK,_=C.ERR_STREAM_CANNOT_PIPE,P=C.ERR_STREAM_DESTROYED,M=C.ERR_STREAM_NULL_VALUES,D=C.ERR_STREAM_WRITE_AFTER_END,V=C.ERR_UNKNOWN_ENCODING,Y=d.errorOrDestroy;Rs()(fe,i);function _e(){}function ue(K,G,pe){r=r||bs(),K=K||{},typeof pe!="boolean"&&(pe=G instanceof r),this.objectMode=!!K.objectMode,pe&&(this.objectMode=this.objectMode||!!K.writableObjectMode),this.highWaterMark=g(this,K,"writableHighWaterMark",pe),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var Be=K.decodeStrings===!1;this.decodeStrings=!Be,this.defaultEncoding=K.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function($e){te(G,$e);},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=K.emitClose!==!1,this.autoDestroy=!!K.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new e(this);}ue.prototype.getBuffer=function(){for(var G=this.bufferedRequest,pe=[];G;)pe.push(G),G=G.next;return pe},function(){try{Object.defineProperty(ue.prototype,"buffer",{get:n.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")});}catch(K){}}();var le;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(le=Function.prototype[Symbol.hasInstance],Object.defineProperty(fe,Symbol.hasInstance,{value:function(G){return le.call(this,G)?!0:this!==fe?!1:G&&G._writableState instanceof ue}})):le=function(G){return G instanceof this};function fe(K){r=r||bs();var G=this instanceof r;if(!G&&!le.call(fe,this))return new fe(K);this._writableState=new ue(K,this,G),this.writable=!0,K&&(typeof K.write=="function"&&(this._write=K.write),typeof K.writev=="function"&&(this._writev=K.writev),typeof K.destroy=="function"&&(this._destroy=K.destroy),typeof K.final=="function"&&(this._final=K.final)),i.call(this);}fe.prototype.pipe=function(){Y(this,new _);};function ve(K,G){var pe=new D;Y(K,pe),t.nextTick(G,pe);}function H(K,G,pe,Be){var $e;return pe===null?$e=new M:typeof pe!="string"&&!G.objectMode&&($e=new S("chunk",["string","Buffer"],pe)),$e?(Y(K,$e),t.nextTick(Be,$e),!1):!0}fe.prototype.write=function(K,G,pe){var Be=this._writableState,$e=!1,F=!Be.objectMode&&u(K);return F&&!o.isBuffer(K)&&(K=s(K)),typeof G=="function"&&(pe=G,G=null),F?G="buffer":G||(G=Be.defaultEncoding),typeof pe!="function"&&(pe=_e),Be.ending?ve(this,pe):(F||H(this,Be,K,pe))&&(Be.pendingcb++,$e=Ae(this,Be,F,K,G,pe)),$e},fe.prototype.cork=function(){this._writableState.corked++;},fe.prototype.uncork=function(){var K=this._writableState;K.corked&&(K.corked--,!K.writing&&!K.corked&&!K.bufferProcessing&&K.bufferedRequest&&oe(this,K));},fe.prototype.setDefaultEncoding=function(G){if(typeof G=="string"&&(G=G.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((G+"").toLowerCase())>-1))throw new V(G);return this._writableState.defaultEncoding=G,this},Object.defineProperty(fe.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});function X(K,G,pe){return !K.objectMode&&K.decodeStrings!==!1&&typeof G=="string"&&(G=o.from(G,pe)),G}Object.defineProperty(fe.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function Ae(K,G,pe,Be,$e,F){if(!pe){var z=X(G,Be,$e);Be!==z&&(pe=!0,$e="buffer",Be=z);}var he=G.objectMode?1:Be.length;G.length+=he;var Ne=G.length<G.highWaterMark;if(Ne||(G.needDrain=!0),G.writing||G.corked){var Oe=G.lastBufferedRequest;G.lastBufferedRequest={chunk:Be,encoding:$e,isBuf:pe,callback:F,next:null},Oe?Oe.next=G.lastBufferedRequest:G.bufferedRequest=G.lastBufferedRequest,G.bufferedRequestCount+=1;}else Te(K,G,!1,he,Be,$e,F);return Ne}function Te(K,G,pe,Be,$e,F,z){G.writelen=Be,G.writecb=z,G.writing=!0,G.sync=!0,G.destroyed?G.onwrite(new P("write")):pe?K._writev($e,G.onwrite):K._write($e,F,G.onwrite),G.sync=!1;}function Ee(K,G,pe,Be,$e){--G.pendingcb,pe?(t.nextTick($e,Be),t.nextTick(dt,K,G),K._writableState.errorEmitted=!0,Y(K,Be)):($e(Be),K._writableState.errorEmitted=!0,Y(K,Be),dt(K,G));}function Se(K){K.writing=!1,K.writecb=null,K.length-=K.writelen,K.writelen=0;}function te(K,G){var pe=K._writableState,Be=pe.sync,$e=pe.writecb;if(typeof $e!="function")throw new T;if(Se(pe),G)Ee(K,pe,Be,G,$e);else {var F=de(pe)||K.destroyed;!F&&!pe.corked&&!pe.bufferProcessing&&pe.bufferedRequest&&oe(K,pe),Be?t.nextTick(W,K,pe,F,$e):W(K,pe,F,$e);}}function W(K,G,pe,Be){pe||ne(K,G),G.pendingcb--,Be(),dt(K,G);}function ne(K,G){G.length===0&&G.needDrain&&(G.needDrain=!1,K.emit("drain"));}function oe(K,G){G.bufferProcessing=!0;var pe=G.bufferedRequest;if(K._writev&&pe&&pe.next){var Be=G.bufferedRequestCount,$e=new Array(Be),F=G.corkedRequestsFree;F.entry=pe;for(var z=0,he=!0;pe;)$e[z]=pe,pe.isBuf||(he=!1),pe=pe.next,z+=1;$e.allBuffers=he,Te(K,G,!0,G.length,$e,"",F.finish),G.pendingcb++,G.lastBufferedRequest=null,F.next?(G.corkedRequestsFree=F.next,F.next=null):G.corkedRequestsFree=new e(G),G.bufferedRequestCount=0;}else {for(;pe;){var Ne=pe.chunk,Oe=pe.encoding,Ve=pe.callback,it=G.objectMode?1:Ne.length;if(Te(K,G,!1,it,Ne,Oe,Ve),pe=pe.next,G.bufferedRequestCount--,G.writing)break}pe===null&&(G.lastBufferedRequest=null);}G.bufferedRequest=pe,G.bufferProcessing=!1;}fe.prototype._write=function(K,G,pe){pe(new E("_write()"));},fe.prototype._writev=null,fe.prototype.end=function(K,G,pe){var Be=this._writableState;return typeof K=="function"?(pe=K,K=null,G=null):typeof G=="function"&&(pe=G,G=null),K!=null&&this.write(K,G),Be.corked&&(Be.corked=1,this.uncork()),Be.ending||ct(this,Be,pe),this},Object.defineProperty(fe.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function de(K){return K.ending&&K.length===0&&K.bufferedRequest===null&&!K.finished&&!K.writing}function Ue(K,G){K._final(function(pe){G.pendingcb--,pe&&Y(K,pe),G.prefinished=!0,K.emit("prefinish"),dt(K,G);});}function ze(K,G){!G.prefinished&&!G.finalCalled&&(typeof K._final=="function"&&!G.destroyed?(G.pendingcb++,G.finalCalled=!0,t.nextTick(Ue,K,G)):(G.prefinished=!0,K.emit("prefinish")));}function dt(K,G){var pe=de(G);if(pe&&(ze(K,G),G.pendingcb===0&&(G.finished=!0,K.emit("finish"),G.autoDestroy))){var Be=K._readableState;(!Be||Be.autoDestroy&&Be.endEmitted)&&K.destroy();}return pe}function ct(K,G,pe){G.ending=!0,dt(K,G),pe&&(G.finished?t.nextTick(pe):K.once("finish",pe)),G.ended=!0,K.writable=!1;}function Er(K,G,pe){var Be=K.entry;for(K.entry=null;Be;){var $e=Be.callback;G.pendingcb--,$e(pe),Be=Be.next;}G.corkedRequestsFree.next=K;}return Object.defineProperty(fe.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(G){this._writableState&&(this._writableState.destroyed=G);}}),fe.prototype.destroy=d.destroy,fe.prototype._undestroy=d.undestroy,fe.prototype._destroy=function(K,G){G(K);},US}var BS={},Fk=!1;function bs(){if(Fk)return BS;Fk=!0;var t=ft,e=Object.keys||function(f){var g=[];for(var C in f)g.push(C);return g};BS=s;var r=VS(),n=$S();Rs()(s,r);for(var i=e(n.prototype),o=0;o<i.length;o++){var a=i[o];s.prototype[a]||(s.prototype[a]=n.prototype[a]);}function s(f){if(!(this instanceof s))return new s(f);r.call(this,f),n.call(this,f),this.allowHalfOpen=!0,f&&(f.readable===!1&&(this.readable=!1),f.writable===!1&&(this.writable=!1),f.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",u)));}Object.defineProperty(s.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(s.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(s.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function u(){this._writableState.ended||t.nextTick(d,this);}function d(f){f.end();}return Object.defineProperty(s.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(g){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=g,this._writableState.destroyed=g);}}),BS}var DS={},zk=!1;function Jm(){if(zk)return DS;zk=!0;var t=ul().codes.ERR_STREAM_PREMATURE_CLOSE;function e(o){var a=!1;return function(){if(!a){a=!0;for(var s=arguments.length,u=new Array(s),d=0;d<s;d++)u[d]=arguments[d];o.apply(this,u);}}}function r(){}function n(o){return o.setHeader&&typeof o.abort=="function"}function i(o,a,s){if(typeof a=="function")return i(o,null,a);a||(a={}),s=e(s||r);var u=a.readable||a.readable!==!1&&o.readable,d=a.writable||a.writable!==!1&&o.writable,f=function(){o.writable||C();},g=o._writableState&&o._writableState.finished,C=function(){d=!1,g=!0,u||s.call(o);},S=o._readableState&&o._readableState.endEmitted,E=function(){u=!1,S=!0,d||s.call(o);},T=function(D){s.call(o,D);},_=function(){var D;if(u&&!S)return (!o._readableState||!o._readableState.ended)&&(D=new t),s.call(o,D);if(d&&!g)return (!o._writableState||!o._writableState.ended)&&(D=new t),s.call(o,D)},P=function(){o.req.on("finish",C);};return n(o)?(o.on("complete",C),o.on("abort",_),o.req?P():o.on("request",P)):d&&!o._writableState&&(o.on("end",f),o.on("close",f)),o.on("end",E),o.on("finish",C),a.error!==!1&&o.on("error",T),o.on("close",_),function(){o.removeListener("complete",C),o.removeListener("abort",_),o.removeListener("request",P),o.req&&o.req.removeListener("finish",C),o.removeListener("end",f),o.removeListener("close",f),o.removeListener("finish",C),o.removeListener("end",E),o.removeListener("error",T),o.removeListener("close",_);}}return DS=i,DS}var LS={},qk=!1;function UV(){if(qk)return LS;qk=!0;var t=ft,e;function r(M,D,V){return D in M?Object.defineProperty(M,D,{value:V,enumerable:!0,configurable:!0,writable:!0}):M[D]=V,M}var n=Jm(),i=Symbol("lastResolve"),o=Symbol("lastReject"),a=Symbol("error"),s=Symbol("ended"),u=Symbol("lastPromise"),d=Symbol("handlePromise"),f=Symbol("stream");function g(M,D){return {value:M,done:D}}function C(M){var D=M[i];if(D!==null){var V=M[f].read();V!==null&&(M[u]=null,M[i]=null,M[o]=null,D(g(V,!1)));}}function S(M){t.nextTick(C,M);}function E(M,D){return function(V,Y){M.then(function(){if(D[s]){V(g(void 0,!0));return}D[d](V,Y);},Y);}}var T=Object.getPrototypeOf(function(){}),_=Object.setPrototypeOf((e={get stream(){return this[f]},next:function(){var D=this,V=this[a];if(V!==null)return Promise.reject(V);if(this[s])return Promise.resolve(g(void 0,!0));if(this[f].destroyed)return new Promise(function(le,fe){t.nextTick(function(){D[a]?fe(D[a]):le(g(void 0,!0));});});var Y=this[u],_e;if(Y)_e=new Promise(E(Y,this));else {var ue=this[f].read();if(ue!==null)return Promise.resolve(g(ue,!1));_e=new Promise(this[d]);}return this[u]=_e,_e}},r(e,Symbol.asyncIterator,function(){return this}),r(e,"return",function(){var D=this;return new Promise(function(V,Y){D[f].destroy(null,function(_e){if(_e){Y(_e);return}V(g(void 0,!0));});})}),e),T),P=function(D){var V,Y=Object.create(_,(V={},r(V,f,{value:D,writable:!0}),r(V,i,{value:null,writable:!0}),r(V,o,{value:null,writable:!0}),r(V,a,{value:null,writable:!0}),r(V,s,{value:D._readableState.endEmitted,writable:!0}),r(V,d,{value:function(ue,le){var fe=Y[f].read();fe?(Y[u]=null,Y[i]=null,Y[o]=null,ue(g(fe,!1))):(Y[i]=ue,Y[o]=le);},writable:!0}),V));return Y[u]=null,n(D,function(_e){if(_e&&_e.code!=="ERR_STREAM_PREMATURE_CLOSE"){var ue=Y[o];ue!==null&&(Y[u]=null,Y[i]=null,Y[o]=null,ue(_e)),Y[a]=_e;return}var le=Y[i];le!==null&&(Y[u]=null,Y[i]=null,Y[o]=null,le(g(void 0,!0))),Y[s]=!0;}),D.on("readable",S.bind(null,Y)),Y};return LS=P,LS}var FS={},jk=!1;function BV(){return jk||(jk=!0,FS=function(){throw new Error("Readable.from is not available in the browser")}),FS}var zS={},Hk=!1,DV=typeof globalThis!="undefined"?globalThis:typeof self!="undefined"?self:globalThis;function VS(){if(Hk)return zS;Hk=!0;var t=ft;zS=ve;var e;ve.ReadableState=fe,zt.EventEmitter;var r=function(z,he){return z.listeners(he).length},n=Wk(),i=Ho.Buffer,o=DV.Uint8Array||function(){};function a(F){return i.from(F)}function s(F){return i.isBuffer(F)||F instanceof o}var u=re,d;u&&u.debuglog?d=u.debuglog("stream"):d=function(){};var f=kV(),g=Kk(),C=Yk(),S=C.getHighWaterMark,E=ul().codes,T=E.ERR_INVALID_ARG_TYPE,_=E.ERR_STREAM_PUSH_AFTER_EOF,P=E.ERR_METHOD_NOT_IMPLEMENTED,M=E.ERR_STREAM_UNSHIFT_AFTER_END_EVENT,D,V,Y;Rs()(ve,n);var _e=g.errorOrDestroy,ue=["error","close","destroy","pause","resume"];function le(F,z,he){if(typeof F.prependListener=="function")return F.prependListener(z,he);!F._events||!F._events[z]?F.on(z,he):Array.isArray(F._events[z])?F._events[z].unshift(he):F._events[z]=[he,F._events[z]];}function fe(F,z,he){e=e||bs(),F=F||{},typeof he!="boolean"&&(he=z instanceof e),this.objectMode=!!F.objectMode,he&&(this.objectMode=this.objectMode||!!F.readableObjectMode),this.highWaterMark=S(this,F,"readableHighWaterMark",he),this.buffer=new f,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=F.emitClose!==!1,this.autoDestroy=!!F.autoDestroy,this.destroyed=!1,this.defaultEncoding=F.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,F.encoding&&(D||(D=ll.StringDecoder),this.decoder=new D(F.encoding),this.encoding=F.encoding);}function ve(F){if(e=e||bs(),!(this instanceof ve))return new ve(F);var z=this instanceof e;this._readableState=new fe(F,this,z),this.readable=!0,F&&(typeof F.read=="function"&&(this._read=F.read),typeof F.destroy=="function"&&(this._destroy=F.destroy)),n.call(this);}Object.defineProperty(ve.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(z){this._readableState&&(this._readableState.destroyed=z);}}),ve.prototype.destroy=g.destroy,ve.prototype._undestroy=g.undestroy,ve.prototype._destroy=function(F,z){z(F);},ve.prototype.push=function(F,z){var he=this._readableState,Ne;return he.objectMode?Ne=!0:typeof F=="string"&&(z=z||he.defaultEncoding,z!==he.encoding&&(F=i.from(F,z),z=""),Ne=!0),H(this,F,z,!1,Ne)},ve.prototype.unshift=function(F){return H(this,F,null,!0,!1)};function H(F,z,he,Ne,Oe){d("readableAddChunk",z);var Ve=F._readableState;if(z===null)Ve.reading=!1,te(F,Ve);else {var it;if(Oe||(it=Ae(Ve,z)),it)_e(F,it);else if(Ve.objectMode||z&&z.length>0)if(typeof z!="string"&&!Ve.objectMode&&Object.getPrototypeOf(z)!==i.prototype&&(z=a(z)),Ne)Ve.endEmitted?_e(F,new M):X(F,Ve,z,!0);else if(Ve.ended)_e(F,new _);else {if(Ve.destroyed)return !1;Ve.reading=!1,Ve.decoder&&!he?(z=Ve.decoder.write(z),Ve.objectMode||z.length!==0?X(F,Ve,z,!1):oe(F,Ve)):X(F,Ve,z,!1);}else Ne||(Ve.reading=!1,oe(F,Ve));}return !Ve.ended&&(Ve.length<Ve.highWaterMark||Ve.length===0)}function X(F,z,he,Ne){z.flowing&&z.length===0&&!z.sync?(z.awaitDrain=0,F.emit("data",he)):(z.length+=z.objectMode?1:he.length,Ne?z.buffer.unshift(he):z.buffer.push(he),z.needReadable&&W(F)),oe(F,z);}function Ae(F,z){var he;return !s(z)&&typeof z!="string"&&z!==void 0&&!F.objectMode&&(he=new T("chunk",["string","Buffer","Uint8Array"],z)),he}ve.prototype.isPaused=function(){return this._readableState.flowing===!1},ve.prototype.setEncoding=function(F){D||(D=ll.StringDecoder);var z=new D(F);this._readableState.decoder=z,this._readableState.encoding=this._readableState.decoder.encoding;for(var he=this._readableState.buffer.head,Ne="";he!==null;)Ne+=z.write(he.data),he=he.next;return this._readableState.buffer.clear(),Ne!==""&&this._readableState.buffer.push(Ne),this._readableState.length=Ne.length,this};var Te=1073741824;function Ee(F){return F>=Te?F=Te:(F--,F|=F>>>1,F|=F>>>2,F|=F>>>4,F|=F>>>8,F|=F>>>16,F++),F}function Se(F,z){return F<=0||z.length===0&&z.ended?0:z.objectMode?1:F!==F?z.flowing&&z.length?z.buffer.head.data.length:z.length:(F>z.highWaterMark&&(z.highWaterMark=Ee(F)),F<=z.length?F:z.ended?z.length:(z.needReadable=!0,0))}ve.prototype.read=function(F){d("read",F),F=parseInt(F,10);var z=this._readableState,he=F;if(F!==0&&(z.emittedReadable=!1),F===0&&z.needReadable&&((z.highWaterMark!==0?z.length>=z.highWaterMark:z.length>0)||z.ended))return d("read: emitReadable",z.length,z.ended),z.length===0&&z.ended?pe(this):W(this),null;if(F=Se(F,z),F===0&&z.ended)return z.length===0&&pe(this),null;var Ne=z.needReadable;d("need readable",Ne),(z.length===0||z.length-F<z.highWaterMark)&&(Ne=!0,d("length less than watermark",Ne)),z.ended||z.reading?(Ne=!1,d("reading or ended",Ne)):Ne&&(d("do read"),z.reading=!0,z.sync=!0,z.length===0&&(z.needReadable=!0),this._read(z.highWaterMark),z.sync=!1,z.reading||(F=Se(he,z)));var Oe;return F>0?Oe=G(F,z):Oe=null,Oe===null?(z.needReadable=z.length<=z.highWaterMark,F=0):(z.length-=F,z.awaitDrain=0),z.length===0&&(z.ended||(z.needReadable=!0),he!==F&&z.ended&&pe(this)),Oe!==null&&this.emit("data",Oe),Oe};function te(F,z){if(d("onEofChunk"),!z.ended){if(z.decoder){var he=z.decoder.end();he&&he.length&&(z.buffer.push(he),z.length+=z.objectMode?1:he.length);}z.ended=!0,z.sync?W(F):(z.needReadable=!1,z.emittedReadable||(z.emittedReadable=!0,ne(F)));}}function W(F){var z=F._readableState;d("emitReadable",z.needReadable,z.emittedReadable),z.needReadable=!1,z.emittedReadable||(d("emitReadable",z.flowing),z.emittedReadable=!0,t.nextTick(ne,F));}function ne(F){var z=F._readableState;d("emitReadable_",z.destroyed,z.length,z.ended),!z.destroyed&&(z.length||z.ended)&&(F.emit("readable"),z.emittedReadable=!1),z.needReadable=!z.flowing&&!z.ended&&z.length<=z.highWaterMark,K(F);}function oe(F,z){z.readingMore||(z.readingMore=!0,t.nextTick(de,F,z));}function de(F,z){for(;!z.reading&&!z.ended&&(z.length<z.highWaterMark||z.flowing&&z.length===0);){var he=z.length;if(d("maybeReadMore read 0"),F.read(0),he===z.length)break}z.readingMore=!1;}ve.prototype._read=function(F){_e(this,new P("_read()"));},ve.prototype.pipe=function(F,z){var he=this,Ne=this._readableState;switch(Ne.pipesCount){case 0:Ne.pipes=F;break;case 1:Ne.pipes=[Ne.pipes,F];break;default:Ne.pipes.push(F);break}Ne.pipesCount+=1,d("pipe count=%d opts=%j",Ne.pipesCount,z);var Oe=(!z||z.end!==!1)&&F!==t.stdout&&F!==t.stderr,Ve=Oe?wr:c;Ne.endEmitted?t.nextTick(Ve):he.once("end",Ve),F.on("unpipe",it);function it(l,w){d("onunpipe"),l===he&&w&&w.hasUnpiped===!1&&(w.hasUnpiped=!0,Ir());}function wr(){d("onend"),F.end();}var Vt=Ue(he);F.on("drain",Vt);var rt=!1;function Ir(){d("cleanup"),F.removeListener("close",Zn),F.removeListener("finish",v),F.removeListener("drain",Vt),F.removeListener("error",Nt),F.removeListener("unpipe",it),he.removeListener("end",wr),he.removeListener("end",c),he.removeListener("data",Ri),rt=!0,Ne.awaitDrain&&(!F._writableState||F._writableState.needDrain)&&Vt();}he.on("data",Ri);function Ri(l){d("ondata");var w=F.write(l);d("dest.write",w),w===!1&&((Ne.pipesCount===1&&Ne.pipes===F||Ne.pipesCount>1&&$e(Ne.pipes,F)!==-1)&&!rt&&(d("false write response, pause",Ne.awaitDrain),Ne.awaitDrain++),he.pause());}function Nt(l){d("onerror",l),c(),F.removeListener("error",Nt),r(F,"error")===0&&_e(F,l);}le(F,"error",Nt);function Zn(){F.removeListener("finish",v),c();}F.once("close",Zn);function v(){d("onfinish"),F.removeListener("close",Zn),c();}F.once("finish",v);function c(){d("unpipe"),he.unpipe(F);}return F.emit("pipe",he),Ne.flowing||(d("pipe resume"),he.resume()),F};function Ue(F){return function(){var he=F._readableState;d("pipeOnDrain",he.awaitDrain),he.awaitDrain&&he.awaitDrain--,he.awaitDrain===0&&r(F,"data")&&(he.flowing=!0,K(F));}}ve.prototype.unpipe=function(F){var z=this._readableState,he={hasUnpiped:!1};if(z.pipesCount===0)return this;if(z.pipesCount===1)return F&&F!==z.pipes?this:(F||(F=z.pipes),z.pipes=null,z.pipesCount=0,z.flowing=!1,F&&F.emit("unpipe",this,he),this);if(!F){var Ne=z.pipes,Oe=z.pipesCount;z.pipes=null,z.pipesCount=0,z.flowing=!1;for(var Ve=0;Ve<Oe;Ve++)Ne[Ve].emit("unpipe",this,{hasUnpiped:!1});return this}var it=$e(z.pipes,F);return it===-1?this:(z.pipes.splice(it,1),z.pipesCount-=1,z.pipesCount===1&&(z.pipes=z.pipes[0]),F.emit("unpipe",this,he),this)},ve.prototype.on=function(F,z){var he=n.prototype.on.call(this,F,z),Ne=this._readableState;return F==="data"?(Ne.readableListening=this.listenerCount("readable")>0,Ne.flowing!==!1&&this.resume()):F==="readable"&&!Ne.endEmitted&&!Ne.readableListening&&(Ne.readableListening=Ne.needReadable=!0,Ne.flowing=!1,Ne.emittedReadable=!1,d("on readable",Ne.length,Ne.reading),Ne.length?W(this):Ne.reading||t.nextTick(dt,this)),he},ve.prototype.addListener=ve.prototype.on,ve.prototype.removeListener=function(F,z){var he=n.prototype.removeListener.call(this,F,z);return F==="readable"&&t.nextTick(ze,this),he},ve.prototype.removeAllListeners=function(F){var z=n.prototype.removeAllListeners.apply(this,arguments);return (F==="readable"||F===void 0)&&t.nextTick(ze,this),z};function ze(F){var z=F._readableState;z.readableListening=F.listenerCount("readable")>0,z.resumeScheduled&&!z.paused?z.flowing=!0:F.listenerCount("data")>0&&F.resume();}function dt(F){d("readable nexttick read 0"),F.read(0);}ve.prototype.resume=function(){var F=this._readableState;return F.flowing||(d("resume"),F.flowing=!F.readableListening,ct(this,F)),F.paused=!1,this};function ct(F,z){z.resumeScheduled||(z.resumeScheduled=!0,t.nextTick(Er,F,z));}function Er(F,z){d("resume",z.reading),z.reading||F.read(0),z.resumeScheduled=!1,F.emit("resume"),K(F),z.flowing&&!z.reading&&F.read(0);}ve.prototype.pause=function(){return d("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(d("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this};function K(F){var z=F._readableState;for(d("flow",z.flowing);z.flowing&&F.read()!==null;);}ve.prototype.wrap=function(F){var z=this,he=this._readableState,Ne=!1;F.on("end",function(){if(d("wrapped end"),he.decoder&&!he.ended){var it=he.decoder.end();it&&it.length&&z.push(it);}z.push(null);}),F.on("data",function(it){if(d("wrapped data"),he.decoder&&(it=he.decoder.write(it)),!(he.objectMode&&it==null)&&!(!he.objectMode&&(!it||!it.length))){var wr=z.push(it);wr||(Ne=!0,F.pause());}});for(var Oe in F)this[Oe]===void 0&&typeof F[Oe]=="function"&&(this[Oe]=function(wr){return function(){return F[wr].apply(F,arguments)}}(Oe));for(var Ve=0;Ve<ue.length;Ve++)F.on(ue[Ve],this.emit.bind(this,ue[Ve]));return this._read=function(it){d("wrapped _read",it),Ne&&(Ne=!1,F.resume());},this},typeof Symbol=="function"&&(ve.prototype[Symbol.asyncIterator]=function(){return V===void 0&&(V=UV()),V(this)}),Object.defineProperty(ve.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(ve.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(ve.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(z){this._readableState&&(this._readableState.flowing=z);}}),ve._fromList=G,Object.defineProperty(ve.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}});function G(F,z){if(z.length===0)return null;var he;return z.objectMode?he=z.buffer.shift():!F||F>=z.length?(z.decoder?he=z.buffer.join(""):z.buffer.length===1?he=z.buffer.first():he=z.buffer.concat(z.length),z.buffer.clear()):he=z.buffer.consume(F,z.decoder),he}function pe(F){var z=F._readableState;d("endReadable",z.endEmitted),z.endEmitted||(z.ended=!0,t.nextTick(Be,z,F));}function Be(F,z){if(d("endReadableNT",F.endEmitted,F.length),!F.endEmitted&&F.length===0&&(F.endEmitted=!0,z.readable=!1,z.emit("end"),F.autoDestroy)){var he=z._writableState;(!he||he.autoDestroy&&he.finished)&&z.destroy();}}typeof Symbol=="function"&&(ve.from=function(F,z){return Y===void 0&&(Y=BV()),Y(ve,F,z)});function $e(F,z){for(var he=0,Ne=F.length;he<Ne;he++)if(F[he]===z)return he;return -1}return zS}var qS={},$k=!1;function GS(){if($k)return qS;$k=!0,qS=s;var t=ul().codes,e=t.ERR_METHOD_NOT_IMPLEMENTED,r=t.ERR_MULTIPLE_CALLBACK,n=t.ERR_TRANSFORM_ALREADY_TRANSFORMING,i=t.ERR_TRANSFORM_WITH_LENGTH_0,o=bs();Rs()(s,o);function a(f,g){var C=this._transformState;C.transforming=!1;var S=C.writecb;if(S===null)return this.emit("error",new r);C.writechunk=null,C.writecb=null,g!=null&&this.push(g),S(f);var E=this._readableState;E.reading=!1,(E.needReadable||E.length<E.highWaterMark)&&this._read(E.highWaterMark);}function s(f){if(!(this instanceof s))return new s(f);o.call(this,f),this._transformState={afterTransform:a.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,f&&(typeof f.transform=="function"&&(this._transform=f.transform),typeof f.flush=="function"&&(this._flush=f.flush)),this.on("prefinish",u);}function u(){var f=this;typeof this._flush=="function"&&!this._readableState.destroyed?this._flush(function(g,C){d(f,g,C);}):d(this,null,null);}s.prototype.push=function(f,g){return this._transformState.needTransform=!1,o.prototype.push.call(this,f,g)},s.prototype._transform=function(f,g,C){C(new e("_transform()"));},s.prototype._write=function(f,g,C){var S=this._transformState;if(S.writecb=C,S.writechunk=f,S.writeencoding=g,!S.transforming){var E=this._readableState;(S.needTransform||E.needReadable||E.length<E.highWaterMark)&&this._read(E.highWaterMark);}},s.prototype._read=function(f){var g=this._transformState;g.writechunk!==null&&!g.transforming?(g.transforming=!0,this._transform(g.writechunk,g.writeencoding,g.afterTransform)):g.needTransform=!0;},s.prototype._destroy=function(f,g){o.prototype._destroy.call(this,f,function(C){g(C);});};function d(f,g,C){if(g)return f.emit("error",g);if(C!=null&&f.push(C),f._writableState.length)throw new i;if(f._transformState.transforming)throw new n;return f.push(null)}return qS}var jS={},Vk=!1;function Jk(){if(Vk)return jS;Vk=!0,jS=e;var t=GS();Rs()(e,t);function e(r){if(!(this instanceof e))return new e(r);t.call(this,r);}return e.prototype._transform=function(r,n,i){i(null,r);},jS}var HS={},Gk=!1;function Zk(){if(Gk)return HS;Gk=!0;var t;function e(C){var S=!1;return function(){S||(S=!0,C.apply(void 0,arguments));}}var r=ul().codes,n=r.ERR_MISSING_ARGS,i=r.ERR_STREAM_DESTROYED;function o(C){if(C)throw C}function a(C){return C.setHeader&&typeof C.abort=="function"}function s(C,S,E,T){T=e(T);var _=!1;C.on("close",function(){_=!0;}),t===void 0&&(t=Jm()),t(C,{readable:S,writable:E},function(M){if(M)return T(M);_=!0,T();});var P=!1;return function(M){if(!_&&!P){if(P=!0,a(C))return C.abort();if(typeof C.destroy=="function")return C.destroy();T(M||new i("pipe"));}}}function u(C){C();}function d(C,S){return C.pipe(S)}function f(C){return !C.length||typeof C[C.length-1]!="function"?o:C.pop()}function g(){for(var C=arguments.length,S=new Array(C),E=0;E<C;E++)S[E]=arguments[E];var T=f(S);if(Array.isArray(S[0])&&(S=S[0]),S.length<2)throw new n("streams");var _,P=S.map(function(M,D){var V=D<S.length-1,Y=D>0;return s(M,V,Y,function(_e){_||(_=_e),_e&&P.forEach(u),!V&&(P.forEach(u),T(_));})});return S.reduce(d)}return HS=g,HS}En();oi();lo();y();p();h();m();ru();ru();Aa();Pt._makeLong;Pt.basename;Pt.delimiter;Pt.dirname;Pt.extname;Pt.format;Pt.isAbsolute;Pt.join;Pt.normalize;Pt.parse;Pt.posix;Pt.relative;Pt.resolve;Pt.sep;Pt.win32;Aa();oa();ia();y();p();h();m();y();p();h();m();oa();ia();var WS={},Qk=!1,KS=typeof globalThis!="undefined"?globalThis:typeof self!="undefined"?self:globalThis;function LV(){if(Qk)return WS;Qk=!0,WS=r;var t=zt.EventEmitter,e=Rs();e(r,t),r.Readable=VS(),r.Writable=$S(),r.Duplex=bs(),r.Transform=GS(),r.PassThrough=Jk(),r.finished=Jm(),r.pipeline=Zk(),r.Stream=r;function r(){t.call(this||KS);}return r.prototype.pipe=function(n,i){var o=this||KS;function a(S){n.writable&&n.write(S)===!1&&o.pause&&o.pause();}o.on("data",a);function s(){o.readable&&o.resume&&o.resume();}n.on("drain",s),!n._isStdio&&(!i||i.end!==!1)&&(o.on("end",d),o.on("close",f));var u=!1;function d(){u||(u=!0,n.end());}function f(){u||(u=!0,typeof n.destroy=="function"&&n.destroy());}function g(S){if(C(),t.listenerCount(this||KS,"error")===0)throw S}o.on("error",g),n.on("error",g);function C(){o.removeListener("data",a),n.removeListener("drain",s),o.removeListener("end",d),o.removeListener("close",f),o.removeListener("error",g),n.removeListener("error",g),o.removeListener("end",C),o.removeListener("close",C),n.removeListener("close",C);}return o.on("end",C),o.on("close",C),n.on("close",C),n.emit("pipe",o),n},WS}var Vr=LV();oi();oa();ia();Rl();lo();so();Aa();var Xk=Vr.Readable;Xk.wrap=function(t,e){return e=Object.assign({objectMode:t.readableObjectMode!=null||t.objectMode!=null||!0},e),e.destroy=function(r,n){t.destroy(r),n(r);},new Xk(e).wrap(t)};Vr.Writable;Vr.Duplex;Vr.Transform;Vr.PassThrough;Vr.finished;Vr.pipeline;Vr.Stream;({finished:Ws(Vr.finished),pipeline:Ws(Vr.pipeline)});iu();ru();y();p();h();m();var qd={},eP=!1;function FV(){if(eP)return qd;eP=!0,qd.byteLength=s,qd.toByteArray=d,qd.fromByteArray=C;for(var t=[],e=[],r=typeof Uint8Array!="undefined"?Uint8Array:Array,n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",i=0,o=n.length;i<o;++i)t[i]=n[i],e[n.charCodeAt(i)]=i;e[45]=62,e[95]=63;function a(S){var E=S.length;if(E%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var T=S.indexOf("=");T===-1&&(T=E);var _=T===E?0:4-T%4;return [T,_]}function s(S){var E=a(S),T=E[0],_=E[1];return (T+_)*3/4-_}function u(S,E,T){return (E+T)*3/4-T}function d(S){var E,T=a(S),_=T[0],P=T[1],M=new r(u(S,_,P)),D=0,V=P>0?_-4:_,Y;for(Y=0;Y<V;Y+=4)E=e[S.charCodeAt(Y)]<<18|e[S.charCodeAt(Y+1)]<<12|e[S.charCodeAt(Y+2)]<<6|e[S.charCodeAt(Y+3)],M[D++]=E>>16&255,M[D++]=E>>8&255,M[D++]=E&255;return P===2&&(E=e[S.charCodeAt(Y)]<<2|e[S.charCodeAt(Y+1)]>>4,M[D++]=E&255),P===1&&(E=e[S.charCodeAt(Y)]<<10|e[S.charCodeAt(Y+1)]<<4|e[S.charCodeAt(Y+2)]>>2,M[D++]=E>>8&255,M[D++]=E&255),M}function f(S){return t[S>>18&63]+t[S>>12&63]+t[S>>6&63]+t[S&63]}function g(S,E,T){for(var _,P=[],M=E;M<T;M+=3)_=(S[M]<<16&16711680)+(S[M+1]<<8&65280)+(S[M+2]&255),P.push(f(_));return P.join("")}function C(S){for(var E,T=S.length,_=T%3,P=[],M=16383,D=0,V=T-_;D<V;D+=M)P.push(g(S,D,D+M>V?V:D+M));return _===1?(E=S[T-1],P.push(t[E>>2]+t[E<<4&63]+"==")):_===2&&(E=(S[T-2]<<8)+S[T-1],P.push(t[E>>10]+t[E>>4&63]+t[E<<2&63]+"=")),P.join("")}return qd}var Zm={},tP=!1;function zV(){if(tP)return Zm;tP=!0;return Zm.read=function(t,e,r,n,i){var o,a,s=i*8-n-1,u=(1<<s)-1,d=u>>1,f=-7,g=r?i-1:0,C=r?-1:1,S=t[e+g];for(g+=C,o=S&(1<<-f)-1,S>>=-f,f+=s;f>0;o=o*256+t[e+g],g+=C,f-=8);for(a=o&(1<<-f)-1,o>>=-f,f+=n;f>0;a=a*256+t[e+g],g+=C,f-=8);if(o===0)o=1-d;else {if(o===u)return a?NaN:(S?-1:1)*(1/0);a=a+Math.pow(2,n),o=o-d;}return (S?-1:1)*a*Math.pow(2,o-n)},Zm.write=function(t,e,r,n,i,o){var a,s,u,d=o*8-i-1,f=(1<<d)-1,g=f>>1,C=i===23?Math.pow(2,-24)-Math.pow(2,-77):0,S=n?0:o-1,E=n?1:-1,T=e<0||e===0&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(s=isNaN(e)?1:0,a=f):(a=Math.floor(Math.log(e)/Math.LN2),e*(u=Math.pow(2,-a))<1&&(a--,u*=2),a+g>=1?e+=C/u:e+=C*Math.pow(2,1-g),e*u>=2&&(a++,u/=2),a+g>=f?(s=0,a=f):a+g>=1?(s=(e*u-1)*Math.pow(2,i),a=a+g):(s=e*Math.pow(2,g-1)*Math.pow(2,i),a=0));i>=8;t[r+S]=s&255,S+=E,s/=256,i-=8);for(a=a<<i|s,d+=i;d>0;t[r+S]=a&255,S+=E,a/=256,d-=8);t[r+S-E]|=T*128;},Zm}var _s={},rP=!1;function qV(){if(rP)return _s;rP=!0;let t=FV(),e=zV(),r=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;_s.Buffer=a,_s.SlowBuffer=P,_s.INSPECT_MAX_BYTES=50;let n=2147483647;_s.kMaxLength=n,a.TYPED_ARRAY_SUPPORT=i(),!a.TYPED_ARRAY_SUPPORT&&typeof console!="undefined"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function i(){try{let v=new Uint8Array(1),c={foo:function(){return 42}};return Object.setPrototypeOf(c,Uint8Array.prototype),Object.setPrototypeOf(v,c),v.foo()===42}catch(v){return !1}}Object.defineProperty(a.prototype,"parent",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.buffer}}),Object.defineProperty(a.prototype,"offset",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.byteOffset}});function o(v){if(v>n)throw new RangeError('The value "'+v+'" is invalid for option "size"');let c=new Uint8Array(v);return Object.setPrototypeOf(c,a.prototype),c}function a(v,c,l){if(typeof v=="number"){if(typeof c=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return f(v)}return s(v,c,l)}a.poolSize=8192;function s(v,c,l){if(typeof v=="string")return g(v,c);if(ArrayBuffer.isView(v))return S(v);if(v==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof v);if(rt(v,ArrayBuffer)||v&&rt(v.buffer,ArrayBuffer)||typeof SharedArrayBuffer!="undefined"&&(rt(v,SharedArrayBuffer)||v&&rt(v.buffer,SharedArrayBuffer)))return E(v,c,l);if(typeof v=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');let w=v.valueOf&&v.valueOf();if(w!=null&&w!==v)return a.from(w,c,l);let x=T(v);if(x)return x;if(typeof Symbol!="undefined"&&Symbol.toPrimitive!=null&&typeof v[Symbol.toPrimitive]=="function")return a.from(v[Symbol.toPrimitive]("string"),c,l);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof v)}a.from=function(v,c,l){return s(v,c,l)},Object.setPrototypeOf(a.prototype,Uint8Array.prototype),Object.setPrototypeOf(a,Uint8Array);function u(v){if(typeof v!="number")throw new TypeError('"size" argument must be of type number');if(v<0)throw new RangeError('The value "'+v+'" is invalid for option "size"')}function d(v,c,l){return u(v),v<=0?o(v):c!==void 0?typeof l=="string"?o(v).fill(c,l):o(v).fill(c):o(v)}a.alloc=function(v,c,l){return d(v,c,l)};function f(v){return u(v),o(v<0?0:_(v)|0)}a.allocUnsafe=function(v){return f(v)},a.allocUnsafeSlow=function(v){return f(v)};function g(v,c){if((typeof c!="string"||c==="")&&(c="utf8"),!a.isEncoding(c))throw new TypeError("Unknown encoding: "+c);let l=M(v,c)|0,w=o(l),x=w.write(v,c);return x!==l&&(w=w.slice(0,x)),w}function C(v){let c=v.length<0?0:_(v.length)|0,l=o(c);for(let w=0;w<c;w+=1)l[w]=v[w]&255;return l}function S(v){if(rt(v,Uint8Array)){let c=new Uint8Array(v);return E(c.buffer,c.byteOffset,c.byteLength)}return C(v)}function E(v,c,l){if(c<0||v.byteLength<c)throw new RangeError('"offset" is outside of buffer bounds');if(v.byteLength<c+(l||0))throw new RangeError('"length" is outside of buffer bounds');let w;return c===void 0&&l===void 0?w=new Uint8Array(v):l===void 0?w=new Uint8Array(v,c):w=new Uint8Array(v,c,l),Object.setPrototypeOf(w,a.prototype),w}function T(v){if(a.isBuffer(v)){let c=_(v.length)|0,l=o(c);return l.length===0||v.copy(l,0,0,c),l}if(v.length!==void 0)return typeof v.length!="number"||Ir(v.length)?o(0):C(v);if(v.type==="Buffer"&&Array.isArray(v.data))return C(v.data)}function _(v){if(v>=n)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+n.toString(16)+" bytes");return v|0}function P(v){return +v!=v&&(v=0),a.alloc(+v)}a.isBuffer=function(c){return c!=null&&c._isBuffer===!0&&c!==a.prototype},a.compare=function(c,l){if(rt(c,Uint8Array)&&(c=a.from(c,c.offset,c.byteLength)),rt(l,Uint8Array)&&(l=a.from(l,l.offset,l.byteLength)),!a.isBuffer(c)||!a.isBuffer(l))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(c===l)return 0;let w=c.length,x=l.length;for(let B=0,j=Math.min(w,x);B<j;++B)if(c[B]!==l[B]){w=c[B],x=l[B];break}return w<x?-1:x<w?1:0},a.isEncoding=function(c){switch(String(c).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return !0;default:return !1}},a.concat=function(c,l){if(!Array.isArray(c))throw new TypeError('"list" argument must be an Array of Buffers');if(c.length===0)return a.alloc(0);let w;if(l===void 0)for(l=0,w=0;w<c.length;++w)l+=c[w].length;let x=a.allocUnsafe(l),B=0;for(w=0;w<c.length;++w){let j=c[w];if(rt(j,Uint8Array))B+j.length>x.length?(a.isBuffer(j)||(j=a.from(j)),j.copy(x,B)):Uint8Array.prototype.set.call(x,j,B);else if(a.isBuffer(j))j.copy(x,B);else throw new TypeError('"list" argument must be an Array of Buffers');B+=j.length;}return x};function M(v,c){if(a.isBuffer(v))return v.length;if(ArrayBuffer.isView(v)||rt(v,ArrayBuffer))return v.byteLength;if(typeof v!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof v);let l=v.length,w=arguments.length>2&&arguments[2]===!0;if(!w&&l===0)return 0;let x=!1;for(;;)switch(c){case"ascii":case"latin1":case"binary":return l;case"utf8":case"utf-8":return Oe(v).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return l*2;case"hex":return l>>>1;case"base64":return wr(v).length;default:if(x)return w?-1:Oe(v).length;c=(""+c).toLowerCase(),x=!0;}}a.byteLength=M;function D(v,c,l){let w=!1;if((c===void 0||c<0)&&(c=0),c>this.length||((l===void 0||l>this.length)&&(l=this.length),l<=0)||(l>>>=0,c>>>=0,l<=c))return "";for(v||(v="utf8");;)switch(v){case"hex":return W(this,c,l);case"utf8":case"utf-8":return Ae(this,c,l);case"ascii":return Se(this,c,l);case"latin1":case"binary":return te(this,c,l);case"base64":return X(this,c,l);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return ne(this,c,l);default:if(w)throw new TypeError("Unknown encoding: "+v);v=(v+"").toLowerCase(),w=!0;}}a.prototype._isBuffer=!0;function V(v,c,l){let w=v[c];v[c]=v[l],v[l]=w;}a.prototype.swap16=function(){let c=this.length;if(c%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let l=0;l<c;l+=2)V(this,l,l+1);return this},a.prototype.swap32=function(){let c=this.length;if(c%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let l=0;l<c;l+=4)V(this,l,l+3),V(this,l+1,l+2);return this},a.prototype.swap64=function(){let c=this.length;if(c%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let l=0;l<c;l+=8)V(this,l,l+7),V(this,l+1,l+6),V(this,l+2,l+5),V(this,l+3,l+4);return this},a.prototype.toString=function(){let c=this.length;return c===0?"":arguments.length===0?Ae(this,0,c):D.apply(this,arguments)},a.prototype.toLocaleString=a.prototype.toString,a.prototype.equals=function(c){if(!a.isBuffer(c))throw new TypeError("Argument must be a Buffer");return this===c?!0:a.compare(this,c)===0},a.prototype.inspect=function(){let c="",l=_s.INSPECT_MAX_BYTES;return c=this.toString("hex",0,l).replace(/(.{2})/g,"$1 ").trim(),this.length>l&&(c+=" ... "),"<Buffer "+c+">"},r&&(a.prototype[r]=a.prototype.inspect),a.prototype.compare=function(c,l,w,x,B){if(rt(c,Uint8Array)&&(c=a.from(c,c.offset,c.byteLength)),!a.isBuffer(c))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof c);if(l===void 0&&(l=0),w===void 0&&(w=c?c.length:0),x===void 0&&(x=0),B===void 0&&(B=this.length),l<0||w>c.length||x<0||B>this.length)throw new RangeError("out of range index");if(x>=B&&l>=w)return 0;if(x>=B)return -1;if(l>=w)return 1;if(l>>>=0,w>>>=0,x>>>=0,B>>>=0,this===c)return 0;let j=B-x,be=w-l,Ge=Math.min(j,be),He=this.slice(x,B),We=c.slice(l,w);for(let Le=0;Le<Ge;++Le)if(He[Le]!==We[Le]){j=He[Le],be=We[Le];break}return j<be?-1:be<j?1:0};function Y(v,c,l,w,x){if(v.length===0)return -1;if(typeof l=="string"?(w=l,l=0):l>2147483647?l=2147483647:l<-2147483648&&(l=-2147483648),l=+l,Ir(l)&&(l=x?0:v.length-1),l<0&&(l=v.length+l),l>=v.length){if(x)return -1;l=v.length-1;}else if(l<0)if(x)l=0;else return -1;if(typeof c=="string"&&(c=a.from(c,w)),a.isBuffer(c))return c.length===0?-1:_e(v,c,l,w,x);if(typeof c=="number")return c=c&255,typeof Uint8Array.prototype.indexOf=="function"?x?Uint8Array.prototype.indexOf.call(v,c,l):Uint8Array.prototype.lastIndexOf.call(v,c,l):_e(v,[c],l,w,x);throw new TypeError("val must be string, number or Buffer")}function _e(v,c,l,w,x){let B=1,j=v.length,be=c.length;if(w!==void 0&&(w=String(w).toLowerCase(),w==="ucs2"||w==="ucs-2"||w==="utf16le"||w==="utf-16le")){if(v.length<2||c.length<2)return -1;B=2,j/=2,be/=2,l/=2;}function Ge(We,Le){return B===1?We[Le]:We.readUInt16BE(Le*B)}let He;if(x){let We=-1;for(He=l;He<j;He++)if(Ge(v,He)===Ge(c,We===-1?0:He-We)){if(We===-1&&(We=He),He-We+1===be)return We*B}else We!==-1&&(He-=He-We),We=-1;}else for(l+be>j&&(l=j-be),He=l;He>=0;He--){let We=!0;for(let Le=0;Le<be;Le++)if(Ge(v,He+Le)!==Ge(c,Le)){We=!1;break}if(We)return He}return -1}a.prototype.includes=function(c,l,w){return this.indexOf(c,l,w)!==-1},a.prototype.indexOf=function(c,l,w){return Y(this,c,l,w,!0)},a.prototype.lastIndexOf=function(c,l,w){return Y(this,c,l,w,!1)};function ue(v,c,l,w){l=Number(l)||0;let x=v.length-l;w?(w=Number(w),w>x&&(w=x)):w=x;let B=c.length;w>B/2&&(w=B/2);let j;for(j=0;j<w;++j){let be=parseInt(c.substr(j*2,2),16);if(Ir(be))return j;v[l+j]=be;}return j}function le(v,c,l,w){return Vt(Oe(c,v.length-l),v,l,w)}function fe(v,c,l,w){return Vt(Ve(c),v,l,w)}function ve(v,c,l,w){return Vt(wr(c),v,l,w)}function H(v,c,l,w){return Vt(it(c,v.length-l),v,l,w)}a.prototype.write=function(c,l,w,x){if(l===void 0)x="utf8",w=this.length,l=0;else if(w===void 0&&typeof l=="string")x=l,w=this.length,l=0;else if(isFinite(l))l=l>>>0,isFinite(w)?(w=w>>>0,x===void 0&&(x="utf8")):(x=w,w=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");let B=this.length-l;if((w===void 0||w>B)&&(w=B),c.length>0&&(w<0||l<0)||l>this.length)throw new RangeError("Attempt to write outside buffer bounds");x||(x="utf8");let j=!1;for(;;)switch(x){case"hex":return ue(this,c,l,w);case"utf8":case"utf-8":return le(this,c,l,w);case"ascii":case"latin1":case"binary":return fe(this,c,l,w);case"base64":return ve(this,c,l,w);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return H(this,c,l,w);default:if(j)throw new TypeError("Unknown encoding: "+x);x=(""+x).toLowerCase(),j=!0;}},a.prototype.toJSON=function(){return {type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function X(v,c,l){return c===0&&l===v.length?t.fromByteArray(v):t.fromByteArray(v.slice(c,l))}function Ae(v,c,l){l=Math.min(v.length,l);let w=[],x=c;for(;x<l;){let B=v[x],j=null,be=B>239?4:B>223?3:B>191?2:1;if(x+be<=l){let Ge,He,We,Le;switch(be){case 1:B<128&&(j=B);break;case 2:Ge=v[x+1],(Ge&192)===128&&(Le=(B&31)<<6|Ge&63,Le>127&&(j=Le));break;case 3:Ge=v[x+1],He=v[x+2],(Ge&192)===128&&(He&192)===128&&(Le=(B&15)<<12|(Ge&63)<<6|He&63,Le>2047&&(Le<55296||Le>57343)&&(j=Le));break;case 4:Ge=v[x+1],He=v[x+2],We=v[x+3],(Ge&192)===128&&(He&192)===128&&(We&192)===128&&(Le=(B&15)<<18|(Ge&63)<<12|(He&63)<<6|We&63,Le>65535&&Le<1114112&&(j=Le));}}j===null?(j=65533,be=1):j>65535&&(j-=65536,w.push(j>>>10&1023|55296),j=56320|j&1023),w.push(j),x+=be;}return Ee(w)}let Te=4096;function Ee(v){let c=v.length;if(c<=Te)return String.fromCharCode.apply(String,v);let l="",w=0;for(;w<c;)l+=String.fromCharCode.apply(String,v.slice(w,w+=Te));return l}function Se(v,c,l){let w="";l=Math.min(v.length,l);for(let x=c;x<l;++x)w+=String.fromCharCode(v[x]&127);return w}function te(v,c,l){let w="";l=Math.min(v.length,l);for(let x=c;x<l;++x)w+=String.fromCharCode(v[x]);return w}function W(v,c,l){let w=v.length;(!c||c<0)&&(c=0),(!l||l<0||l>w)&&(l=w);let x="";for(let B=c;B<l;++B)x+=Ri[v[B]];return x}function ne(v,c,l){let w=v.slice(c,l),x="";for(let B=0;B<w.length-1;B+=2)x+=String.fromCharCode(w[B]+w[B+1]*256);return x}a.prototype.slice=function(c,l){let w=this.length;c=~~c,l=l===void 0?w:~~l,c<0?(c+=w,c<0&&(c=0)):c>w&&(c=w),l<0?(l+=w,l<0&&(l=0)):l>w&&(l=w),l<c&&(l=c);let x=this.subarray(c,l);return Object.setPrototypeOf(x,a.prototype),x};function oe(v,c,l){if(v%1!==0||v<0)throw new RangeError("offset is not uint");if(v+c>l)throw new RangeError("Trying to access beyond buffer length")}a.prototype.readUintLE=a.prototype.readUIntLE=function(c,l,w){c=c>>>0,l=l>>>0,w||oe(c,l,this.length);let x=this[c],B=1,j=0;for(;++j<l&&(B*=256);)x+=this[c+j]*B;return x},a.prototype.readUintBE=a.prototype.readUIntBE=function(c,l,w){c=c>>>0,l=l>>>0,w||oe(c,l,this.length);let x=this[c+--l],B=1;for(;l>0&&(B*=256);)x+=this[c+--l]*B;return x},a.prototype.readUint8=a.prototype.readUInt8=function(c,l){return c=c>>>0,l||oe(c,1,this.length),this[c]},a.prototype.readUint16LE=a.prototype.readUInt16LE=function(c,l){return c=c>>>0,l||oe(c,2,this.length),this[c]|this[c+1]<<8},a.prototype.readUint16BE=a.prototype.readUInt16BE=function(c,l){return c=c>>>0,l||oe(c,2,this.length),this[c]<<8|this[c+1]},a.prototype.readUint32LE=a.prototype.readUInt32LE=function(c,l){return c=c>>>0,l||oe(c,4,this.length),(this[c]|this[c+1]<<8|this[c+2]<<16)+this[c+3]*16777216},a.prototype.readUint32BE=a.prototype.readUInt32BE=function(c,l){return c=c>>>0,l||oe(c,4,this.length),this[c]*16777216+(this[c+1]<<16|this[c+2]<<8|this[c+3])},a.prototype.readBigUInt64LE=Nt(function(c){c=c>>>0,F(c,"offset");let l=this[c],w=this[c+7];(l===void 0||w===void 0)&&z(c,this.length-8);let x=l+this[++c]*Re(2,8)+this[++c]*Re(2,16)+this[++c]*Re(2,24),B=this[++c]+this[++c]*Re(2,8)+this[++c]*Re(2,16)+w*Re(2,24);return BigInt(x)+(BigInt(B)<<BigInt(32))}),a.prototype.readBigUInt64BE=Nt(function(c){c=c>>>0,F(c,"offset");let l=this[c],w=this[c+7];(l===void 0||w===void 0)&&z(c,this.length-8);let x=l*Re(2,24)+this[++c]*Re(2,16)+this[++c]*Re(2,8)+this[++c],B=this[++c]*Re(2,24)+this[++c]*Re(2,16)+this[++c]*Re(2,8)+w;return (BigInt(x)<<BigInt(32))+BigInt(B)}),a.prototype.readIntLE=function(c,l,w){c=c>>>0,l=l>>>0,w||oe(c,l,this.length);let x=this[c],B=1,j=0;for(;++j<l&&(B*=256);)x+=this[c+j]*B;return B*=128,x>=B&&(x-=Math.pow(2,8*l)),x},a.prototype.readIntBE=function(c,l,w){c=c>>>0,l=l>>>0,w||oe(c,l,this.length);let x=l,B=1,j=this[c+--x];for(;x>0&&(B*=256);)j+=this[c+--x]*B;return B*=128,j>=B&&(j-=Math.pow(2,8*l)),j},a.prototype.readInt8=function(c,l){return c=c>>>0,l||oe(c,1,this.length),this[c]&128?(255-this[c]+1)*-1:this[c]},a.prototype.readInt16LE=function(c,l){c=c>>>0,l||oe(c,2,this.length);let w=this[c]|this[c+1]<<8;return w&32768?w|4294901760:w},a.prototype.readInt16BE=function(c,l){c=c>>>0,l||oe(c,2,this.length);let w=this[c+1]|this[c]<<8;return w&32768?w|4294901760:w},a.prototype.readInt32LE=function(c,l){return c=c>>>0,l||oe(c,4,this.length),this[c]|this[c+1]<<8|this[c+2]<<16|this[c+3]<<24},a.prototype.readInt32BE=function(c,l){return c=c>>>0,l||oe(c,4,this.length),this[c]<<24|this[c+1]<<16|this[c+2]<<8|this[c+3]},a.prototype.readBigInt64LE=Nt(function(c){c=c>>>0,F(c,"offset");let l=this[c],w=this[c+7];(l===void 0||w===void 0)&&z(c,this.length-8);let x=this[c+4]+this[c+5]*Re(2,8)+this[c+6]*Re(2,16)+(w<<24);return (BigInt(x)<<BigInt(32))+BigInt(l+this[++c]*Re(2,8)+this[++c]*Re(2,16)+this[++c]*Re(2,24))}),a.prototype.readBigInt64BE=Nt(function(c){c=c>>>0,F(c,"offset");let l=this[c],w=this[c+7];(l===void 0||w===void 0)&&z(c,this.length-8);let x=(l<<24)+this[++c]*Re(2,16)+this[++c]*Re(2,8)+this[++c];return (BigInt(x)<<BigInt(32))+BigInt(this[++c]*Re(2,24)+this[++c]*Re(2,16)+this[++c]*Re(2,8)+w)}),a.prototype.readFloatLE=function(c,l){return c=c>>>0,l||oe(c,4,this.length),e.read(this,c,!0,23,4)},a.prototype.readFloatBE=function(c,l){return c=c>>>0,l||oe(c,4,this.length),e.read(this,c,!1,23,4)},a.prototype.readDoubleLE=function(c,l){return c=c>>>0,l||oe(c,8,this.length),e.read(this,c,!0,52,8)},a.prototype.readDoubleBE=function(c,l){return c=c>>>0,l||oe(c,8,this.length),e.read(this,c,!1,52,8)};function de(v,c,l,w,x,B){if(!a.isBuffer(v))throw new TypeError('"buffer" argument must be a Buffer instance');if(c>x||c<B)throw new RangeError('"value" argument is out of bounds');if(l+w>v.length)throw new RangeError("Index out of range")}a.prototype.writeUintLE=a.prototype.writeUIntLE=function(c,l,w,x){if(c=+c,l=l>>>0,w=w>>>0,!x){let be=Math.pow(2,8*w)-1;de(this,c,l,w,be,0);}let B=1,j=0;for(this[l]=c&255;++j<w&&(B*=256);)this[l+j]=c/B&255;return l+w},a.prototype.writeUintBE=a.prototype.writeUIntBE=function(c,l,w,x){if(c=+c,l=l>>>0,w=w>>>0,!x){let be=Math.pow(2,8*w)-1;de(this,c,l,w,be,0);}let B=w-1,j=1;for(this[l+B]=c&255;--B>=0&&(j*=256);)this[l+B]=c/j&255;return l+w},a.prototype.writeUint8=a.prototype.writeUInt8=function(c,l,w){return c=+c,l=l>>>0,w||de(this,c,l,1,255,0),this[l]=c&255,l+1},a.prototype.writeUint16LE=a.prototype.writeUInt16LE=function(c,l,w){return c=+c,l=l>>>0,w||de(this,c,l,2,65535,0),this[l]=c&255,this[l+1]=c>>>8,l+2},a.prototype.writeUint16BE=a.prototype.writeUInt16BE=function(c,l,w){return c=+c,l=l>>>0,w||de(this,c,l,2,65535,0),this[l]=c>>>8,this[l+1]=c&255,l+2},a.prototype.writeUint32LE=a.prototype.writeUInt32LE=function(c,l,w){return c=+c,l=l>>>0,w||de(this,c,l,4,4294967295,0),this[l+3]=c>>>24,this[l+2]=c>>>16,this[l+1]=c>>>8,this[l]=c&255,l+4},a.prototype.writeUint32BE=a.prototype.writeUInt32BE=function(c,l,w){return c=+c,l=l>>>0,w||de(this,c,l,4,4294967295,0),this[l]=c>>>24,this[l+1]=c>>>16,this[l+2]=c>>>8,this[l+3]=c&255,l+4};function Ue(v,c,l,w,x){$e(c,w,x,v,l,7);let B=Number(c&BigInt(4294967295));v[l++]=B,B=B>>8,v[l++]=B,B=B>>8,v[l++]=B,B=B>>8,v[l++]=B;let j=Number(c>>BigInt(32)&BigInt(4294967295));return v[l++]=j,j=j>>8,v[l++]=j,j=j>>8,v[l++]=j,j=j>>8,v[l++]=j,l}function ze(v,c,l,w,x){$e(c,w,x,v,l,7);let B=Number(c&BigInt(4294967295));v[l+7]=B,B=B>>8,v[l+6]=B,B=B>>8,v[l+5]=B,B=B>>8,v[l+4]=B;let j=Number(c>>BigInt(32)&BigInt(4294967295));return v[l+3]=j,j=j>>8,v[l+2]=j,j=j>>8,v[l+1]=j,j=j>>8,v[l]=j,l+8}a.prototype.writeBigUInt64LE=Nt(function(c,l=0){return Ue(this,c,l,BigInt(0),BigInt("0xffffffffffffffff"))}),a.prototype.writeBigUInt64BE=Nt(function(c,l=0){return ze(this,c,l,BigInt(0),BigInt("0xffffffffffffffff"))}),a.prototype.writeIntLE=function(c,l,w,x){if(c=+c,l=l>>>0,!x){let Ge=Math.pow(2,8*w-1);de(this,c,l,w,Ge-1,-Ge);}let B=0,j=1,be=0;for(this[l]=c&255;++B<w&&(j*=256);)c<0&&be===0&&this[l+B-1]!==0&&(be=1),this[l+B]=(c/j>>0)-be&255;return l+w},a.prototype.writeIntBE=function(c,l,w,x){if(c=+c,l=l>>>0,!x){let Ge=Math.pow(2,8*w-1);de(this,c,l,w,Ge-1,-Ge);}let B=w-1,j=1,be=0;for(this[l+B]=c&255;--B>=0&&(j*=256);)c<0&&be===0&&this[l+B+1]!==0&&(be=1),this[l+B]=(c/j>>0)-be&255;return l+w},a.prototype.writeInt8=function(c,l,w){return c=+c,l=l>>>0,w||de(this,c,l,1,127,-128),c<0&&(c=255+c+1),this[l]=c&255,l+1},a.prototype.writeInt16LE=function(c,l,w){return c=+c,l=l>>>0,w||de(this,c,l,2,32767,-32768),this[l]=c&255,this[l+1]=c>>>8,l+2},a.prototype.writeInt16BE=function(c,l,w){return c=+c,l=l>>>0,w||de(this,c,l,2,32767,-32768),this[l]=c>>>8,this[l+1]=c&255,l+2},a.prototype.writeInt32LE=function(c,l,w){return c=+c,l=l>>>0,w||de(this,c,l,4,2147483647,-2147483648),this[l]=c&255,this[l+1]=c>>>8,this[l+2]=c>>>16,this[l+3]=c>>>24,l+4},a.prototype.writeInt32BE=function(c,l,w){return c=+c,l=l>>>0,w||de(this,c,l,4,2147483647,-2147483648),c<0&&(c=4294967295+c+1),this[l]=c>>>24,this[l+1]=c>>>16,this[l+2]=c>>>8,this[l+3]=c&255,l+4},a.prototype.writeBigInt64LE=Nt(function(c,l=0){return Ue(this,c,l,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),a.prototype.writeBigInt64BE=Nt(function(c,l=0){return ze(this,c,l,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function dt(v,c,l,w,x,B){if(l+w>v.length)throw new RangeError("Index out of range");if(l<0)throw new RangeError("Index out of range")}function ct(v,c,l,w,x){return c=+c,l=l>>>0,x||dt(v,c,l,4),e.write(v,c,l,w,23,4),l+4}a.prototype.writeFloatLE=function(c,l,w){return ct(this,c,l,!0,w)},a.prototype.writeFloatBE=function(c,l,w){return ct(this,c,l,!1,w)};function Er(v,c,l,w,x){return c=+c,l=l>>>0,x||dt(v,c,l,8),e.write(v,c,l,w,52,8),l+8}a.prototype.writeDoubleLE=function(c,l,w){return Er(this,c,l,!0,w)},a.prototype.writeDoubleBE=function(c,l,w){return Er(this,c,l,!1,w)},a.prototype.copy=function(c,l,w,x){if(!a.isBuffer(c))throw new TypeError("argument should be a Buffer");if(w||(w=0),!x&&x!==0&&(x=this.length),l>=c.length&&(l=c.length),l||(l=0),x>0&&x<w&&(x=w),x===w||c.length===0||this.length===0)return 0;if(l<0)throw new RangeError("targetStart out of bounds");if(w<0||w>=this.length)throw new RangeError("Index out of range");if(x<0)throw new RangeError("sourceEnd out of bounds");x>this.length&&(x=this.length),c.length-l<x-w&&(x=c.length-l+w);let B=x-w;return this===c&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(l,w,x):Uint8Array.prototype.set.call(c,this.subarray(w,x),l),B},a.prototype.fill=function(c,l,w,x){if(typeof c=="string"){if(typeof l=="string"?(x=l,l=0,w=this.length):typeof w=="string"&&(x=w,w=this.length),x!==void 0&&typeof x!="string")throw new TypeError("encoding must be a string");if(typeof x=="string"&&!a.isEncoding(x))throw new TypeError("Unknown encoding: "+x);if(c.length===1){let j=c.charCodeAt(0);(x==="utf8"&&j<128||x==="latin1")&&(c=j);}}else typeof c=="number"?c=c&255:typeof c=="boolean"&&(c=Number(c));if(l<0||this.length<l||this.length<w)throw new RangeError("Out of range index");if(w<=l)return this;l=l>>>0,w=w===void 0?this.length:w>>>0,c||(c=0);let B;if(typeof c=="number")for(B=l;B<w;++B)this[B]=c;else {let j=a.isBuffer(c)?c:a.from(c,x),be=j.length;if(be===0)throw new TypeError('The value "'+c+'" is invalid for argument "value"');for(B=0;B<w-l;++B)this[B+l]=j[B%be];}return this};let K={};function G(v,c,l){K[v]=class extends l{constructor(){super(),Object.defineProperty(this,"message",{value:c.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${v}]`,this.stack,delete this.name;}get code(){return v}set code(x){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:x,writable:!0});}toString(){return `${this.name} [${v}]: ${this.message}`}};}G("ERR_BUFFER_OUT_OF_BOUNDS",function(v){return v?`${v} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),G("ERR_INVALID_ARG_TYPE",function(v,c){return `The "${v}" argument must be of type number. Received type ${typeof c}`},TypeError),G("ERR_OUT_OF_RANGE",function(v,c,l){let w=`The value of "${v}" is out of range.`,x=l;return Number.isInteger(l)&&Math.abs(l)>Re(2,32)?x=pe(String(l)):typeof l=="bigint"&&(x=String(l),(l>Re(BigInt(2),BigInt(32))||l<-Re(BigInt(2),BigInt(32)))&&(x=pe(x)),x+="n"),w+=` It must be ${c}. Received ${x}`,w},RangeError);function pe(v){let c="",l=v.length,w=v[0]==="-"?1:0;for(;l>=w+4;l-=3)c=`_${v.slice(l-3,l)}${c}`;return `${v.slice(0,l)}${c}`}function Be(v,c,l){F(c,"offset"),(v[c]===void 0||v[c+l]===void 0)&&z(c,v.length-(l+1));}function $e(v,c,l,w,x,B){if(v>l||v<c){let j=typeof c=="bigint"?"n":"",be;throw c===0||c===BigInt(0)?be=`>= 0${j} and < 2${j} ** ${(B+1)*8}${j}`:be=`>= -(2${j} ** ${(B+1)*8-1}${j}) and < 2 ** ${(B+1)*8-1}${j}`,new K.ERR_OUT_OF_RANGE("value",be,v)}Be(w,x,B);}function F(v,c){if(typeof v!="number")throw new K.ERR_INVALID_ARG_TYPE(c,"number",v)}function z(v,c,l){throw Math.floor(v)!==v?(F(v,l),new K.ERR_OUT_OF_RANGE("offset","an integer",v)):c<0?new K.ERR_BUFFER_OUT_OF_BOUNDS:new K.ERR_OUT_OF_RANGE("offset",`>= ${0} and <= ${c}`,v)}let he=/[^+/0-9A-Za-z-_]/g;function Ne(v){if(v=v.split("=")[0],v=v.trim().replace(he,""),v.length<2)return "";for(;v.length%4!==0;)v=v+"=";return v}function Oe(v,c){c=c||1/0;let l,w=v.length,x=null,B=[];for(let j=0;j<w;++j){if(l=v.charCodeAt(j),l>55295&&l<57344){if(!x){if(l>56319){(c-=3)>-1&&B.push(239,191,189);continue}else if(j+1===w){(c-=3)>-1&&B.push(239,191,189);continue}x=l;continue}if(l<56320){(c-=3)>-1&&B.push(239,191,189),x=l;continue}l=(x-55296<<10|l-56320)+65536;}else x&&(c-=3)>-1&&B.push(239,191,189);if(x=null,l<128){if((c-=1)<0)break;B.push(l);}else if(l<2048){if((c-=2)<0)break;B.push(l>>6|192,l&63|128);}else if(l<65536){if((c-=3)<0)break;B.push(l>>12|224,l>>6&63|128,l&63|128);}else if(l<1114112){if((c-=4)<0)break;B.push(l>>18|240,l>>12&63|128,l>>6&63|128,l&63|128);}else throw new Error("Invalid code point")}return B}function Ve(v){let c=[];for(let l=0;l<v.length;++l)c.push(v.charCodeAt(l)&255);return c}function it(v,c){let l,w,x,B=[];for(let j=0;j<v.length&&!((c-=2)<0);++j)l=v.charCodeAt(j),w=l>>8,x=l%256,B.push(x),B.push(w);return B}function wr(v){return t.toByteArray(Ne(v))}function Vt(v,c,l,w){let x;for(x=0;x<w&&!(x+l>=c.length||x>=v.length);++x)c[x+l]=v[x];return x}function rt(v,c){return v instanceof c||v!=null&&v.constructor!=null&&v.constructor.name!=null&&v.constructor.name===c.name}function Ir(v){return v!==v}let Ri=function(){let v="0123456789abcdef",c=new Array(256);for(let l=0;l<16;++l){let w=l*16;for(let x=0;x<16;++x)c[w+x]=v[l]+v[x];}return c}();function Nt(v){return typeof BigInt=="undefined"?Zn:v}function Zn(){throw new Error("BigInt not supported")}return _s}var Is=qV();Is.Buffer;Is.SlowBuffer;Is.INSPECT_MAX_BYTES;Is.kMaxLength;var YS=Is.Buffer;Is.INSPECT_MAX_BYTES;Is.kMaxLength;Rl();so();Gv();Wv();var jd={},nP=!1;function $d(){return nP||(nP=!0,Object.defineProperty(jd,"__esModule",{value:!0}),jd.constants=void 0,jd.constants={O_RDONLY:0,O_WRONLY:1,O_RDWR:2,S_IFMT:61440,S_IFREG:32768,S_IFDIR:16384,S_IFCHR:8192,S_IFBLK:24576,S_IFIFO:4096,S_IFLNK:40960,S_IFSOCK:49152,O_CREAT:64,O_EXCL:128,O_NOCTTY:256,O_TRUNC:512,O_APPEND:1024,O_DIRECTORY:65536,O_NOATIME:262144,O_NOFOLLOW:131072,O_SYNC:1052672,O_DIRECT:16384,O_NONBLOCK:2048,S_IRWXU:448,S_IRUSR:256,S_IWUSR:128,S_IXUSR:64,S_IRWXG:56,S_IRGRP:32,S_IWGRP:16,S_IXGRP:8,S_IRWXO:7,S_IROTH:4,S_IWOTH:2,S_IXOTH:1,F_OK:0,R_OK:4,W_OK:2,X_OK:1,UV_FS_SYMLINK_DIR:1,UV_FS_SYMLINK_JUNCTION:2,UV_FS_COPYFILE_EXCL:1,UV_FS_COPYFILE_FICLONE:2,UV_FS_COPYFILE_FICLONE_FORCE:4,COPYFILE_EXCL:1,COPYFILE_FICLONE:2,COPYFILE_FICLONE_FORCE:4}),jd}var Qm={},iP=!1;function jV(){return iP||(iP=!0,typeof BigInt=="function"?Qm.default=BigInt:Qm.default=function(){throw new Error("BigInt is not supported in this environment.")}),Qm}var dl={},oP=!1;function JS(){if(oP)return dl;oP=!0,Object.defineProperty(dl,"__esModule",{value:!0}),dl.Stats=void 0;var t=$d(),e=jV(),r=t.constants.S_IFMT,n=t.constants.S_IFDIR,i=t.constants.S_IFREG,o=t.constants.S_IFBLK,a=t.constants.S_IFCHR,s=t.constants.S_IFLNK,u=t.constants.S_IFIFO,d=t.constants.S_IFSOCK,f=function(){function g(){}return g.build=function(C,S){S===void 0&&(S=!1);var E=new g,T=C.uid,_=C.gid,P=C.atime,M=C.mtime,D=C.ctime,V=S?e.default:function(_e){return _e};E.uid=V(T),E.gid=V(_),E.rdev=V(0),E.blksize=V(4096),E.ino=V(C.ino),E.size=V(C.getSize()),E.blocks=V(1),E.atime=P,E.mtime=M,E.ctime=D,E.birthtime=D,E.atimeMs=V(P.getTime()),E.mtimeMs=V(M.getTime());var Y=V(D.getTime());return E.ctimeMs=Y,E.birthtimeMs=Y,E.dev=V(0),E.mode=V(C.mode),E.nlink=V(C.nlink),E},g.prototype._checkModeProperty=function(C){return (Number(this.mode)&r)===C},g.prototype.isDirectory=function(){return this._checkModeProperty(n)},g.prototype.isFile=function(){return this._checkModeProperty(i)},g.prototype.isBlockDevice=function(){return this._checkModeProperty(o)},g.prototype.isCharacterDevice=function(){return this._checkModeProperty(a)},g.prototype.isSymbolicLink=function(){return this._checkModeProperty(s)},g.prototype.isFIFO=function(){return this._checkModeProperty(u)},g.prototype.isSocket=function(){return this._checkModeProperty(d)},g}();return dl.Stats=f,dl.default=f,dl}var Jn={},aP=!1;function ZS(){if(aP)return Jn;aP=!0;var t=Jn&&Jn.__spreadArray||function(o,a,s){if(s||arguments.length===2)for(var u=0,d=a.length,f;u<d;u++)(f||!(u in a))&&(f||(f=Array.prototype.slice.call(a,0,u)),f[u]=a[u]);return o.concat(f||Array.prototype.slice.call(a))};Object.defineProperty(Jn,"__esModule",{value:!0}),Jn.bufferFrom=Jn.bufferAllocUnsafe=Jn.Buffer=void 0;var e=Ho;Object.defineProperty(Jn,"Buffer",{enumerable:!0,get:function(){return e.Buffer}});function r(o){for(var a=[],s=1;s<arguments.length;s++)a[s-1]=arguments[s];return new(e.Buffer.bind.apply(e.Buffer,t([void 0,o],a,!1)))}var n=e.Buffer.allocUnsafe||r;Jn.bufferAllocUnsafe=n;var i=e.Buffer.from||r;return Jn.bufferFrom=i,Jn}var dr={},sP=!1,HV=typeof globalThis!="undefined"?globalThis:typeof self!="undefined"?self:globalThis;function CP(){if(sP)return dr;sP=!0;var t=dr&&dr.__extends||function(){var E=function(T,_){return E=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(P,M){P.__proto__=M;}||function(P,M){for(var D in M)Object.prototype.hasOwnProperty.call(M,D)&&(P[D]=M[D]);},E(T,_)};return function(T,_){if(typeof _!="function"&&_!==null)throw new TypeError("Class extends value "+String(_)+" is not a constructor or null");E(T,_);function P(){this.constructor=T;}T.prototype=_===null?Object.create(_):(P.prototype=_.prototype,new P);}}();Object.defineProperty(dr,"__esModule",{value:!0}),dr.E=dr.AssertionError=dr.message=dr.RangeError=dr.TypeError=dr.Error=void 0;var e=je,r=re,n=typeof Symbol=="undefined"?"_kCode":Symbol("code"),i={};function o(E){return function(T){t(_,T);function _(P){for(var M=[],D=1;D<arguments.length;D++)M[D-1]=arguments[D];var V=T.call(this,u(P,M))||this;return V.code=P,V[n]=P,V.name=T.prototype.name+" ["+V[n]+"]",V}return _}(E)}var a=typeof globalThis!="undefined"?globalThis:HV,s=function(E){t(T,E);function T(_){var P=this;if(typeof _!="object"||_===null)throw new dr.TypeError("ERR_INVALID_ARG_TYPE","options","object");return _.message?P=E.call(this,_.message)||this:P=E.call(this,r.inspect(_.actual).slice(0,128)+" "+(_.operator+" "+r.inspect(_.expected).slice(0,128)))||this,P.generatedMessage=!_.message,P.name="AssertionError [ERR_ASSERTION]",P.code="ERR_ASSERTION",P.actual=_.actual,P.expected=_.expected,P.operator=_.operator,dr.Error.captureStackTrace(P,_.stackStartFunction),P}return T}(a.Error);dr.AssertionError=s;function u(E,T){e.strictEqual(typeof E,"string");var _=i[E];e(_,"An invalid error message key was used: "+E+".");var P;if(typeof _=="function")P=_;else {if(P=r.format,T===void 0||T.length===0)return _;T.unshift(_);}return String(P.apply(null,T))}dr.message=u;function d(E,T){i[E]=typeof T=="function"?T:String(T);}dr.E=d,dr.Error=o(a.Error),dr.TypeError=o(a.TypeError),dr.RangeError=o(a.RangeError),d("ERR_ARG_NOT_ITERABLE","%s must be iterable"),d("ERR_ASSERTION","%s"),d("ERR_BUFFER_OUT_OF_BOUNDS",S),d("ERR_CHILD_CLOSED_BEFORE_REPLY","Child closed before reply received"),d("ERR_CONSOLE_WRITABLE_STREAM","Console expects a writable stream instance for %s"),d("ERR_CPU_USAGE","Unable to obtain cpu usage %s"),d("ERR_DNS_SET_SERVERS_FAILED",function(E,T){return 'c-ares failed to set servers: "'+E+'" ['+T+"]"}),d("ERR_FALSY_VALUE_REJECTION","Promise was rejected with falsy value"),d("ERR_ENCODING_NOT_SUPPORTED",function(E){return 'The "'+E+'" encoding is not supported'}),d("ERR_ENCODING_INVALID_ENCODED_DATA",function(E){return "The encoded data was not valid for encoding "+E}),d("ERR_HTTP_HEADERS_SENT","Cannot render headers after they are sent to the client"),d("ERR_HTTP_INVALID_STATUS_CODE","Invalid status code: %s"),d("ERR_HTTP_TRAILER_INVALID","Trailers are invalid with this transfer encoding"),d("ERR_INDEX_OUT_OF_RANGE","Index out of range"),d("ERR_INVALID_ARG_TYPE",f),d("ERR_INVALID_ARRAY_LENGTH",function(E,T,_){return e.strictEqual(typeof _,"number"),'The array "'+E+'" (length '+_+") must be of length "+T+"."}),d("ERR_INVALID_BUFFER_SIZE","Buffer size must be a multiple of %s"),d("ERR_INVALID_CALLBACK","Callback must be a function"),d("ERR_INVALID_CHAR","Invalid character in %s"),d("ERR_INVALID_CURSOR_POS","Cannot set cursor row without setting its column"),d("ERR_INVALID_FD",'"fd" must be a positive integer: %s'),d("ERR_INVALID_FILE_URL_HOST",'File URL host must be "localhost" or empty on %s'),d("ERR_INVALID_FILE_URL_PATH","File URL path %s"),d("ERR_INVALID_HANDLE_TYPE","This handle type cannot be sent"),d("ERR_INVALID_IP_ADDRESS","Invalid IP address: %s"),d("ERR_INVALID_OPT_VALUE",function(E,T){return 'The value "'+String(T)+'" is invalid for option "'+E+'"'}),d("ERR_INVALID_OPT_VALUE_ENCODING",function(E){return 'The value "'+String(E)+'" is invalid for option "encoding"'}),d("ERR_INVALID_REPL_EVAL_CONFIG",'Cannot specify both "breakEvalOnSigint" and "eval" for REPL'),d("ERR_INVALID_SYNC_FORK_INPUT","Asynchronous forks do not support Buffer, Uint8Array or string input: %s"),d("ERR_INVALID_THIS",'Value of "this" must be of type %s'),d("ERR_INVALID_TUPLE","%s must be an iterable %s tuple"),d("ERR_INVALID_URL","Invalid URL: %s"),d("ERR_INVALID_URL_SCHEME",function(E){return "The URL must be "+C(E,"scheme")}),d("ERR_IPC_CHANNEL_CLOSED","Channel closed"),d("ERR_IPC_DISCONNECTED","IPC channel is already disconnected"),d("ERR_IPC_ONE_PIPE","Child process can have only one IPC pipe"),d("ERR_IPC_SYNC_FORK","IPC cannot be used with synchronous forks"),d("ERR_MISSING_ARGS",g),d("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),d("ERR_NAPI_CONS_FUNCTION","Constructor must be a function"),d("ERR_NAPI_CONS_PROTOTYPE_OBJECT","Constructor.prototype must be an object"),d("ERR_NO_CRYPTO","Node.js is not compiled with OpenSSL crypto support"),d("ERR_NO_LONGER_SUPPORTED","%s is no longer supported"),d("ERR_PARSE_HISTORY_DATA","Could not parse history data in %s"),d("ERR_SOCKET_ALREADY_BOUND","Socket is already bound"),d("ERR_SOCKET_BAD_PORT","Port should be > 0 and < 65536"),d("ERR_SOCKET_BAD_TYPE","Bad socket type specified. Valid types are: udp4, udp6"),d("ERR_SOCKET_CANNOT_SEND","Unable to send data"),d("ERR_SOCKET_CLOSED","Socket is closed"),d("ERR_SOCKET_DGRAM_NOT_RUNNING","Not running"),d("ERR_STDERR_CLOSE","process.stderr cannot be closed"),d("ERR_STDOUT_CLOSE","process.stdout cannot be closed"),d("ERR_STREAM_WRAP","Stream has StringDecoder set or is in objectMode"),d("ERR_TLS_CERT_ALTNAME_INVALID","Hostname/IP does not match certificate's altnames: %s"),d("ERR_TLS_DH_PARAM_SIZE",function(E){return "DH parameter size "+E+" is less than 2048"}),d("ERR_TLS_HANDSHAKE_TIMEOUT","TLS handshake timeout"),d("ERR_TLS_RENEGOTIATION_FAILED","Failed to renegotiate"),d("ERR_TLS_REQUIRED_SERVER_NAME",'"servername" is required parameter for Server.addContext'),d("ERR_TLS_SESSION_ATTACK","TSL session renegotiation attack detected"),d("ERR_TRANSFORM_ALREADY_TRANSFORMING","Calling transform done when still transforming"),d("ERR_TRANSFORM_WITH_LENGTH_0","Calling transform done when writableState.length != 0"),d("ERR_UNKNOWN_ENCODING","Unknown encoding: %s"),d("ERR_UNKNOWN_SIGNAL","Unknown signal: %s"),d("ERR_UNKNOWN_STDIN_TYPE","Unknown stdin file type"),d("ERR_UNKNOWN_STREAM_TYPE","Unknown stream file type"),d("ERR_V8BREAKITERATOR","Full ICU data not installed. See https://github.com/nodejs/node/wiki/Intl");function f(E,T,_){e(E,"name is required");var P;T.includes("not ")?(P="must not be",T=T.split("not ")[1]):P="must be";var M;if(Array.isArray(E)){var D=E.map(function(Y){return '"'+Y+'"'}).join(", ");M="The "+D+" arguments "+P+" "+C(T,"type");}else if(E.includes(" argument"))M="The "+E+" "+P+" "+C(T,"type");else {var V=E.includes(".")?"property":"argument";M='The "'+E+'" '+V+" "+P+" "+C(T,"type");}return arguments.length>=3&&(M+=". Received type "+(_!==null?typeof _:"null")),M}function g(){for(var E=[],T=0;T<arguments.length;T++)E[T]=arguments[T];e(E.length>0,"At least one arg needs to be specified");var _="The ",P=E.length;switch(E=E.map(function(M){return '"'+M+'"'}),P){case 1:_+=E[0]+" argument";break;case 2:_+=E[0]+" and "+E[1]+" arguments";break;default:_+=E.slice(0,P-1).join(", "),_+=", and "+E[P-1]+" arguments";break}return _+" must be specified"}function C(E,T){if(e(E,"expected is required"),e(typeof T=="string","thing is required"),Array.isArray(E)){var _=E.length;return e(_>0,"At least one expected value needs to be specified"),E=E.map(function(P){return String(P)}),_>2?"one of "+T+" "+E.slice(0,_-1).join(", ")+", or "+E[_-1]:_===2?"one of "+T+" "+E[0]+" or "+E[1]:"of "+T+" "+E[0]}else return "of "+T+" "+String(E)}function S(E,T){return T?"Attempt to write outside buffer bounds":'"'+E+'" is outside of buffer bounds'}return dr}var Ai={},cP=!1;function SP(){if(cP)return Ai;cP=!0,Object.defineProperty(Ai,"__esModule",{value:!0}),Ai.strToEncoding=Ai.assertEncoding=Ai.ENCODING_UTF8=void 0;var t=ZS(),e=CP();Ai.ENCODING_UTF8="utf8";function r(i){if(i&&!t.Buffer.isEncoding(i))throw new e.TypeError("ERR_INVALID_OPT_VALUE_ENCODING",i)}Ai.assertEncoding=r;function n(i,o){return !o||o===Ai.ENCODING_UTF8?i:o==="buffer"?new t.Buffer(i):new t.Buffer(i).toString(o)}return Ai.strToEncoding=n,Ai}var fl={},lP=!1;function TP(){if(lP)return fl;lP=!0,Object.defineProperty(fl,"__esModule",{value:!0}),fl.Dirent=void 0;var t=$d(),e=SP(),r=t.constants.S_IFMT,n=t.constants.S_IFDIR,i=t.constants.S_IFREG,o=t.constants.S_IFBLK,a=t.constants.S_IFCHR,s=t.constants.S_IFLNK,u=t.constants.S_IFIFO,d=t.constants.S_IFSOCK,f=function(){function g(){this.name="",this.mode=0;}return g.build=function(C,S){var E=new g,T=C.getNode().mode;return E.name=(0, e.strToEncoding)(C.getName(),S),E.mode=T,E},g.prototype._checkModeProperty=function(C){return (this.mode&r)===C},g.prototype.isDirectory=function(){return this._checkModeProperty(n)},g.prototype.isFile=function(){return this._checkModeProperty(i)},g.prototype.isBlockDevice=function(){return this._checkModeProperty(o)},g.prototype.isCharacterDevice=function(){return this._checkModeProperty(a)},g.prototype.isSymbolicLink=function(){return this._checkModeProperty(s)},g.prototype.isFIFO=function(){return this._checkModeProperty(u)},g.prototype.isSocket=function(){return this._checkModeProperty(d)},g}();return fl.Dirent=f,fl.default=f,fl}var Xm={},uP=!1,dP=typeof globalThis!="undefined"?globalThis:typeof self!="undefined"?self:globalThis;function wP(){if(uP)return Xm;uP=!0;var t=ft;Object.defineProperty(Xm,"__esModule",{value:!0});var e;return typeof t.nextTick=="function"?e=t.nextTick.bind(typeof globalThis!="undefined"?globalThis:dP):e=setTimeout.bind(typeof globalThis!="undefined"?globalThis:dP),Xm.default=e,Xm}var pl={},fP=!1;function AP(){if(fP)return pl;fP=!0;var t=ft;Object.defineProperty(pl,"__esModule",{value:!0}),pl.createProcess=void 0;var e=function(){if(typeof t!="undefined")return t;try{return ft}catch(n){return}};function r(){var n=e()||{};return n.getuid||(n.getuid=function(){return 0}),n.getgid||(n.getgid=function(){return 0}),n.cwd||(n.cwd=function(){return "/"}),n.nextTick||(n.nextTick=wP().default),n.emitWarning||(n.emitWarning=function(i,o){console.warn(""+o+(o?": ":"")+i);}),n.env||(n.env={}),n}return pl.createProcess=r,pl.default=r(),pl}var Gr={},pP=!1;function $V(){if(pP)return Gr;pP=!0;var t=Gr&&Gr.__extends||function(){var E=function(T,_){return E=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(P,M){P.__proto__=M;}||function(P,M){for(var D in M)Object.prototype.hasOwnProperty.call(M,D)&&(P[D]=M[D]);},E(T,_)};return function(T,_){if(typeof _!="function"&&_!==null)throw new TypeError("Class extends value "+String(_)+" is not a constructor or null");E(T,_);function P(){this.constructor=T;}T.prototype=_===null?Object.create(_):(P.prototype=_.prototype,new P);}}();Object.defineProperty(Gr,"__esModule",{value:!0}),Gr.File=Gr.Link=Gr.Node=Gr.SEP=void 0;var e=AP(),r=ZS(),n=$d(),i=zt,o=JS(),a=n.constants.S_IFMT,s=n.constants.S_IFDIR,u=n.constants.S_IFREG,d=n.constants.S_IFLNK,f=n.constants.O_APPEND;Gr.SEP="/";var g=function(E){t(T,E);function T(_,P){P===void 0&&(P=438);var M=E.call(this)||this;return M.uid=e.default.getuid(),M.gid=e.default.getgid(),M.atime=new Date,M.mtime=new Date,M.ctime=new Date,M.perm=438,M.mode=u,M.nlink=1,M.perm=P,M.mode|=P,M.ino=_,M}return T.prototype.getString=function(_){return _===void 0&&(_="utf8"),this.getBuffer().toString(_)},T.prototype.setString=function(_){this.buf=(0, r.bufferFrom)(_,"utf8"),this.touch();},T.prototype.getBuffer=function(){return this.buf||this.setBuffer((0, r.bufferAllocUnsafe)(0)),(0, r.bufferFrom)(this.buf)},T.prototype.setBuffer=function(_){this.buf=(0, r.bufferFrom)(_),this.touch();},T.prototype.getSize=function(){return this.buf?this.buf.length:0},T.prototype.setModeProperty=function(_){this.mode=this.mode&~a|_;},T.prototype.setIsFile=function(){this.setModeProperty(u);},T.prototype.setIsDirectory=function(){this.setModeProperty(s);},T.prototype.setIsSymlink=function(){this.setModeProperty(d);},T.prototype.isFile=function(){return (this.mode&a)===u},T.prototype.isDirectory=function(){return (this.mode&a)===s},T.prototype.isSymlink=function(){return (this.mode&a)===d},T.prototype.makeSymlink=function(_){this.symlink=_,this.setIsSymlink();},T.prototype.write=function(_,P,M,D){if(P===void 0&&(P=0),M===void 0&&(M=_.length),D===void 0&&(D=0),this.buf||(this.buf=(0, r.bufferAllocUnsafe)(0)),D+M>this.buf.length){var V=(0, r.bufferAllocUnsafe)(D+M);this.buf.copy(V,0,0,this.buf.length),this.buf=V;}return _.copy(this.buf,D,P,P+M),this.touch(),M},T.prototype.read=function(_,P,M,D){P===void 0&&(P=0),M===void 0&&(M=_.byteLength),D===void 0&&(D=0),this.buf||(this.buf=(0, r.bufferAllocUnsafe)(0));var V=M;return V>_.byteLength&&(V=_.byteLength),V+D>this.buf.length&&(V=this.buf.length-D),this.buf.copy(_,P,D,D+V),V},T.prototype.truncate=function(_){if(_===void 0&&(_=0),!_)this.buf=(0, r.bufferAllocUnsafe)(0);else if(this.buf||(this.buf=(0, r.bufferAllocUnsafe)(0)),_<=this.buf.length)this.buf=this.buf.slice(0,_);else {var P=(0, r.bufferAllocUnsafe)(0);this.buf.copy(P),P.fill(0,_);}this.touch();},T.prototype.chmod=function(_){this.perm=_,this.mode=this.mode&-512|_,this.touch();},T.prototype.chown=function(_,P){this.uid=_,this.gid=P,this.touch();},T.prototype.touch=function(){this.mtime=new Date,this.emit("change",this);},T.prototype.canRead=function(_,P){return _===void 0&&(_=e.default.getuid()),P===void 0&&(P=e.default.getgid()),!!(this.perm&4||P===this.gid&&this.perm&32||_===this.uid&&this.perm&256)},T.prototype.canWrite=function(_,P){return _===void 0&&(_=e.default.getuid()),P===void 0&&(P=e.default.getgid()),!!(this.perm&2||P===this.gid&&this.perm&16||_===this.uid&&this.perm&128)},T.prototype.del=function(){this.emit("delete",this);},T.prototype.toJSON=function(){return {ino:this.ino,uid:this.uid,gid:this.gid,atime:this.atime.getTime(),mtime:this.mtime.getTime(),ctime:this.ctime.getTime(),perm:this.perm,mode:this.mode,nlink:this.nlink,symlink:this.symlink,data:this.getString()}},T}(i.EventEmitter);Gr.Node=g;var C=function(E){t(T,E);function T(_,P,M){var D=E.call(this)||this;return D.children={},D.steps=[],D.ino=0,D.length=0,D.vol=_,D.parent=P,D.steps=P?P.steps.concat([M]):[M],D}return T.prototype.setNode=function(_){this.node=_,this.ino=_.ino;},T.prototype.getNode=function(){return this.node},T.prototype.createChild=function(_,P){P===void 0&&(P=this.vol.createNode());var M=new T(this.vol,this,_);return M.setNode(P),P.isDirectory(),this.setChild(_,M),M},T.prototype.setChild=function(_,P){return P===void 0&&(P=new T(this.vol,this,_)),this.children[_]=P,P.parent=this,this.length++,this.emit("child:add",P,this),P},T.prototype.deleteChild=function(_){delete this.children[_.getName()],this.length--,this.emit("child:delete",_,this);},T.prototype.getChild=function(_){if(Object.hasOwnProperty.call(this.children,_))return this.children[_]},T.prototype.getPath=function(){return this.steps.join(Gr.SEP)},T.prototype.getName=function(){return this.steps[this.steps.length-1]},T.prototype.walk=function(_,P,M){if(P===void 0&&(P=_.length),M===void 0&&(M=0),M>=_.length)return this;if(M>=P)return this;var D=_[M],V=this.getChild(D);return V?V.walk(_,P,M+1):null},T.prototype.toJSON=function(){return {steps:this.steps,ino:this.ino,children:Object.keys(this.children)}},T}(i.EventEmitter);Gr.Link=C;var S=function(){function E(T,_,P,M){this.position=0,this.link=T,this.node=_,this.flags=P,this.fd=M;}return E.prototype.getString=function(T){return this.node.getString()},E.prototype.setString=function(T){this.node.setString(T);},E.prototype.getBuffer=function(){return this.node.getBuffer()},E.prototype.setBuffer=function(T){this.node.setBuffer(T);},E.prototype.getSize=function(){return this.node.getSize()},E.prototype.truncate=function(T){this.node.truncate(T);},E.prototype.seekTo=function(T){this.position=T;},E.prototype.stats=function(){return o.default.build(this.node)},E.prototype.write=function(T,_,P,M){_===void 0&&(_=0),P===void 0&&(P=T.length),typeof M!="number"&&(M=this.position),this.flags&f&&(M=this.getSize());var D=this.node.write(T,_,P,M);return this.position=M+D,D},E.prototype.read=function(T,_,P,M){_===void 0&&(_=0),P===void 0&&(P=T.byteLength),typeof M!="number"&&(M=this.position);var D=this.node.read(T,_,P,M);return this.position=M+D,D},E.prototype.chmod=function(T){this.node.chmod(T);},E.prototype.chown=function(T,_){this.node.chown(T,_);},E}();return Gr.File=S,Gr}var ey={},hP=!1,VV=typeof globalThis!="undefined"?globalThis:typeof self!="undefined"?self:globalThis;function GV(){if(hP)return ey;hP=!0,Object.defineProperty(ey,"__esModule",{value:!0});function t(e,r,n){var i=setTimeout.apply(typeof globalThis!="undefined"?globalThis:VV,arguments);return i&&typeof i=="object"&&typeof i.unref=="function"&&i.unref(),i}return ey.default=t,ey}var $o={},mP=!1;function WV(){if(mP)return $o;mP=!0;var t=$o&&$o.__spreadArray||function(i,o,a){if(a||arguments.length===2)for(var s=0,u=o.length,d;s<u;s++)(d||!(s in o))&&(d||(d=Array.prototype.slice.call(o,0,s)),d[s]=o[s]);return i.concat(d||Array.prototype.slice.call(o))};Object.defineProperty($o,"__esModule",{value:!0}),$o.FileHandle=void 0;function e(i,o,a){return a===void 0&&(a=function(s){return s}),function(){for(var s=[],u=0;u<arguments.length;u++)s[u]=arguments[u];return new Promise(function(d,f){i[o].bind(i).apply(void 0,t(t([],s,!1),[function(g,C){return g?f(g):d(a(C))}],!1));})}}var r=function(){function i(o,a){this.vol=o,this.fd=a;}return i.prototype.appendFile=function(o,a){return e(this.vol,"appendFile")(this.fd,o,a)},i.prototype.chmod=function(o){return e(this.vol,"fchmod")(this.fd,o)},i.prototype.chown=function(o,a){return e(this.vol,"fchown")(this.fd,o,a)},i.prototype.close=function(){return e(this.vol,"close")(this.fd)},i.prototype.datasync=function(){return e(this.vol,"fdatasync")(this.fd)},i.prototype.read=function(o,a,s,u){return e(this.vol,"read",function(d){return {bytesRead:d,buffer:o}})(this.fd,o,a,s,u)},i.prototype.readFile=function(o){return e(this.vol,"readFile")(this.fd,o)},i.prototype.stat=function(o){return e(this.vol,"fstat")(this.fd,o)},i.prototype.sync=function(){return e(this.vol,"fsync")(this.fd)},i.prototype.truncate=function(o){return e(this.vol,"ftruncate")(this.fd,o)},i.prototype.utimes=function(o,a){return e(this.vol,"futimes")(this.fd,o,a)},i.prototype.write=function(o,a,s,u){return e(this.vol,"write",function(d){return {bytesWritten:d,buffer:o}})(this.fd,o,a,s,u)},i.prototype.writeFile=function(o,a){return e(this.vol,"writeFile")(this.fd,o,a)},i}();$o.FileHandle=r;function n(i){return typeof Promise=="undefined"?null:{FileHandle:r,access:function(o,a){return e(i,"access")(o,a)},appendFile:function(o,a,s){return e(i,"appendFile")(o instanceof r?o.fd:o,a,s)},chmod:function(o,a){return e(i,"chmod")(o,a)},chown:function(o,a,s){return e(i,"chown")(o,a,s)},copyFile:function(o,a,s){return e(i,"copyFile")(o,a,s)},lchmod:function(o,a){return e(i,"lchmod")(o,a)},lchown:function(o,a,s){return e(i,"lchown")(o,a,s)},link:function(o,a){return e(i,"link")(o,a)},lstat:function(o,a){return e(i,"lstat")(o,a)},mkdir:function(o,a){return e(i,"mkdir")(o,a)},mkdtemp:function(o,a){return e(i,"mkdtemp")(o,a)},open:function(o,a,s){return e(i,"open",function(u){return new r(i,u)})(o,a,s)},readdir:function(o,a){return e(i,"readdir")(o,a)},readFile:function(o,a){return e(i,"readFile")(o instanceof r?o.fd:o,a)},readlink:function(o,a){return e(i,"readlink")(o,a)},realpath:function(o,a){return e(i,"realpath")(o,a)},rename:function(o,a){return e(i,"rename")(o,a)},rmdir:function(o){return e(i,"rmdir")(o)},stat:function(o,a){return e(i,"stat")(o,a)},symlink:function(o,a,s){return e(i,"symlink")(o,a,s)},truncate:function(o,a){return e(i,"truncate")(o,a)},unlink:function(o){return e(i,"unlink")(o)},utimes:function(o,a,s){return e(i,"utimes")(o,a,s)},writeFile:function(o,a,s){return e(i,"writeFile")(o instanceof r?o.fd:o,a,s)}}}return $o.default=n,$o}var Hd={},yP=!1;function KV(){if(yP)return Hd;yP=!0;var t=ft;Object.defineProperty(Hd,"__esModule",{value:!0}),Hd.unixify=o,Hd.correctPath=a;var e=t.platform==="win32";function r(s){var u=s.length-1;if(u<2)return s;for(;n(s,u);)u--;return s.substr(0,u+1)}function n(s,u){var d=s[u];return u>0&&(d==="/"||e&&d==="\\")}function i(s,u){if(typeof s!="string")throw new TypeError("expected a string");return s=s.replace(/[\\\/]+/g,"/"),u!==!1&&(s=r(s)),s}function o(s){var u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return e?(s=i(s,u),s.replace(/^([a-zA-Z]+:|\.\/)/,"")):s}function a(s){return o(s.replace(/^\\\\\?\\.:\\/,"\\"))}return Hd}var ht={},gP=!1,YV=typeof globalThis!="undefined"?globalThis:typeof self!="undefined"?self:globalThis;function bP(){if(gP)return ht;gP=!0;var t=ht&&ht.__extends||function(){var k=function(b,I){return k=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(O,U){O.__proto__=U;}||function(O,U){for(var $ in U)Object.prototype.hasOwnProperty.call(U,$)&&(O[$]=U[$]);},k(b,I)};return function(b,I){if(typeof I!="function"&&I!==null)throw new TypeError("Class extends value "+String(I)+" is not a constructor or null");k(b,I);function O(){this.constructor=b;}b.prototype=I===null?Object.create(I):(O.prototype=I.prototype,new O);}}(),e=ht&&ht.__spreadArray||function(k,b,I){if(I||arguments.length===2)for(var O=0,U=b.length,$;O<U;O++)($||!(O in b))&&($||($=Array.prototype.slice.call(b,0,O)),$[O]=b[O]);return k.concat($||Array.prototype.slice.call(b))};Object.defineProperty(ht,"__esModule",{value:!0}),ht.FSWatcher=ht.StatWatcher=ht.Volume=ht.toUnixTimestamp=ht.bufferToEncoding=ht.dataToBuffer=ht.dataToStr=ht.pathToSteps=ht.filenameToSteps=ht.pathToFilename=ht.flagsToNumber=ht.FLAGS=void 0;var r=Pt,n=$V(),i=JS(),o=TP(),a=ZS(),s=wP(),u=AP(),d=GV(),f=Vr,g=$d(),C=zt,S=SP(),E=CP(),T=re,_=WV(),P=r.resolve,M=g.constants.O_RDONLY,D=g.constants.O_WRONLY,V=g.constants.O_RDWR,Y=g.constants.O_CREAT,_e=g.constants.O_EXCL,ue=g.constants.O_TRUNC,le=g.constants.O_APPEND,fe=g.constants.O_SYNC,ve=g.constants.O_DIRECTORY,H=g.constants.F_OK,X=g.constants.COPYFILE_EXCL,Ae=g.constants.COPYFILE_FICLONE_FORCE,Te=r.posix?r.posix:r,Ee=Te.sep,Se=Te.relative,te=Te.join,W=Te.dirname,ne=u.default.platform==="win32",oe=128,de={PATH_STR:"path must be a string or Buffer",FD:"fd must be a file descriptor",MODE_INT:"mode must be an int",CB:"callback must be a function",UID:"uid must be an unsigned int",GID:"gid must be an unsigned int",LEN:"len must be an integer",ATIME:"atime must be an integer",MTIME:"mtime must be an integer",PREFIX:"filename prefix is required",BUFFER:"buffer must be an instance of Buffer or StaticBuffer",OFFSET:"offset must be an integer",LENGTH:"length must be an integer",POSITION:"position must be an integer"},Ue=function(k){return "Expected options to be either an object or a string, but got "+k+" instead"},ze="ENOENT",dt="EBADF",ct="EINVAL",Er="EPERM",K="EPROTO",G="EEXIST",pe="ENOTDIR",Be="EMFILE",$e="EACCES",F="EISDIR",z="ENOTEMPTY",he="ENOSYS";function Ne(k,b,I,O){b===void 0&&(b=""),I===void 0&&(I=""),O===void 0&&(O="");var U="";switch(I&&(U=" '"+I+"'"),O&&(U+=" -> '"+O+"'"),k){case ze:return "ENOENT: no such file or directory, "+b+U;case dt:return "EBADF: bad file descriptor, "+b+U;case ct:return "EINVAL: invalid argument, "+b+U;case Er:return "EPERM: operation not permitted, "+b+U;case K:return "EPROTO: protocol error, "+b+U;case G:return "EEXIST: file already exists, "+b+U;case pe:return "ENOTDIR: not a directory, "+b+U;case F:return "EISDIR: illegal operation on a directory, "+b+U;case $e:return "EACCES: permission denied, "+b+U;case z:return "ENOTEMPTY: directory not empty, "+b+U;case Be:return "EMFILE: too many open files, "+b+U;case he:return "ENOSYS: function not implemented, "+b+U;default:return k+": error occurred, "+b+U}}function Oe(k,b,I,O,U){b===void 0&&(b=""),I===void 0&&(I=""),O===void 0&&(O=""),U===void 0&&(U=Error);var $=new U(Ne(k,b,I,O));return $.code=k,$}var Ve;(function(k){k[k.r=M]="r",k[k["r+"]=V]="r+",k[k.rs=M|fe]="rs",k[k.sr=k.rs]="sr",k[k["rs+"]=V|fe]="rs+",k[k["sr+"]=k["rs+"]]="sr+",k[k.w=D|Y|ue]="w",k[k.wx=D|Y|ue|_e]="wx",k[k.xw=k.wx]="xw",k[k["w+"]=V|Y|ue]="w+",k[k["wx+"]=V|Y|ue|_e]="wx+",k[k["xw+"]=k["wx+"]]="xw+",k[k.a=D|le|Y]="a",k[k.ax=D|le|Y|_e]="ax",k[k.xa=k.ax]="xa",k[k["a+"]=V|le|Y]="a+",k[k["ax+"]=V|le|Y|_e]="ax+",k[k["xa+"]=k["ax+"]]="xa+";})(Ve=ht.FLAGS||(ht.FLAGS={}));function it(k){if(typeof k=="number")return k;if(typeof k=="string"){var b=Ve[k];if(typeof b!="undefined")return b}throw new E.TypeError("ERR_INVALID_OPT_VALUE","flags",k)}ht.flagsToNumber=it;function wr(k,b){var I;if(b){var O=typeof b;switch(O){case"string":I=Object.assign({},k,{encoding:b});break;case"object":I=Object.assign({},k,b);break;default:throw TypeError(Ue(O))}}else return k;return I.encoding!=="buffer"&&(0, S.assertEncoding)(I.encoding),I}function Vt(k){return function(b){return wr(k,b)}}function rt(k){if(typeof k!="function")throw TypeError(de.CB);return k}function Ir(k){return function(b,I){return typeof b=="function"?[k(),b]:[k(b),rt(I)]}}var Ri={encoding:"utf8"},Nt=Vt(Ri),Zn=Ir(Nt),v={flag:"r"},c=Vt(v),l={encoding:"utf8",mode:438,flag:Ve[Ve.w]},w=Vt(l),x={encoding:"utf8",mode:438,flag:Ve[Ve.a]},B=Vt(x),j=Ir(B),be=Ri,Ge=Vt(be),He=Ir(Ge),We={mode:511,recursive:!1},Le=function(k){return typeof k=="number"?Object.assign({},We,{mode:k}):Object.assign({},We,k)},vM={recursive:!1},_T=function(k){return Object.assign({},vM,k)},EM={encoding:"utf8",withFileTypes:!1},IT=Vt(EM),CM=Ir(IT),SM={bigint:!1},gl=function(k){return k===void 0&&(k={}),Object.assign({},SM,k)},by=function(k,b){return typeof k=="function"?[gl(),k]:[gl(k),rt(b)]};function TM(k){if(k.hostname!=="")throw new E.TypeError("ERR_INVALID_FILE_URL_HOST",u.default.platform);for(var b=k.pathname,I=0;I<b.length;I++)if(b[I]==="%"){var O=b.codePointAt(I+2)|32;if(b[I+1]==="2"&&O===102)throw new E.TypeError("ERR_INVALID_FILE_URL_PATH","must not include encoded / characters")}return decodeURIComponent(b)}function De(k){if(typeof k!="string"&&!a.Buffer.isBuffer(k)){try{if(!(k instanceof At.URL))throw new TypeError(de.PATH_STR)}catch(I){throw new TypeError(de.PATH_STR)}k=TM(k);}var b=String(k);return Ry(b),b}ht.pathToFilename=De;var sf=function(k,b){return b===void 0&&(b=u.default.cwd()),P(b,k)};if(ne){var wM=sf,AM=KV().unixify;sf=function(k,b){return AM(wM(k,b))};}function Gt(k,b){var I=sf(k,b),O=I.substr(1);return O?O.split(Ee):[]}ht.filenameToSteps=Gt;function NT(k){return Gt(De(k))}ht.pathToSteps=NT;function bM(k,b){return b===void 0&&(b=S.ENCODING_UTF8),a.Buffer.isBuffer(k)?k.toString(b):k instanceof Uint8Array?(0, a.bufferFrom)(k).toString(b):String(k)}ht.dataToStr=bM;function vl(k,b){return b===void 0&&(b=S.ENCODING_UTF8),a.Buffer.isBuffer(k)?k:k instanceof Uint8Array?(0, a.bufferFrom)(k):(0, a.bufferFrom)(String(k),b)}ht.dataToBuffer=vl;function OT(k,b){return !b||b==="buffer"?k:k.toString(b)}ht.bufferToEncoding=OT;function Ry(k,b){if((""+k).indexOf("\0")!==-1){var I=new Error("Path must be a string without null bytes");if(I.code=ze,typeof b!="function")throw I;}return !0}function RM(k,b){if(typeof k=="number")return k;if(typeof k=="string")return parseInt(k,8);if(b)return Kr(b)}function Kr(k,b){var I=RM(k,b);if(typeof I!="number"||isNaN(I))throw new TypeError(de.MODE_INT);return I}function Zo(k){return k>>>0===k}function El(k){if(!Zo(k))throw TypeError(de.FD)}function _i(k){if(typeof k=="string"&&+k==k)return +k;if(k instanceof Date)return k.getTime()/1e3;if(isFinite(k))return k<0?Date.now()/1e3:k;throw new Error("Cannot parse time: "+k)}ht.toUnixTimestamp=_i;function Ps(k){if(typeof k!="number")throw TypeError(de.UID)}function Ms(k){if(typeof k!="number")throw TypeError(de.GID)}function _M(k){var b={};function I(O,U){for(var $ in U){var Q=U[$],ye=te(O,$);typeof Q=="string"?b[ye]=Q:typeof Q=="object"&&Q!==null&&Object.keys(Q).length>0?I(ye,Q):b[ye]=null;}}return I("",k),b}var IM=function(){function k(b){b===void 0&&(b={}),this.ino=0,this.inodes={},this.releasedInos=[],this.fds={},this.releasedFds=[],this.maxFiles=1e4,this.openFiles=0,this.promisesApi=(0, _.default)(this),this.statWatchers={},this.props=Object.assign({Node:n.Node,Link:n.Link,File:n.File},b);var I=this.createLink();I.setNode(this.createNode(!0));var O=this;this.StatWatcher=function(Q){t(ye,Q);function ye(){return Q.call(this,O)||this}return ye}(xT);var U=Mn;this.ReadStream=function(Q){t(ye,Q);function ye(){for(var xe=[],Fe=0;Fe<arguments.length;Fe++)xe[Fe]=arguments[Fe];return Q.apply(this,e([O],xe,!1))||this}return ye}(U);var $=un;this.WriteStream=function(Q){t(ye,Q);function ye(){for(var xe=[],Fe=0;Fe<arguments.length;Fe++)xe[Fe]=arguments[Fe];return Q.apply(this,e([O],xe,!1))||this}return ye}($),this.FSWatcher=function(Q){t(ye,Q);function ye(){return Q.call(this,O)||this}return ye}(kT),this.root=I;}return k.fromJSON=function(b,I){var O=new k;return O.fromJSON(b,I),O},k.fromNestedJSON=function(b,I){var O=new k;return O.fromNestedJSON(b,I),O},Object.defineProperty(k.prototype,"promises",{get:function(){if(this.promisesApi===null)throw new Error("Promise is not supported in this environment.");return this.promisesApi},enumerable:!1,configurable:!0}),k.prototype.createLink=function(b,I,O,U){if(O===void 0&&(O=!1),!b)return new this.props.Link(this,null,"");if(!I)throw new Error("createLink: name cannot be empty");return b.createChild(I,this.createNode(O,U))},k.prototype.deleteLink=function(b){var I=b.parent;return I?(I.deleteChild(b),!0):!1},k.prototype.newInoNumber=function(){var b=this.releasedInos.pop();return b||(this.ino=(this.ino+1)%4294967295,this.ino)},k.prototype.newFdNumber=function(){var b=this.releasedFds.pop();return typeof b=="number"?b:k.fd--},k.prototype.createNode=function(b,I){b===void 0&&(b=!1);var O=new this.props.Node(this.newInoNumber(),I);return b&&O.setIsDirectory(),this.inodes[O.ino]=O,O},k.prototype.getNode=function(b){return this.inodes[b]},k.prototype.deleteNode=function(b){b.del(),delete this.inodes[b.ino],this.releasedInos.push(b.ino);},k.prototype.genRndStr=function(){var b=(Math.random()+1).toString(36).substr(2,6);return b.length===6?b:this.genRndStr()},k.prototype.getLink=function(b){return this.root.walk(b)},k.prototype.getLinkOrThrow=function(b,I){var O=Gt(b),U=this.getLink(O);if(!U)throw Oe(ze,I,b);return U},k.prototype.getResolvedLink=function(b){for(var I=typeof b=="string"?Gt(b):b,O=this.root,U=0;U<I.length;){var $=I[U];if(O=O.getChild($),!O)return null;var Q=O.getNode();if(Q.isSymlink()){I=Q.symlink.concat(I.slice(U+1)),O=this.root,U=0;continue}U++;}return O},k.prototype.getResolvedLinkOrThrow=function(b,I){var O=this.getResolvedLink(b);if(!O)throw Oe(ze,I,b);return O},k.prototype.resolveSymlinks=function(b){return this.getResolvedLink(b.steps.slice(1))},k.prototype.getLinkAsDirOrThrow=function(b,I){var O=this.getLinkOrThrow(b,I);if(!O.getNode().isDirectory())throw Oe(pe,I,b);return O},k.prototype.getLinkParent=function(b){return this.root.walk(b,b.length-1)},k.prototype.getLinkParentAsDirOrThrow=function(b,I){var O=b instanceof Array?b:Gt(b),U=this.getLinkParent(O);if(!U)throw Oe(ze,I,Ee+O.join(Ee));if(!U.getNode().isDirectory())throw Oe(pe,I,Ee+O.join(Ee));return U},k.prototype.getFileByFd=function(b){return this.fds[String(b)]},k.prototype.getFileByFdOrThrow=function(b,I){if(!Zo(b))throw TypeError(de.FD);var O=this.getFileByFd(b);if(!O)throw Oe(dt,I);return O},k.prototype.getNodeByIdOrCreate=function(b,I,O){if(typeof b=="number"){var U=this.getFileByFd(b);if(!U)throw Error("File nto found");return U.node}else {var $=NT(b),Q=this.getLink($);if(Q)return Q.getNode();if(I&Y){var ye=this.getLinkParent($);if(ye){var xe=$[$.length-1];return Q=this.createLink(ye,xe,!1,O),Q.getNode()}}throw Oe(ze,"getNodeByIdOrCreate",De(b))}},k.prototype.wrapAsync=function(b,I,O){var U=this;rt(O),(0, s.default)(function(){var $;try{$=b.apply(U,I);}catch(Q){O(Q);return}O(null,$);});},k.prototype._toJSON=function(b,I,O){var U;b===void 0&&(b=this.root),I===void 0&&(I={});var $=!0,Q=b.children;b.getNode().isFile()&&(Q=(U={},U[b.getName()]=b.parent.getChild(b.getName()),U),b=b.parent);for(var ye in Q){$=!1;var xe=b.getChild(ye);if(!xe)throw new Error("_toJSON: unexpected undefined");var Fe=xe.getNode();if(Fe.isFile()){var mt=xe.getPath();O&&(mt=Se(O,mt)),I[mt]=Fe.getString();}else Fe.isDirectory()&&this._toJSON(xe,I,O);}var Wt=b.getPath();return O&&(Wt=Se(O,Wt)),Wt&&$&&(I[Wt]=null),I},k.prototype.toJSON=function(b,I,O){I===void 0&&(I={}),O===void 0&&(O=!1);var U=[];if(b){b instanceof Array||(b=[b]);for(var $=0,Q=b;$<Q.length;$++){var ye=Q[$],xe=De(ye),Fe=this.getResolvedLink(xe);Fe&&U.push(Fe);}}else U.push(this.root);if(!U.length)return I;for(var mt=0,Wt=U;mt<Wt.length;mt++){var Fe=Wt[mt];this._toJSON(Fe,I,O?Fe.getPath():"");}return I},k.prototype.fromJSON=function(b,I){I===void 0&&(I=u.default.cwd());for(var O in b){var U=b[O];if(O=sf(O,I),typeof U=="string"){var $=W(O);this.mkdirpBase($,511),this.writeFileSync(O,U);}else this.mkdirpBase(O,511);}},k.prototype.fromNestedJSON=function(b,I){this.fromJSON(_M(b),I);},k.prototype.reset=function(){this.ino=0,this.inodes={},this.releasedInos=[],this.fds={},this.releasedFds=[],this.openFiles=0,this.root=this.createLink(),this.root.setNode(this.createNode(!0));},k.prototype.mountSync=function(b,I){this.fromJSON(I,b);},k.prototype.openLink=function(b,I,O){if(O===void 0&&(O=!0),this.openFiles>=this.maxFiles)throw Oe(Be,"open",b.getPath());var U=b;if(O&&(U=this.resolveSymlinks(b)),!U)throw Oe(ze,"open",b.getPath());var $=U.getNode();if($.isDirectory()){if((I&(M|V|D))!==M)throw Oe(F,"open",b.getPath())}else if(I&ve)throw Oe(pe,"open",b.getPath());if(!(I&D)&&!$.canRead())throw Oe($e,"open",b.getPath());var Q=new this.props.File(b,$,I,this.newFdNumber());return this.fds[Q.fd]=Q,this.openFiles++,I&ue&&Q.truncate(),Q},k.prototype.openFile=function(b,I,O,U){U===void 0&&(U=!0);var $=Gt(b),Q=U?this.getResolvedLink($):this.getLink($);if(!Q&&I&Y){var ye=this.getResolvedLink($.slice(0,$.length-1));if(!ye)throw Oe(ze,"open",Ee+$.join(Ee));I&Y&&typeof O=="number"&&(Q=this.createLink(ye,$[$.length-1],!1,O));}if(Q)return this.openLink(Q,I,U);throw Oe(ze,"open",b)},k.prototype.openBase=function(b,I,O,U){U===void 0&&(U=!0);var $=this.openFile(b,I,O,U);if(!$)throw Oe(ze,"open",b);return $.fd},k.prototype.openSync=function(b,I,O){O===void 0&&(O=438);var U=Kr(O),$=De(b),Q=it(I);return this.openBase($,Q,U)},k.prototype.open=function(b,I,O,U){var $=O,Q=U;typeof O=="function"&&($=438,Q=O),$=$||438;var ye=Kr($),xe=De(b),Fe=it(I);this.wrapAsync(this.openBase,[xe,Fe,ye],Q);},k.prototype.closeFile=function(b){this.fds[b.fd]&&(this.openFiles--,delete this.fds[b.fd],this.releasedFds.push(b.fd));},k.prototype.closeSync=function(b){El(b);var I=this.getFileByFdOrThrow(b,"close");this.closeFile(I);},k.prototype.close=function(b,I){El(b),this.wrapAsync(this.closeSync,[b],I);},k.prototype.openFileOrGetById=function(b,I,O){if(typeof b=="number"){var U=this.fds[b];if(!U)throw Oe(ze);return U}else return this.openFile(De(b),I,O)},k.prototype.readBase=function(b,I,O,U,$){var Q=this.getFileByFdOrThrow(b);return Q.read(I,Number(O),Number(U),$)},k.prototype.readSync=function(b,I,O,U,$){return El(b),this.readBase(b,I,O,U,$)},k.prototype.read=function(b,I,O,U,$,Q){var ye=this;if(rt(Q),U===0)return u.default.nextTick(function(){Q&&Q(null,0,I);});(0, s.default)(function(){try{var xe=ye.readBase(b,I,O,U,$);Q(null,xe,I);}catch(Fe){Q(Fe);}});},k.prototype.readFileBase=function(b,I,O){var U,$=typeof b=="number",Q=$&&Zo(b),ye;if(Q)ye=b;else {var xe=De(b),Fe=Gt(xe),mt=this.getResolvedLink(Fe);if(mt){var Wt=mt.getNode();if(Wt.isDirectory())throw Oe(F,"open",mt.getPath())}ye=this.openSync(b,I);}try{U=OT(this.getFileByFdOrThrow(ye).getBuffer(),O);}finally{Q||this.closeSync(ye);}return U},k.prototype.readFileSync=function(b,I){var O=c(I),U=it(O.flag);return this.readFileBase(b,U,O.encoding)},k.prototype.readFile=function(b,I,O){var U=Ir(c)(I,O),$=U[0],Q=U[1],ye=it($.flag);this.wrapAsync(this.readFileBase,[b,ye,$.encoding],Q);},k.prototype.writeBase=function(b,I,O,U,$){var Q=this.getFileByFdOrThrow(b,"write");return Q.write(I,O,U,$)},k.prototype.writeSync=function(b,I,O,U,$){El(b);var Q,ye,xe,Fe,mt=typeof I!="string";mt?(ye=(O||0)|0,xe=U,Fe=$):(Fe=O,Q=U);var Wt=vl(I,Q);return mt?typeof xe=="undefined"&&(xe=Wt.length):(ye=0,xe=Wt.length),this.writeBase(b,Wt,ye,xe,Fe)},k.prototype.write=function(b,I,O,U,$,Q){var ye=this;El(b);var xe,Fe,mt,Wt,Un,_y=typeof I,PT=typeof O,MT=typeof U,UT=typeof $;_y!=="string"?PT==="function"?Un=O:MT==="function"?(xe=O|0,Un=U):UT==="function"?(xe=O|0,Fe=U,Un=$):(xe=O|0,Fe=U,mt=$,Un=Q):PT==="function"?Un=O:MT==="function"?(mt=O,Un=U):UT==="function"&&(mt=O,Wt=U,Un=$);var cf=vl(I,Wt);_y!=="string"?typeof Fe=="undefined"&&(Fe=cf.length):(xe=0,Fe=cf.length);var Iy=rt(Un);(0, s.default)(function(){try{var BT=ye.writeBase(b,cf,xe,Fe,mt);_y!=="string"?Iy(null,BT,cf):Iy(null,BT,I);}catch(kM){Iy(kM);}});},k.prototype.writeFileBase=function(b,I,O,U){var $=typeof b=="number",Q;$?Q=b:Q=this.openBase(De(b),O,U);var ye=0,xe=I.length,Fe=O&le?void 0:0;try{for(;xe>0;){var mt=this.writeSync(Q,I,ye,xe,Fe);ye+=mt,xe-=mt,Fe!==void 0&&(Fe+=mt);}}finally{$||this.closeSync(Q);}},k.prototype.writeFileSync=function(b,I,O){var U=w(O),$=it(U.flag),Q=Kr(U.mode),ye=vl(I,U.encoding);this.writeFileBase(b,ye,$,Q);},k.prototype.writeFile=function(b,I,O,U){var $=O,Q=U;typeof O=="function"&&($=l,Q=O);var ye=rt(Q),xe=w($),Fe=it(xe.flag),mt=Kr(xe.mode),Wt=vl(I,xe.encoding);this.wrapAsync(this.writeFileBase,[b,Wt,Fe,mt],ye);},k.prototype.linkBase=function(b,I){var O=Gt(b),U=this.getLink(O);if(!U)throw Oe(ze,"link",b,I);var $=Gt(I),Q=this.getLinkParent($);if(!Q)throw Oe(ze,"link",b,I);var ye=$[$.length-1];if(Q.getChild(ye))throw Oe(G,"link",b,I);var xe=U.getNode();xe.nlink++,Q.createChild(ye,xe);},k.prototype.copyFileBase=function(b,I,O){var U=this.readFileSync(b);if(O&X&&this.existsSync(I))throw Oe(G,"copyFile",b,I);if(O&Ae)throw Oe(he,"copyFile",b,I);this.writeFileBase(I,U,Ve.w,438);},k.prototype.copyFileSync=function(b,I,O){var U=De(b),$=De(I);return this.copyFileBase(U,$,(O||0)|0)},k.prototype.copyFile=function(b,I,O,U){var $=De(b),Q=De(I),ye,xe;typeof O=="function"?(ye=0,xe=O):(ye=O,xe=U),rt(xe),this.wrapAsync(this.copyFileBase,[$,Q,ye],xe);},k.prototype.linkSync=function(b,I){var O=De(b),U=De(I);this.linkBase(O,U);},k.prototype.link=function(b,I,O){var U=De(b),$=De(I);this.wrapAsync(this.linkBase,[U,$],O);},k.prototype.unlinkBase=function(b){var I=Gt(b),O=this.getLink(I);if(!O)throw Oe(ze,"unlink",b);if(O.length)throw Error("Dir not empty...");this.deleteLink(O);var U=O.getNode();U.nlink--,U.nlink<=0&&this.deleteNode(U);},k.prototype.unlinkSync=function(b){var I=De(b);this.unlinkBase(I);},k.prototype.unlink=function(b,I){var O=De(b);this.wrapAsync(this.unlinkBase,[O],I);},k.prototype.symlinkBase=function(b,I){var O=Gt(I),U=this.getLinkParent(O);if(!U)throw Oe(ze,"symlink",b,I);var $=O[O.length-1];if(U.getChild($))throw Oe(G,"symlink",b,I);var Q=U.createChild($);return Q.getNode().makeSymlink(Gt(b)),Q},k.prototype.symlinkSync=function(b,I,O){var U=De(b),$=De(I);this.symlinkBase(U,$);},k.prototype.symlink=function(b,I,O,U){var $=rt(typeof O=="function"?O:U),Q=De(b),ye=De(I);this.wrapAsync(this.symlinkBase,[Q,ye],$);},k.prototype.realpathBase=function(b,I){var O=Gt(b),U=this.getResolvedLink(O);if(!U)throw Oe(ze,"realpath",b);return (0, S.strToEncoding)(U.getPath(),I)},k.prototype.realpathSync=function(b,I){return this.realpathBase(De(b),Ge(I).encoding)},k.prototype.realpath=function(b,I,O){var U=He(I,O),$=U[0],Q=U[1],ye=De(b);this.wrapAsync(this.realpathBase,[ye,$.encoding],Q);},k.prototype.lstatBase=function(b,I){I===void 0&&(I=!1);var O=this.getLink(Gt(b));if(!O)throw Oe(ze,"lstat",b);return i.default.build(O.getNode(),I)},k.prototype.lstatSync=function(b,I){return this.lstatBase(De(b),gl(I).bigint)},k.prototype.lstat=function(b,I,O){var U=by(I,O),$=U[0],Q=U[1];this.wrapAsync(this.lstatBase,[De(b),$.bigint],Q);},k.prototype.statBase=function(b,I){I===void 0&&(I=!1);var O=this.getResolvedLink(Gt(b));if(!O)throw Oe(ze,"stat",b);return i.default.build(O.getNode(),I)},k.prototype.statSync=function(b,I){return this.statBase(De(b),gl(I).bigint)},k.prototype.stat=function(b,I,O){var U=by(I,O),$=U[0],Q=U[1];this.wrapAsync(this.statBase,[De(b),$.bigint],Q);},k.prototype.fstatBase=function(b,I){I===void 0&&(I=!1);var O=this.getFileByFd(b);if(!O)throw Oe(dt,"fstat");return i.default.build(O.node,I)},k.prototype.fstatSync=function(b,I){return this.fstatBase(b,gl(I).bigint)},k.prototype.fstat=function(b,I,O){var U=by(I,O),$=U[0],Q=U[1];this.wrapAsync(this.fstatBase,[b,$.bigint],Q);},k.prototype.renameBase=function(b,I){var O=this.getLink(Gt(b));if(!O)throw Oe(ze,"rename",b,I);var U=Gt(I),$=this.getLinkParent(U);if(!$)throw Oe(ze,"rename",b,I);var Q=O.parent;Q&&Q.deleteChild(O);var ye=U[U.length-1];O.steps=e(e([],$.steps,!0),[ye],!1),$.setChild(O.getName(),O);},k.prototype.renameSync=function(b,I){var O=De(b),U=De(I);this.renameBase(O,U);},k.prototype.rename=function(b,I,O){var U=De(b),$=De(I);this.wrapAsync(this.renameBase,[U,$],O);},k.prototype.existsBase=function(b){return !!this.statBase(b)},k.prototype.existsSync=function(b){try{return this.existsBase(De(b))}catch(I){return !1}},k.prototype.exists=function(b,I){var O=this,U=De(b);if(typeof I!="function")throw Error(de.CB);(0, s.default)(function(){try{I(O.existsBase(U));}catch($){I(!1);}});},k.prototype.accessBase=function(b,I){this.getLinkOrThrow(b,"access");},k.prototype.accessSync=function(b,I){I===void 0&&(I=H);var O=De(b);I=I|0,this.accessBase(O,I);},k.prototype.access=function(b,I,O){var U=H,$;typeof I!="function"?(U=I|0,$=rt(O)):$=I;var Q=De(b);this.wrapAsync(this.accessBase,[Q,U],$);},k.prototype.appendFileSync=function(b,I,O){O===void 0&&(O=x);var U=B(O);(!U.flag||Zo(b))&&(U.flag="a"),this.writeFileSync(b,I,U);},k.prototype.appendFile=function(b,I,O,U){var $=j(O,U),Q=$[0],ye=$[1];(!Q.flag||Zo(b))&&(Q.flag="a"),this.writeFile(b,I,Q,ye);},k.prototype.readdirBase=function(b,I){var O=Gt(b),U=this.getResolvedLink(O);if(!U)throw Oe(ze,"readdir",b);var $=U.getNode();if(!$.isDirectory())throw Oe(pe,"scandir",b);if(I.withFileTypes){var Q=[];for(var ye in U.children){var xe=U.getChild(ye);xe&&Q.push(o.default.build(xe,I.encoding));}return !ne&&I.encoding!=="buffer"&&Q.sort(function(Wt,Un){return Wt.name<Un.name?-1:Wt.name>Un.name?1:0}),Q}var Fe=[];for(var mt in U.children)Fe.push((0, S.strToEncoding)(mt,I.encoding));return !ne&&I.encoding!=="buffer"&&Fe.sort(),Fe},k.prototype.readdirSync=function(b,I){var O=IT(I),U=De(b);return this.readdirBase(U,O)},k.prototype.readdir=function(b,I,O){var U=CM(I,O),$=U[0],Q=U[1],ye=De(b);this.wrapAsync(this.readdirBase,[ye,$],Q);},k.prototype.readlinkBase=function(b,I){var O=this.getLinkOrThrow(b,"readlink"),U=O.getNode();if(!U.isSymlink())throw Oe(ct,"readlink",b);var $=Ee+U.symlink.join(Ee);return (0, S.strToEncoding)($,I)},k.prototype.readlinkSync=function(b,I){var O=Nt(I),U=De(b);return this.readlinkBase(U,O.encoding)},k.prototype.readlink=function(b,I,O){var U=Zn(I,O),$=U[0],Q=U[1],ye=De(b);this.wrapAsync(this.readlinkBase,[ye,$.encoding],Q);},k.prototype.fsyncBase=function(b){this.getFileByFdOrThrow(b,"fsync");},k.prototype.fsyncSync=function(b){this.fsyncBase(b);},k.prototype.fsync=function(b,I){this.wrapAsync(this.fsyncBase,[b],I);},k.prototype.fdatasyncBase=function(b){this.getFileByFdOrThrow(b,"fdatasync");},k.prototype.fdatasyncSync=function(b){this.fdatasyncBase(b);},k.prototype.fdatasync=function(b,I){this.wrapAsync(this.fdatasyncBase,[b],I);},k.prototype.ftruncateBase=function(b,I){var O=this.getFileByFdOrThrow(b,"ftruncate");O.truncate(I);},k.prototype.ftruncateSync=function(b,I){this.ftruncateBase(b,I);},k.prototype.ftruncate=function(b,I,O){var U=typeof I=="number"?I:0,$=rt(typeof I=="number"?O:I);this.wrapAsync(this.ftruncateBase,[b,U],$);},k.prototype.truncateBase=function(b,I){var O=this.openSync(b,"r+");try{this.ftruncateSync(O,I);}finally{this.closeSync(O);}},k.prototype.truncateSync=function(b,I){if(Zo(b))return this.ftruncateSync(b,I);this.truncateBase(b,I);},k.prototype.truncate=function(b,I,O){var U=typeof I=="number"?I:0,$=rt(typeof I=="number"?O:I);if(Zo(b))return this.ftruncate(b,U,$);this.wrapAsync(this.truncateBase,[b,U],$);},k.prototype.futimesBase=function(b,I,O){var U=this.getFileByFdOrThrow(b,"futimes"),$=U.node;$.atime=new Date(I*1e3),$.mtime=new Date(O*1e3);},k.prototype.futimesSync=function(b,I,O){this.futimesBase(b,_i(I),_i(O));},k.prototype.futimes=function(b,I,O,U){this.wrapAsync(this.futimesBase,[b,_i(I),_i(O)],U);},k.prototype.utimesBase=function(b,I,O){var U=this.openSync(b,"r+");try{this.futimesBase(U,I,O);}finally{this.closeSync(U);}},k.prototype.utimesSync=function(b,I,O){this.utimesBase(De(b),_i(I),_i(O));},k.prototype.utimes=function(b,I,O,U){this.wrapAsync(this.utimesBase,[De(b),_i(I),_i(O)],U);},k.prototype.mkdirBase=function(b,I){var O=Gt(b);if(!O.length)throw Oe(G,"mkdir",b);var U=this.getLinkParentAsDirOrThrow(b,"mkdir"),$=O[O.length-1];if(U.getChild($))throw Oe(G,"mkdir",b);U.createChild($,this.createNode(!0,I));},k.prototype.mkdirpBase=function(b,I){for(var O=Gt(b),U=this.root,$=0;$<O.length;$++){var Q=O[$];if(!U.getNode().isDirectory())throw Oe(pe,"mkdir",U.getPath());var ye=U.getChild(Q);if(ye)if(ye.getNode().isDirectory())U=ye;else throw Oe(pe,"mkdir",ye.getPath());else U=U.createChild(Q,this.createNode(!0,I));}},k.prototype.mkdirSync=function(b,I){var O=Le(I),U=Kr(O.mode,511),$=De(b);O.recursive?this.mkdirpBase($,U):this.mkdirBase($,U);},k.prototype.mkdir=function(b,I,O){var U=Le(I),$=rt(typeof I=="function"?I:O),Q=Kr(U.mode,511),ye=De(b);U.recursive?this.wrapAsync(this.mkdirpBase,[ye,Q],$):this.wrapAsync(this.mkdirBase,[ye,Q],$);},k.prototype.mkdirpSync=function(b,I){this.mkdirSync(b,{mode:I,recursive:!0});},k.prototype.mkdirp=function(b,I,O){var U=typeof I=="function"?void 0:I,$=rt(typeof I=="function"?I:O);this.mkdir(b,{mode:U,recursive:!0},$);},k.prototype.mkdtempBase=function(b,I,O){O===void 0&&(O=5);var U=b+this.genRndStr();try{return this.mkdirBase(U,511),(0,S.strToEncoding)(U,I)}catch($){if($.code===G){if(O>1)return this.mkdtempBase(b,I,O-1);throw Error("Could not create temp dir.")}else throw $}},k.prototype.mkdtempSync=function(b,I){var O=Nt(I).encoding;if(!b||typeof b!="string")throw new TypeError("filename prefix is required");return Ry(b),this.mkdtempBase(b,O)},k.prototype.mkdtemp=function(b,I,O){var U=Zn(I,O),$=U[0].encoding,Q=U[1];if(!b||typeof b!="string")throw new TypeError("filename prefix is required");Ry(b)&&this.wrapAsync(this.mkdtempBase,[b,$],Q);},k.prototype.rmdirBase=function(b,I){var O=_T(I),U=this.getLinkAsDirOrThrow(b,"rmdir");if(U.length&&!O.recursive)throw Oe(z,"rmdir",b);this.deleteLink(U);},k.prototype.rmdirSync=function(b,I){this.rmdirBase(De(b),I);},k.prototype.rmdir=function(b,I,O){var U=_T(I),$=rt(typeof I=="function"?I:O);this.wrapAsync(this.rmdirBase,[De(b),U],$);},k.prototype.fchmodBase=function(b,I){var O=this.getFileByFdOrThrow(b,"fchmod");O.chmod(I);},k.prototype.fchmodSync=function(b,I){this.fchmodBase(b,Kr(I));},k.prototype.fchmod=function(b,I,O){this.wrapAsync(this.fchmodBase,[b,Kr(I)],O);},k.prototype.chmodBase=function(b,I){var O=this.openSync(b,"r+");try{this.fchmodBase(O,I);}finally{this.closeSync(O);}},k.prototype.chmodSync=function(b,I){var O=Kr(I),U=De(b);this.chmodBase(U,O);},k.prototype.chmod=function(b,I,O){var U=Kr(I),$=De(b);this.wrapAsync(this.chmodBase,[$,U],O);},k.prototype.lchmodBase=function(b,I){var O=this.openBase(b,V,0,!1);try{this.fchmodBase(O,I);}finally{this.closeSync(O);}},k.prototype.lchmodSync=function(b,I){var O=Kr(I),U=De(b);this.lchmodBase(U,O);},k.prototype.lchmod=function(b,I,O){var U=Kr(I),$=De(b);this.wrapAsync(this.lchmodBase,[$,U],O);},k.prototype.fchownBase=function(b,I,O){this.getFileByFdOrThrow(b,"fchown").chown(I,O);},k.prototype.fchownSync=function(b,I,O){Ps(I),Ms(O),this.fchownBase(b,I,O);},k.prototype.fchown=function(b,I,O,U){Ps(I),Ms(O),this.wrapAsync(this.fchownBase,[b,I,O],U);},k.prototype.chownBase=function(b,I,O){var U=this.getResolvedLinkOrThrow(b,"chown"),$=U.getNode();$.chown(I,O);},k.prototype.chownSync=function(b,I,O){Ps(I),Ms(O),this.chownBase(De(b),I,O);},k.prototype.chown=function(b,I,O,U){Ps(I),Ms(O),this.wrapAsync(this.chownBase,[De(b),I,O],U);},k.prototype.lchownBase=function(b,I,O){this.getLinkOrThrow(b,"lchown").getNode().chown(I,O);},k.prototype.lchownSync=function(b,I,O){Ps(I),Ms(O),this.lchownBase(De(b),I,O);},k.prototype.lchown=function(b,I,O,U){Ps(I),Ms(O),this.wrapAsync(this.lchownBase,[De(b),I,O],U);},k.prototype.watchFile=function(b,I,O){var U=De(b),$=I,Q=O;if(typeof $=="function"&&(Q=I,$=null),typeof Q!="function")throw Error('"watchFile()" requires a listener function');var ye=5007,xe=!0;$&&typeof $=="object"&&(typeof $.interval=="number"&&(ye=$.interval),typeof $.persistent=="boolean"&&(xe=$.persistent));var Fe=this.statWatchers[U];return Fe||(Fe=new this.StatWatcher,Fe.start(U,xe,ye),this.statWatchers[U]=Fe),Fe.addListener("change",Q),Fe},k.prototype.unwatchFile=function(b,I){var O=De(b),U=this.statWatchers[O];U&&(typeof I=="function"?U.removeListener("change",I):U.removeAllListeners("change"),U.listenerCount("change")===0&&(U.stop(),delete this.statWatchers[O]));},k.prototype.createReadStream=function(b,I){return new this.ReadStream(b,I)},k.prototype.createWriteStream=function(b,I){return new this.WriteStream(b,I)},k.prototype.watch=function(b,I,O){var U=De(b),$=I;typeof I=="function"&&(O=I,$=null);var Q=Nt($),ye=Q.persistent,xe=Q.recursive,Fe=Q.encoding;ye===void 0&&(ye=!0),xe===void 0&&(xe=!1);var mt=new this.FSWatcher;return mt.start(U,ye,xe,Fe),O&&mt.addListener("change",O),mt},k.fd=2147483647,k}();ht.Volume=IM;function NM(k){k.emit("stop");}var xT=function(k){t(b,k);function b(I){var O=k.call(this)||this;return O.onInterval=function(){try{var U=O.vol.statSync(O.filename);O.hasChanged(U)&&(O.emit("change",U,O.prev),O.prev=U);}finally{O.loop();}},O.vol=I,O}return b.prototype.loop=function(){this.timeoutRef=this.setTimeout(this.onInterval,this.interval);},b.prototype.hasChanged=function(I){return I.mtimeMs>this.prev.mtimeMs||I.nlink!==this.prev.nlink},b.prototype.start=function(I,O,U){O===void 0&&(O=!0),U===void 0&&(U=5007),this.filename=De(I),this.setTimeout=O?setTimeout.bind(typeof globalThis!="undefined"?globalThis:YV):d.default,this.interval=U,this.prev=this.vol.statSync(this.filename),this.loop();},b.prototype.stop=function(){clearTimeout(this.timeoutRef),u.default.nextTick(NM,this);},b}(C.EventEmitter);ht.StatWatcher=xT;var ln;function OM(k){ln=(0, a.bufferAllocUnsafe)(k),ln.used=0;}T.inherits(Mn,f.Readable),ht.ReadStream=Mn;function Mn(k,b,I){if(!(this instanceof Mn))return new Mn(k,b,I);if(this._vol=k,I=Object.assign({},wr(I,{})),I.highWaterMark===void 0&&(I.highWaterMark=64*1024),f.Readable.call(this,I),this.path=De(b),this.fd=I.fd===void 0?null:I.fd,this.flags=I.flags===void 0?"r":I.flags,this.mode=I.mode===void 0?438:I.mode,this.start=I.start,this.end=I.end,this.autoClose=I.autoClose===void 0?!0:I.autoClose,this.pos=void 0,this.bytesRead=0,this.start!==void 0){if(typeof this.start!="number")throw new TypeError('"start" option must be a Number');if(this.end===void 0)this.end=1/0;else if(typeof this.end!="number")throw new TypeError('"end" option must be a Number');if(this.start>this.end)throw new Error('"start" option must be <= "end" option');this.pos=this.start;}typeof this.fd!="number"&&this.open(),this.on("end",function(){this.autoClose&&this.destroy&&this.destroy();});}Mn.prototype.open=function(){var k=this;this._vol.open(this.path,this.flags,this.mode,function(b,I){if(b){k.autoClose&&k.destroy&&k.destroy(),k.emit("error",b);return}k.fd=I,k.emit("open",I),k.read();});},Mn.prototype._read=function(k){if(typeof this.fd!="number")return this.once("open",function(){this._read(k);});if(this.destroyed)return;(!ln||ln.length-ln.used<oe)&&OM(this._readableState.highWaterMark);var b=ln,I=Math.min(ln.length-ln.used,k),O=ln.used;if(this.pos!==void 0&&(I=Math.min(this.end-this.pos+1,I)),I<=0)return this.push(null);var U=this;this._vol.read(this.fd,ln,ln.used,I,this.pos,$),this.pos!==void 0&&(this.pos+=I),ln.used+=I;function $(Q,ye){if(Q)U.autoClose&&U.destroy&&U.destroy(),U.emit("error",Q);else {var xe=null;ye>0&&(U.bytesRead+=ye,xe=b.slice(O,O+ye)),U.push(xe);}}},Mn.prototype._destroy=function(k,b){this.close(function(I){b(k||I);});},Mn.prototype.close=function(k){var b=this;if(k&&this.once("close",k),this.closed||typeof this.fd!="number"){if(typeof this.fd!="number"){this.once("open",xM);return}return u.default.nextTick(function(){return b.emit("close")})}this.closed=!0,this._vol.close(this.fd,function(I){I?b.emit("error",I):b.emit("close");}),this.fd=null;};function xM(k){this.close();}T.inherits(un,f.Writable),ht.WriteStream=un;function un(k,b,I){if(!(this instanceof un))return new un(k,b,I);if(this._vol=k,I=Object.assign({},wr(I,{})),f.Writable.call(this,I),this.path=De(b),this.fd=I.fd===void 0?null:I.fd,this.flags=I.flags===void 0?"w":I.flags,this.mode=I.mode===void 0?438:I.mode,this.start=I.start,this.autoClose=I.autoClose===void 0?!0:!!I.autoClose,this.pos=void 0,this.bytesWritten=0,this.start!==void 0){if(typeof this.start!="number")throw new TypeError('"start" option must be a Number');if(this.start<0)throw new Error('"start" must be >= zero');this.pos=this.start;}I.encoding&&this.setDefaultEncoding(I.encoding),typeof this.fd!="number"&&this.open(),this.once("finish",function(){this.autoClose&&this.close();});}un.prototype.open=function(){this._vol.open(this.path,this.flags,this.mode,function(k,b){if(k){this.autoClose&&this.destroy&&this.destroy(),this.emit("error",k);return}this.fd=b,this.emit("open",b);}.bind(this));},un.prototype._write=function(k,b,I){if(!(k instanceof a.Buffer))return this.emit("error",new Error("Invalid data"));if(typeof this.fd!="number")return this.once("open",function(){this._write(k,b,I);});var O=this;this._vol.write(this.fd,k,0,k.length,this.pos,function(U,$){if(U)return O.autoClose&&O.destroy&&O.destroy(),I(U);O.bytesWritten+=$,I();}),this.pos!==void 0&&(this.pos+=k.length);},un.prototype._writev=function(k,b){if(typeof this.fd!="number")return this.once("open",function(){this._writev(k,b);});for(var I=this,O=k.length,U=new Array(O),$=0,Q=0;Q<O;Q++){var ye=k[Q].chunk;U[Q]=ye,$+=ye.length;}var xe=a.Buffer.concat(U);this._vol.write(this.fd,xe,0,xe.length,this.pos,function(Fe,mt){if(Fe)return I.destroy&&I.destroy(),b(Fe);I.bytesWritten+=mt,b();}),this.pos!==void 0&&(this.pos+=$);},un.prototype._destroy=Mn.prototype._destroy,un.prototype.close=Mn.prototype.close,un.prototype.destroySoon=un.prototype.end;var kT=function(k){t(b,k);function b(I){var O=k.call(this)||this;return O._filename="",O._filenameEncoded="",O._recursive=!1,O._encoding=S.ENCODING_UTF8,O._onNodeChange=function(){O._emit("change");},O._onParentChild=function(U){U.getName()===O._getName()&&O._emit("rename");},O._emit=function(U){O.emit("change",U,O._filenameEncoded);},O._persist=function(){O._timer=setTimeout(O._persist,1e6);},O._vol=I,O}return b.prototype._getName=function(){return this._steps[this._steps.length-1]},b.prototype.start=function(I,O,U,$){O===void 0&&(O=!0),U===void 0&&(U=!1),$===void 0&&($=S.ENCODING_UTF8),this._filename=De(I),this._steps=Gt(this._filename),this._filenameEncoded=(0, S.strToEncoding)(this._filename),this._recursive=U,this._encoding=$;try{this._link=this._vol.getLinkOrThrow(this._filename,"FSWatcher");}catch(xe){var Q=new Error("watch "+this._filename+" "+xe.code);throw Q.code=xe.code,Q.errno=xe.code,Q}this._link.getNode().on("change",this._onNodeChange),this._link.on("child:add",this._onNodeChange),this._link.on("child:delete",this._onNodeChange);var ye=this._link.parent;ye&&(ye.setMaxListeners(ye.getMaxListeners()+1),ye.on("child:delete",this._onParentChild)),O&&this._persist();},b.prototype.close=function(){clearTimeout(this._timer),this._link.getNode().removeListener("change",this._onNodeChange);var I=this._link.parent;I&&I.removeListener("child:delete",this._onParentChild);},b}(C.EventEmitter);return ht.FSWatcher=kT,ht}var io={},vP=!1;function JV(){if(vP)return io;vP=!0,Object.defineProperty(io,"__esModule",{value:!0}),io.fsAsyncMethods=io.fsSyncMethods=io.fsProps=void 0;var t=["constants","F_OK","R_OK","W_OK","X_OK","Stats"];io.fsProps=t;var e=["renameSync","ftruncateSync","truncateSync","chownSync","fchownSync","lchownSync","chmodSync","fchmodSync","lchmodSync","statSync","lstatSync","fstatSync","linkSync","symlinkSync","readlinkSync","realpathSync","unlinkSync","rmdirSync","mkdirSync","mkdirpSync","readdirSync","closeSync","openSync","utimesSync","futimesSync","fsyncSync","writeSync","readSync","readFileSync","writeFileSync","appendFileSync","existsSync","accessSync","fdatasyncSync","mkdtempSync","copyFileSync","createReadStream","createWriteStream"];io.fsSyncMethods=e;var r=["rename","ftruncate","truncate","chown","fchown","lchown","chmod","fchmod","lchmod","stat","lstat","fstat","link","symlink","readlink","realpath","unlink","rmdir","mkdir","mkdirp","readdir","close","open","utimes","futimes","fsync","write","read","readFile","writeFile","appendFile","exists","access","fdatasync","mkdtemp","copyFile","watchFile","unwatchFile","watch"];return io.fsAsyncMethods=r,io}var vr={},EP=!1;function ZV(){if(EP)return vr;EP=!0;var t=vr&&vr.__assign||function(){return t=Object.assign||function(S){for(var E,T=1,_=arguments.length;T<_;T++){E=arguments[T];for(var P in E)Object.prototype.hasOwnProperty.call(E,P)&&(S[P]=E[P]);}return S},t.apply(this,arguments)};Object.defineProperty(vr,"__esModule",{value:!0}),vr.fs=vr.createFsFromVolume=vr.vol=vr.Volume=void 0;var e=JS(),r=TP(),n=bP(),i=JV(),o=i.fsSyncMethods,a=i.fsAsyncMethods,s=$d(),u=s.constants.F_OK,d=s.constants.R_OK,f=s.constants.W_OK,g=s.constants.X_OK;vr.Volume=n.Volume,vr.vol=new n.Volume;function C(S){for(var E={F_OK:u,R_OK:d,W_OK:f,X_OK:g,constants:s.constants,Stats:e.default,Dirent:r.default},T=0,_=o;T<_.length;T++){var P=_[T];typeof S[P]=="function"&&(E[P]=S[P].bind(S));}for(var M=0,D=a;M<D.length;M++){var P=D[M];typeof S[P]=="function"&&(E[P]=S[P].bind(S));}return E.StatWatcher=S.StatWatcher,E.FSWatcher=S.FSWatcher,E.WriteStream=S.WriteStream,E.ReadStream=S.ReadStream,E.promises=S.promises,E._toUnixTimestamp=n.toUnixTimestamp,E}return vr.createFsFromVolume=C,vr.fs=C(vr.vol),vr=t(t({},vr),vr.fs),vr.semantic=!0,vr}var Ns=ZV();Ns.__esModule;Ns.fs;Ns.createFsFromVolume;Ns.vol;Ns.Volume;Ns.semantic;var Lr=bP();Lr.__esModule;Lr.FSWatcher;Lr.StatWatcher;Lr.Volume;Lr.toUnixTimestamp;Lr.bufferToEncoding;Lr.dataToBuffer;Lr.dataToStr;Lr.pathToSteps;Lr.filenameToSteps;Lr.pathToFilename;Lr.flagsToNumber;Lr.FLAGS;Lr.ReadStream;Lr.WriteStream;var{vol:oo,createFsFromVolume:QV}=Ns;function cn(t){throw new Error(`Node.js fs ${t} is not supported by JSPM core in the browser`)}oo.fromNestedJSON({"/dev":{stdin:"",stdout:"",stderr:""},"/usr/bin":{},"/home":{},"/tmp":{}});oo.releasedFds=[2,1,0];oo.openSync("/dev/stdin","w");oo.openSync("/dev/stdout","r");oo.openSync("/dev/stderr","r");RP("/dev/stdout",1,console.log);RP("/dev/stderr",2,console.error);function RP(t,e,r){let n=0,i=new TextDecoder;oo.watch(t,"utf8",()=>{let{size:o}=oo.fstatSync(e),a=YS.alloc(o-n);oo.readSync(e,a,0,a.length,n),n=o,r(i.decode(a,{stream:!0}));});}var Mt=QV(oo);Mt.opendir=()=>cn("opendir");Mt.opendirSync=()=>cn("opendirSync");Mt.promises.opendir=()=>cn("promises.opendir");Mt.cp=()=>cn("cp");Mt.cpSync=()=>cn("cpSync");Mt.promises.cp=()=>cn("promises.cp");Mt.readv=()=>cn("readv");Mt.readvSync=()=>cn("readvSync");Mt.rm=()=>cn("rm");Mt.rmSync=()=>cn("rmSync");Mt.promises.rm=()=>cn("promises.rm");Mt.Dir=()=>cn("Dir");Mt.promises.watch=()=>cn("promises.watch");Mt.FileReadStream=Mt.ReadStream;Mt.FileWriteStream=Mt.WriteStream;function QS(t,e){if(t.protocol==="file:")return Fp(t);if(t.protocol==="https:"||t.protocol==="http:"){let r="\\\\url\\"+t.href.replaceAll(/\//g,"\\\\");if(rG(r))return r;if(e)throw new Error(`Cannot sync request URL ${t} via FS. JSPM FS support for network URLs requires using async FS methods or priming the MemFS cache first with an async request before a sync request.`);return L(this,null,function*(){let n=yield fetch(t);if(!n.ok)throw new Error(`Unable to fetch ${t.href}, ${n.status}`);let i=yield n.arrayBuffer();return nG(r,YS.from(i)),r})}throw new Error("URL "+t+" not supported in JSPM FS implementation.")}function XV(t){return function(e,...r){return e instanceof URL?t(QS(e,!0),...r):t(e,...r)}}function eG(t){return function(e,...r){return L(this,null,function*(){return e instanceof URL?t(yield QS(e),...r):t(e,...r)})}}function tG(t){return function(e,...r){let n=r[r.length-1];e instanceof URL&&typeof n=="function"?QS(e).then(i=>{t(i,...r);},n):t(e,...r);}}Mt.promises.readFile=eG(Mt.promises.readFile);Mt.readFile=tG(Mt.readFile);Mt.readFileSync=XV(Mt.readFileSync);var{appendFile:kHe,appendFileSync:PHe,access:MHe,accessSync:_P,chown:UHe,chownSync:BHe,chmod:DHe,chmodSync:LHe,close:FHe,closeSync:zHe,copyFile:qHe,copyFileSync:jHe,cp:HHe,cpSync:$He,createReadStream:VHe,createWriteStream:GHe,exists:WHe,existsSync:rG,fchown:KHe,fchownSync:YHe,fchmod:JHe,fchmodSync:ZHe,fdatasync:QHe,fdatasyncSync:XHe,fstat:e$e,fstatSync:t$e,fsync:r$e,fsyncSync:n$e,ftruncate:i$e,ftruncateSync:o$e,futimes:a$e,futimesSync:s$e,lchown:c$e,lchownSync:l$e,lchmod:u$e,lchmodSync:d$e,link:f$e,linkSync:p$e,lstat:h$e,lstatSync:m$e,mkdir:y$e,mkdirSync:g$e,mkdtemp:v$e,mkdtempSync:E$e,open:C$e,openSync:S$e,opendir:T$e,opendirSync:w$e,readdir:A$e,readdirSync:b$e,read:R$e,readSync:_$e,readv:I$e,readvSync:N$e,readFile:O$e,readFileSync:IP,readlink:x$e,readlinkSync:k$e,realpath:P$e,realpathSync:M$e,rename:U$e,renameSync:B$e,rm:D$e,rmSync:L$e,rmdir:F$e,rmdirSync:z$e,stat:q$e,statSync:NP,symlink:j$e,symlinkSync:H$e,truncate:$$e,truncateSync:V$e,unwatchFile:G$e,unlink:W$e,unlinkSync:K$e,utimes:Y$e,utimesSync:J$e,watch:Z$e,watchFile:Q$e,writeFile:X$e,writeFileSync:nG,write:e4e,writeSync:t4e,writev:r4e,writevSync:n4e,Dir:i4e,Dirent:o4e,Stats:a4e,ReadStream:s4e,WriteStream:c4e,FileReadStream:l4e,FileWriteStream:u4e,_toUnixTimestamp:d4e,constants:{F_OK:f4e,R_OK:p4e,W_OK:h4e,X_OK:m4e},constants:XS,promises:y4e}=Mt;var iG="2019-11-01",OP="http://127.0.0.1:40342/metadata/identity/oauth2/token",xP="N/A: himds executable exists",kP={win32:`${A.env.ProgramData}\\AzureConnectedMachineAgent\\Tokens\\`,linux:"/var/opt/azcmagent/tokens/"},oG={win32:`${A.env.ProgramFiles}\\AzureConnectedMachineAgent\\himds.exe`,linux:"/opt/azcmagent/bin/himds"},Vd=class t extends an{constructor(e,r,n,i,o){super(e,r,n,i),this.identityEndpoint=o;}static getEnvironmentVariables(){let e=A.env[tt.IDENTITY_ENDPOINT],r=A.env[tt.IMDS_ENDPOINT];if(!e||!r){let n=oG[A.platform];try{_P(n,XS.F_OK|XS.R_OK),e=OP,r=xP;}catch(i){}}return [e,r]}static tryCreate(e,r,n,i,o){let[a,s]=t.getEnvironmentVariables();if(!a||!s)return e.info(`[Managed Identity] ${st.AZURE_ARC} managed identity is unavailable through environment variables because one or both of '${tt.IDENTITY_ENDPOINT}' and '${tt.IMDS_ENDPOINT}' are not defined. ${st.AZURE_ARC} managed identity is also unavailable through file detection.`),null;if(s===xP)e.info(`[Managed Identity] ${st.AZURE_ARC} managed identity is available through file detection. Defaulting to known ${st.AZURE_ARC} endpoint: ${OP}. Creating ${st.AZURE_ARC} managed identity.`);else {let u=t.getValidatedEnvVariableUrlString(tt.IDENTITY_ENDPOINT,a,st.AZURE_ARC,e);u.endsWith("/")&&u.slice(0,-1),t.getValidatedEnvVariableUrlString(tt.IMDS_ENDPOINT,s,st.AZURE_ARC,e),e.info(`[Managed Identity] Environment variables validation passed for ${st.AZURE_ARC} managed identity. Endpoint URI: ${u}. Creating ${st.AZURE_ARC} managed identity.`);}if(o.idType!==or.SYSTEM_ASSIGNED)throw Zt(km);return new t(e,r,n,i,a)}createRequest(e){let r=new kn(Ft.GET,this.identityEndpoint.replace("localhost","127.0.0.1"));return r.headers[nl]="true",r.queryParameters[Lo]=iG,r.queryParameters[Si]=e,r}getServerTokenResponseAsync(e,r,n,i){return L(this,null,function*(){let o;if(e.status===It.UNAUTHORIZED){let a=e.headers["www-authenticate"];if(!a)throw Zt(Um);if(!a.includes("Basic realm="))throw Zt(Bm);let s=a.split("Basic realm=")[1];if(!kP.hasOwnProperty(A.platform))throw Zt(xm);let u=kP[A.platform],d=Pt.basename(s);if(!d.endsWith(".key"))throw Zt(Im);if(u+d!==s)throw Zt(Nm);let f;try{f=yield NP(s).size;}catch(S){throw Zt(Pd)}if(f>Wx)throw Zt(Om);let g;try{g=IP(s,"utf-8");}catch(S){throw Zt(Pd)}let C=`Basic ${g}`;this.logger.info("[Managed Identity] Adding authorization header to the request."),n.headers[zx]=C;try{o=yield r.sendGetRequestAsync(n.computeUri(),i);}catch(S){throw S instanceof Et?S:se(tr.networkError)}}return this.getServerTokenResponse(o||e)})}};y();p();h();m();var Gd=class t extends an{constructor(e,r,n,i,o){super(e,r,n,i),this.msiEndpoint=o;}static getEnvironmentVariables(){return [A.env[tt.MSI_ENDPOINT]]}static tryCreate(e,r,n,i,o){let[a]=t.getEnvironmentVariables();if(!a)return e.info(`[Managed Identity] ${st.CLOUD_SHELL} managed identity is unavailable because the '${tt.MSI_ENDPOINT} environment variable is not defined.`),null;let s=t.getValidatedEnvVariableUrlString(tt.MSI_ENDPOINT,a,st.CLOUD_SHELL,e);if(e.info(`[Managed Identity] Environment variable validation passed for ${st.CLOUD_SHELL} managed identity. Endpoint URI: ${s}. Creating ${st.CLOUD_SHELL} managed identity.`),o.idType!==or.SYSTEM_ASSIGNED)throw Zt(Pm);return new t(e,r,n,i,a)}createRequest(e){let r=new kn(Ft.POST,this.msiEndpoint);return r.headers[nl]="true",r.bodyParameters[Si]=e,r}};y();p();h();m();var PP="/metadata/identity/oauth2/token",aG=`http://169.254.169.254${PP}`,sG="2018-02-01",ty=class t extends an{constructor(e,r,n,i,o){super(e,r,n,i),this.identityEndpoint=o;}static tryCreate(e,r,n,i){let o;return A.env[tt.AZURE_POD_IDENTITY_AUTHORITY_HOST]?(e.info(`[Managed Identity] Environment variable ${tt.AZURE_POD_IDENTITY_AUTHORITY_HOST} for ${st.IMDS} returned endpoint: ${A.env[tt.AZURE_POD_IDENTITY_AUTHORITY_HOST]}`),o=t.getValidatedEnvVariableUrlString(tt.AZURE_POD_IDENTITY_AUTHORITY_HOST,`${A.env[tt.AZURE_POD_IDENTITY_AUTHORITY_HOST]}${PP}`,st.IMDS,e)):(e.info(`[Managed Identity] Unable to find ${tt.AZURE_POD_IDENTITY_AUTHORITY_HOST} environment variable for ${st.IMDS}, using the default endpoint.`),o=aG),new t(e,r,n,i,o)}createRequest(e,r){let n=new kn(Ft.GET,this.identityEndpoint);return n.headers[nl]="true",n.queryParameters[Lo]=sG,n.queryParameters[Si]=e,r.idType!==or.SYSTEM_ASSIGNED&&(n.queryParameters[this.getManagedIdentityUserAssignedIdQueryParameterKey(r.idType)]=r.id),n}};y();p();h();m();var cG="2019-07-01-preview",Wd=class t extends an{constructor(e,r,n,i,o,a){super(e,r,n,i),this.identityEndpoint=o,this.identityHeader=a;}static getEnvironmentVariables(){let e=A.env[tt.IDENTITY_ENDPOINT],r=A.env[tt.IDENTITY_HEADER],n=A.env[tt.IDENTITY_SERVER_THUMBPRINT];return [e,r,n]}static tryCreate(e,r,n,i,o){let[a,s,u]=t.getEnvironmentVariables();if(!a||!s||!u)return e.info(`[Managed Identity] ${st.SERVICE_FABRIC} managed identity is unavailable because one or all of the '${tt.IDENTITY_HEADER}', '${tt.IDENTITY_ENDPOINT}' or '${tt.IDENTITY_SERVER_THUMBPRINT}' environment variables are not defined.`),null;let d=t.getValidatedEnvVariableUrlString(tt.IDENTITY_ENDPOINT,a,st.SERVICE_FABRIC,e);return e.info(`[Managed Identity] Environment variables validation passed for ${st.SERVICE_FABRIC} managed identity. Endpoint URI: ${d}. Creating ${st.SERVICE_FABRIC} managed identity.`),o.idType!==or.SYSTEM_ASSIGNED&&e.warning(`[Managed Identity] ${st.SERVICE_FABRIC} user assigned managed identity is configured in the cluster, not during runtime. See also: https://learn.microsoft.com/en-us/azure/service-fabric/configure-existing-cluster-enable-managed-identity-token-service.`),new t(e,r,n,i,a,s)}createRequest(e,r){let n=new kn(Ft.GET,this.identityEndpoint);return n.headers[jx]=this.identityHeader,n.queryParameters[Lo]=cG,n.queryParameters[Si]=e,r.idType!==or.SYSTEM_ASSIGNED&&(n.queryParameters[this.getManagedIdentityUserAssignedIdQueryParameterKey(r.idType)]=r.id),n}};var Kd=class t{constructor(e,r,n,i){this.logger=e,this.nodeStorage=r,this.networkClient=n,this.cryptoProvider=i;}sendManagedIdentityTokenRequest(e,r,n,i){return L(this,null,function*(){return t.identitySource||(t.identitySource=this.selectManagedIdentitySource(this.logger,this.nodeStorage,this.networkClient,this.cryptoProvider,r)),t.identitySource.acquireTokenWithManagedIdentity(e,r,n,i)})}allEnvironmentVariablesAreDefined(e){return Object.values(e).every(r=>r!==void 0)}getManagedIdentitySource(){return t.sourceName=this.allEnvironmentVariablesAreDefined(Wd.getEnvironmentVariables())?st.SERVICE_FABRIC:this.allEnvironmentVariablesAreDefined(Ld.getEnvironmentVariables())?st.APP_SERVICE:this.allEnvironmentVariablesAreDefined(Gd.getEnvironmentVariables())?st.CLOUD_SHELL:this.allEnvironmentVariablesAreDefined(Vd.getEnvironmentVariables())?st.AZURE_ARC:st.DEFAULT_TO_IMDS,t.sourceName}selectManagedIdentitySource(e,r,n,i,o){let a=Wd.tryCreate(e,r,n,i,o)||Ld.tryCreate(e,r,n,i)||Gd.tryCreate(e,r,n,i,o)||Vd.tryCreate(e,r,n,i,o)||ty.tryCreate(e,r,n,i);if(!a)throw Zt(Mm);return a}};var Yd=class t{constructor(e){this.config=nk(e||{}),this.logger=new Kn(this.config.system.loggerOptions,Hm,Es);let r={canonicalAuthority:ee.DEFAULT_AUTHORITY};t.nodeStorage||(t.nodeStorage=new vs(this.logger,this.config.managedIdentityId.id,Qc,r)),this.networkClient=this.config.system.networkClient,this.cryptoProvider=new gs;let n={protocolMode:On.AAD,knownAuthorities:[fS],cloudDiscoveryMetadata:"",authorityMetadata:""};this.fakeAuthority=new Wn(fS,this.networkClient,t.nodeStorage,n,this.logger,this.cryptoProvider.createNewGuid(),void 0,!0),this.fakeClientCredentialClient=new Cs({authOptions:{clientId:this.config.managedIdentityId.id,authority:this.fakeAuthority}}),this.managedIdentityClient=new Kd(this.logger,t.nodeStorage,this.networkClient,this.cryptoProvider);}acquireToken(e){return L(this,null,function*(){if(!e.resource)throw St(im.urlEmptyError);let r={forceRefresh:e.forceRefresh,resource:e.resource.replace("/.default",""),scopes:[e.resource.replace("/.default","")],authority:this.fakeAuthority.canonicalAuthority,correlationId:this.cryptoProvider.createNewGuid()};if(r.forceRefresh)return this.managedIdentityClient.sendManagedIdentityTokenRequest(r,this.config.managedIdentityId,this.fakeAuthority);let[n,i]=yield this.fakeClientCredentialClient.getCachedAuthenticationResult(r,this.config,this.cryptoProvider,this.fakeAuthority,t.nodeStorage);return n?(i===kt.PROACTIVELY_REFRESHED&&(this.logger.info("ClientCredentialClient:getCachedAuthenticationResult - Cached access token's refreshOn property has been exceeded'. It's not expired, but must be refreshed."),yield this.managedIdentityClient.sendManagedIdentityTokenRequest(r,this.config.managedIdentityId,this.fakeAuthority,!0)),n):this.managedIdentityClient.sendManagedIdentityTokenRequest(r,this.config.managedIdentityId,this.fakeAuthority)})}getManagedIdentitySource(){return Kd.sourceName||this.managedIdentityClient.getManagedIdentitySource()}};y();p();h();m();y();p();h();m();var ry=class ry extends An{constructor(e,r,n,i){let o=typeof e=="string"?e:typeof r=="string"?r:void 0;if(super(o,void 0,i),typeof e!="string")this.clientApplication=e;else {let a={authority:n,clientId:o};a.clientCertificate=typeof r!="string"?r:void 0,a.clientSecret=typeof r=="string"?r:"",this.clientApplication=new eo({auth:a});}}refreshToken(){return L(this,null,function*(){if(!this.clientApplication)throw new Error("getToken should not be called for empty credentials.");let e="/.default",r=this.oAuthScope;r.endsWith(e)||(r=`${r}${e}`);let n=yield this.clientApplication.acquireTokenByClientCredential({scopes:[r],skipCache:!0}),{accessToken:i}=n!=null?n:{};if(typeof i!="string")throw new Error("Authentication: No access token received from MSAL.");return {accessToken:n.accessToken,expiresOn:n.expiresOn}})}};ry.Empty=new ry;var Wr=ry;var ny=class extends An{constructor(e,r,n,i,o,a){super(e,i,o),this.certificateThumbprint=r,this.certificatePrivateKey=n,this.x5c=a;}getToken(e=!1){return L(this,null,function*(){return (this.credentials)!=null||(this.credentials=new Wr(this.createClientApplication(),this.appId,this.oAuthEndpoint,this.oAuthScope)),this.credentials.getToken(e)})}refreshToken(){throw new Error("Method not implemented.")}createClientApplication(){return new eo({auth:{clientId:this.appId,authority:this.oAuthEndpoint,clientCertificate:{thumbprint:this.certificateThumbprint,privateKey:this.certificatePrivateKey,x5c:this.x5c}}})}};y();p();h();m();y();p();h();m();var Vo=class{};En();oi();var zP=Ar(LP());var fG=Ws(zP.default),FP=class extends Vo{constructor(e,r,n,i,o){super(),wt(e==null?void 0:e.trim(),"CertificateServiceClientCredentialsFactory.constructor(): missing appId."),wt(n==null?void 0:n.trim(),"CertificateServiceClientCredentialsFactory.constructor(): missing certificatePrivateKey."),r!=null&&r.includes("-----BEGIN CERTIFICATE-----")?this.x5c=r:(wt(r==null?void 0:r.trim(),"CertificateServiceClientCredentialsFactory.constructor(): missing certificateThumbprint or x5c value."),this.certificateThumbprint=r,this.x5c=o),this.appId=e,this.certificatePrivateKey=n,this.tenantId=i;}isValidAppId(e){return L(this,null,function*(){return e===this.appId})}getThumbprint(e){return L(this,null,function*(){let r=yield fG("x509",R.Buffer.from(e),{fingerprint:!0,noout:!0});return R.Buffer.from(r).toString().replace(/^.*Fingerprint=/,"").replace(/:/g,"").trim()})}isAuthenticationDisabled(){return L(this,null,function*(){})}createCredentials(e,r){return L(this,null,function*(){var n;return wt(yield this.isValidAppId(e),"CertificateServiceClientCredentialsFactory.createCredentials(): Invalid Managed ID."),new ny(this.appId,(n=this.certificateThumbprint)!=null?n:yield this.getThumbprint(this.x5c),this.certificatePrivateKey,this.tenantId,r,this.x5c)})}};y();p();h();m();En();var iy=class extends An{constructor(e,r,n,i,o){super(e,n,i),wt(e==null?void 0:e.trim(),"FederatedAppCredentials.constructor(): missing appId."),this.clientAudience=o!=null?o:"api://AzureADTokenExchange",this.managedIdentityClientAssertion=new Yd({managedIdentityIdParams:{userAssignedClientId:r}});}getToken(e=!1){return L(this,null,function*(){return (this.credentials)!=null||(this.credentials=new Wr(this.createClientApplication(yield this.fetchExternalToken(e)),this.oAuthEndpoint,this.oAuthEndpoint,this.oAuthScope)),this.credentials.getToken(e)})}refreshToken(){throw new Error("Method not implemented.")}createClientApplication(e){return new eo({auth:{clientId:this.appId,authority:this.oAuthEndpoint,clientAssertion:e}})}fetchExternalToken(e=!1){return L(this,null,function*(){return (yield this.managedIdentityClientAssertion.acquireToken({resource:this.clientAudience,forceRefresh:e})).accessToken})}};y();p();h();m();En();var qP=class extends Vo{constructor(r,n,i,o){super();this.appId=r;this.clientId=n;this.tenantId=i;this.clientAudience=o;wt(r==null?void 0:r.trim(),"FederatedServiceClientCredentialsFactory.constructor(): missing appId."),wt(n==null?void 0:n.trim(),"FederatedServiceClientCredentialsFactory.constructor(): missing clientId.");}isValidAppId(r=""){return L(this,null,function*(){return r===this.appId})}isAuthenticationDisabled(){return L(this,null,function*(){})}createCredentials(r,n){return L(this,null,function*(){return wt(yield this.isValidAppId(r),"FederatedServiceClientCredentialsFactory.createCredentials(): Invalid App ID."),new iy(this.appId,this.clientId,this.tenantId,n,this.clientAudience)})}};y();p();h();m();y();p();h();m();y();p();h();m();y();p();h();m();y();p();h();m();y();p();h();m();function Os(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return {next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function pG(t,e){var r=typeof Symbol=="function"&&t[Symbol.iterator];if(!r)return t;var n=r.call(t),i,o=[],a;try{for(;(e===void 0||e-- >0)&&!(i=n.next()).done;)o.push(i.value);}catch(s){a={error:s};}finally{try{i&&!i.done&&(r=n.return)&&r.call(n);}finally{if(a)throw a.error}}return o}function xs(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(pG(arguments[e]));return t}y();p();h();m();y();p();h();m();var hG=console.debug||console.log;function jP(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];hG.apply(void 0,xs(t));}var HP=typeof A!="undefined"&&A.env&&A.env.DEBUG||void 0,$P,eT=[],tT=[],oy=[];HP&&rT(HP);function rT(t){var e,r,n,i;$P=t,eT=[],tT=[];var o=/\*/g,a=t.split(",").map(function(S){return S.trim().replace(o,".*?")});try{for(var s=Os(a),u=s.next();!u.done;u=s.next()){var d=u.value;d.startsWith("-")?tT.push(new RegExp("^"+d.substr(1)+"$")):eT.push(new RegExp("^"+d+"$"));}}catch(S){e={error:S};}finally{try{u&&!u.done&&(r=s.return)&&r.call(s);}finally{if(e)throw e.error}}try{for(var f=Os(oy),g=f.next();!g.done;g=f.next()){var C=g.value;C.enabled=nT(C.namespace);}}catch(S){n={error:S};}finally{try{g&&!g.done&&(i=f.return)&&i.call(f);}finally{if(n)throw n.error}}}function nT(t){var e,r,n,i;if(t.endsWith("*"))return !0;try{for(var o=Os(tT),a=o.next();!a.done;a=o.next()){var s=a.value;if(s.test(t))return !1}}catch(g){e={error:g};}finally{try{a&&!a.done&&(r=o.return)&&r.call(o);}finally{if(e)throw e.error}}try{for(var u=Os(eT),d=u.next();!d.done;d=u.next()){var f=d.value;if(f.test(t))return !0}}catch(g){n={error:g};}finally{try{d&&!d.done&&(i=u.return)&&i.call(u);}finally{if(n)throw n.error}}return !1}function mG(){var t=$P||"";return rT(""),t}function VP(t){function e(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];r.enabled&&(n.length>0&&(n[0]=t+" "+n[0]),r.log.apply(r,xs(n)));}var r=Object.assign(e,{enabled:nT(t),destroy:yG,log:GP.log,namespace:t,extend:gG});return oy.push(r),r}function yG(){var t=oy.indexOf(this);return t>=0?(oy.splice(t,1),!0):!1}function gG(t){var e=VP(this.namespace+":"+t);return e.log=this.log,e}var GP=Object.assign(function(t){return VP(t)},{enable:rT,enabled:nT,disable:mG,log:jP}),ks=GP;var KP=new Set,ay=typeof A!="undefined"&&A.env&&A.env.AZURE_LOG_LEVEL||void 0,iT,oT=ks("azure");oT.log=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];ks.log.apply(ks,xs(t));};var aT=["verbose","info","warning","error"];ay&&(QP(ay)?vG(ay):console.error("AZURE_LOG_LEVEL set to unknown log level '"+ay+"'; logging is not enabled. Acceptable values: "+aT.join(", ")+"."));function vG(t){var e,r;if(t&&!QP(t))throw new Error("Unknown log level '"+t+"'. Acceptable values: "+aT.join(","));iT=t;var n=[];try{for(var i=Os(KP),o=i.next();!o.done;o=i.next()){var a=o.value;ZP(a)&&n.push(a.namespace);}}catch(s){e={error:s};}finally{try{o&&!o.done&&(r=i.return)&&r.call(i);}finally{if(e)throw e.error}}ks.enable(n.join(","));}var WP={verbose:400,info:300,warning:200,error:100};function YP(t){var e=oT.extend(t);return JP(oT,e),{error:sy(e,"error"),warning:sy(e,"warning"),info:sy(e,"info"),verbose:sy(e,"verbose")}}function JP(t,e){e.log=function(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];t.log.apply(t,xs(r));};}function sy(t,e){var r=Object.assign(t.extend(e),{level:e});if(JP(t,r),ZP(r)){var n=ks.disable();ks.enable(n+","+r.namespace);}return KP.add(r),r}function ZP(t){return !!(iT&&WP[t.level]<=WP[iT])}function QP(t){return aT.includes(t)}var eM=YP("identity");function tM(t){return `SUCCESS. Scopes: ${Array.isArray(t)?t.join(", "):t}.`}function hl(t,e){let r="ERROR.";return t!=null&&t.length&&(r+=` Scopes: ${Array.isArray(t)?t.join(", "):t}.`),`${r} Error message: ${typeof e=="string"?e:e.message}.`}function XP(t,e,r=eM){let n=e?`${e.fullTitle} ${t}`:t;function i(u){r.info(`${n} =>`,u);}function o(u){r.warning(`${n} =>`,u);}function a(u){r.verbose(`${n} =>`,u);}function s(u){r.error(`${n} =>`,u);}return {title:t,fullTitle:n,info:i,warning:o,verbose:a,error:s}}function cy(t,e=eM){let r=XP(t,void 0,e);return Object.assign(Object.assign({},r),{parent:e,getToken:XP("=> getToken()",r,e)})}y();p();h();m();y();p();h();m();var EG="CredentialUnavailableError",ly=class extends Error{constructor(e){super(e),this.name=EG;}};var CG="AggregateAuthenticationError",uy=class extends Error{constructor(e,r){let n=e.join(`
`);super(`${r}
${n}`),this.errors=e,this.name=CG;}};y();p();h();m();y();p();h();m();var rM="4.4.1";var sT;(function(t){t.AzureChina="https://login.chinacloudapi.cn",t.AzureGermany="https://login.microsoftonline.de",t.AzureGovernment="https://login.microsoftonline.us",t.AzurePublicCloud="https://login.microsoftonline.com";})(sT||(sT={}));sT.AzurePublicCloud;var nM=Ah({namespace:"Microsoft.AAD",packageName:"@azure/identity",packageVersion:rM});var cT=cy("ChainedTokenCredential"),dy=class{constructor(...e){this._sources=[],this._sources=e;}getToken(n){return L(this,arguments,function*(e,r={}){let{token:i}=yield this.getTokenInternal(e,r);return i})}getTokenInternal(n){return L(this,arguments,function*(e,r={}){let i=null,o,a=[];return nM.withSpan("ChainedTokenCredential.getToken",r,s=>L(this,null,function*(){for(let u=0;u<this._sources.length&&i===null;u++)try{i=yield this._sources[u].getToken(e,s),o=this._sources[u];}catch(d){if(d.name==="CredentialUnavailableError"||d.name==="AuthenticationRequiredError")a.push(d);else throw cT.getToken.info(hl(e,d)),d}if(!i&&a.length>0){let u=new uy(a,"ChainedTokenCredential authentication failed.");throw cT.getToken.info(hl(e,u)),u}if(cT.getToken.info(`Result for ${o.constructor.name}: ${tM(e)}`),i===null)throw new ly("Failed to retrieve a valid token");return {token:i,successfulCredential:o}}))})}};var fy=new Error("DefaultAzureCredential is not supported in the browser. Use InteractiveBrowserCredential instead."),iM=cy("DefaultAzureCredential"),Zd=class extends dy{constructor(e){throw super(),iM.info(hl("",fy)),fy}getToken(){throw iM.getToken.info(hl("",fy)),fy}};En();var oM=class{createAzureServiceTokenProvider(e){return wt(e==null?void 0:e.trim(),"jwtTokenProviderFactory.createAzureServiceTokenProvider(): missing appId."),new Zd({managedIdentityClientId:e})}};y();p();h();m();En();y();p();h();m();En();var py=class{constructor(e,r,n){wt(e==null?void 0:e.trim(),"ManagedIdentityAuthenticator.constructor(): missing appId."),wt(r==null?void 0:r.trim(),"ManagedIdentityAuthenticator.constructor(): missing resource."),wt(n,"ManagedIdentityAuthenticator.constructor(): missing tokenProviderFactory.");let i="/.default";r.endsWith(i)||(r=`${r}${i}`),this.resource=r,this.tokenProvider=n.createAzureServiceTokenProvider(e);}getToken(){return L(this,null,function*(){return botbuilderStdlib.retry(()=>this.tokenProvider.getToken(this.resource),5,10)})}};var hy=class extends An{constructor(e,r,n){super(e,null,r),wt(e==null?void 0:e.trim(),"ManagedIdentityAppCredentials.constructor(): missing appId."),wt(n,"ManagedIdentityAppCredentials.constructor(): missing tokenProviderFactory."),this.tokenProviderFactory=n,super.appId=e,this.authenticator=new py(this.appId,this.oAuthScope,this.tokenProviderFactory);}refreshToken(){return L(this,null,function*(){let e=yield this.authenticator.getToken();return {accessToken:e.token,expiresOn:new Date(e.expiresOnTimestamp)}})}};y();p();h();m();En();var aM=class extends Vo{constructor(e,r){super(),wt(e==null?void 0:e.trim(),"ManagedIdentityServiceClientCredentialsFactory.constructor(): missing appId."),wt(r,"ManagedIdentityServiceClientCredentialsFactory.constructor(): missing tokenProviderFactory."),this.appId=e,this.tokenProviderFactory=r;}isValidAppId(e){return L(this,null,function*(){return e===this.appId})}isAuthenticationDisabled(){return L(this,null,function*(){return !1})}createCredentials(e,r){return L(this,null,function*(){return wt(yield this.isValidAppId(e),"ManagedIdentityServiceClientCredentialsFactory.createCredentials(): Invalid Managed ID."),new hy(this.appId,r,this.tokenProviderFactory)})}};y();p();h();m();var my=class my extends An{constructor(r,n,i,o){super(r,i,o);this.appPassword=n;}getToken(r=!1){return L(this,null,function*(){return (this.credentials)!=null||(this.credentials=new Wr(this.appId,this.appPassword,this.oAuthEndpoint,this.oAuthScope)),this.credentials.getToken(r)})}refreshToken(){throw new Error("Method not implemented.")}};my.Empty=new my(null,null);var Go=my;y();p();h();m();var yy=class extends Go{constructor(r,n,i,o){super(r,n,i,o);this.appPassword=n;}GetToChannelFromBotOAuthScope(){return exports.GovernmentConstants.ToChannelFromBotOAuthScope}GetToChannelFromBotLoginUrlPrefix(){return exports.GovernmentConstants.ToChannelFromBotLoginUrlPrefix}GetDefaultChannelAuthTenant(){return exports.GovernmentConstants.DefaultChannelAuthTenant}};y();p();h();m();var sM=class{toJSON(){return {name:this.constructor.name,appId:this.appId}}constructor(e,r,n){this.appId=e,this.password=r,this.tenantId=n!=null?n:null;}isValidAppId(e=""){return L(this,null,function*(){return e===this.appId})}isAuthenticationDisabled(){return L(this,null,function*(){return botbuilderStdlib.stringExt.isNilOrEmpty(this.appId)})}createCredentials(e,r,n,i){return L(this,null,function*(){if(yield this.isAuthenticationDisabled())return Go.Empty;if(!(yield this.isValidAppId(e)))throw new Error("Invalid appId.");let o,a=n==null?void 0:n.toLowerCase();return a!=null&&a.startsWith(exports.AuthenticationConstants.ToChannelFromBotLoginUrlPrefix)?o=new Go(e,this.password,this.tenantId,r):a!=null&&a.startsWith(exports.GovernmentConstants.ToChannelFromBotLoginUrlPrefix)?o=new yy(e,this.password,this.tenantId,r):o=new lT(e,this.password,this.tenantId,r,a,i),o})}},lT=class extends Go{constructor(e,r,n,i,o,a){super(e,r,n,i),this.oAuthEndpoint=o,this._validateAuthority=a;}get validateAuthority(){return this._validateAuthority}get oAuthEndpoint(){return this.__oAuthEndpoint}set oAuthEndpoint(e){this.__oAuthEndpoint=e;}};y();p();h();m();var uT=class{constructor(e,r){this.clientApplication=r;this.appId=e;}isValidAppId(e){return L(this,null,function*(){return e===this.appId})}isAuthenticationDisabled(){return L(this,null,function*(){return !this.appId})}createCredentials(e,r,n,i){return L(this,null,function*(){if(yield this.isAuthenticationDisabled())return Wr.Empty;if(!(yield this.isValidAppId(e)))throw new Error("Invalid appId.");let o=n.toLowerCase();return o.startsWith(exports.AuthenticationConstants.ToChannelFromBotLoginUrlPrefix)?new Wr(this.clientApplication,e,void 0,r||exports.AuthenticationConstants.ToBotFromChannelTokenIssuer):o.startsWith(exports.GovernmentConstants.ToChannelFromBotLoginUrlPrefix)?new Wr(this.clientApplication,e,void 0,r||exports.GovernmentConstants.ToChannelFromBotOAuthScope):new Wr(this.clientApplication,e,n,r)})}};y();p();h();m();y();p();h();m();var wG={};y();p();h();m();var uM={};Ut(uM,{Activity:()=>vT,AppBasedLinkQuery:()=>vW,Attachment:()=>vy,BatchOperationRequest:()=>Wo,BatchOperationResponse:()=>Ko,CacheInfo:()=>sW,CardAction:()=>NG,CardImage:()=>OG,ChannelAccount:()=>cM,ChannelInfo:()=>dT,ConversationList:()=>Qd,FileConsentCard:()=>uW,FileConsentCardResponse:()=>hW,FileDownloadInfo:()=>dW,FileInfoCard:()=>fW,FileUploadInfo:()=>pW,GetTeamsFailedEntriesResponse:()=>af,GetTeamsOperationStateResponse:()=>of,Meeting:()=>pT,MeetingNotification:()=>rf,MeetingNotificationChannelData:()=>mT,MeetingNotificationRecipientFailureInfo:()=>gT,MeetingNotificationResponse:()=>ml,MessageActionsPayload:()=>rW,MessageActionsPayloadApp:()=>JG,MessageActionsPayloadAttachment:()=>XG,MessageActionsPayloadBody:()=>QG,MessageActionsPayloadConversation:()=>ET,MessageActionsPayloadFrom:()=>ZG,MessageActionsPayloadMention:()=>eW,MessageActionsPayloadReaction:()=>tW,MessageActionsPayloadUser:()=>YG,MessagingExtensionAction:()=>nW,MessagingExtensionActionResponse:()=>cW,MessagingExtensionAttachment:()=>iW,MessagingExtensionParameter:()=>WG,MessagingExtensionQuery:()=>KG,MessagingExtensionQueryOptions:()=>GG,MessagingExtensionResponse:()=>lW,MessagingExtensionResult:()=>aW,MessagingExtensionSuggestedAction:()=>oW,NotificationInfo:()=>bG,O365ConnectorCard:()=>MG,O365ConnectorCardActionBase:()=>nf,O365ConnectorCardActionCard:()=>FG,O365ConnectorCardActionQuery:()=>$G,O365ConnectorCardDateInput:()=>qG,O365ConnectorCardFact:()=>xG,O365ConnectorCardHttpPOST:()=>LG,O365ConnectorCardImage:()=>kG,O365ConnectorCardInputBase:()=>gy,O365ConnectorCardMultichoiceInput:()=>HG,O365ConnectorCardMultichoiceInputChoice:()=>jG,O365ConnectorCardOpenUri:()=>DG,O365ConnectorCardOpenUriTarget:()=>BG,O365ConnectorCardSection:()=>PG,O365ConnectorCardTextInput:()=>zG,O365ConnectorCardViewAction:()=>UG,OnBehalfOf:()=>yT,SigninStateVerificationQuery:()=>VG,TaskModuleContinueResponse:()=>TT,TaskModuleMessageResponse:()=>mW,TaskModuleRequest:()=>lM,TaskModuleRequestContext:()=>gW,TaskModuleResponse:()=>yW,TaskModuleResponseBase:()=>CT,TaskModuleTaskInfo:()=>ST,TeamDetails:()=>Xd,TeamInfo:()=>AG,TeamsChannelAccount:()=>fT,TeamsChannelData:()=>_G,TeamsChannelDataSettings:()=>IG,TeamsMeetingDetails:()=>hT,TeamsMeetingInfo:()=>tf,TeamsMeetingParticipant:()=>ef,TeamsMember:()=>wT,TenantInfo:()=>RG});y();p();h();m();var dT={serializedName:"ChannelInfo",type:{name:"Composite",className:"ChannelInfo",modelProperties:{id:{serializedName:"id",type:{name:"String"}},name:{serializedName:"name",type:{name:"String"}},type:{serializedName:"type",type:{name:"String"}}}}},Qd={serializedName:"ConversationList",type:{name:"Composite",className:"ConversationList",modelProperties:{conversations:{serializedName:"conversations",type:{name:"Sequence",element:{type:{name:"Composite",className:"ChannelInfo"}}}}}}},Xd={serializedName:"TeamDetails",type:{name:"Composite",className:"TeamDetails",modelProperties:{id:{serializedName:"id",type:{name:"String"}},name:{serializedName:"name",type:{name:"String"}},aadGroupId:{serializedName:"aadGroupId",type:{name:"String"}},type:{serializedName:"type",type:{name:"String"}}}}},AG={serializedName:"TeamInfo",type:{name:"Composite",className:"TeamInfo",modelProperties:{id:{serializedName:"id",type:{name:"String"}},name:{serializedName:"name",type:{name:"String"}},aadGroupId:{serializedName:"aadGroupId",type:{name:"String"}}}}},bG={serializedName:"NotificationInfo",type:{name:"Composite",className:"NotificationInfo",modelProperties:{alert:{serializedName:"alert",type:{name:"Boolean"}},alertInMeeting:{serializedName:"alertInMeeting",type:{name:"Boolean"}},externalResourceUrl:{serializedName:"externalResourceUrl",type:{name:"String"}}}}},RG={serializedName:"TenantInfo",type:{name:"Composite",className:"TenantInfo",modelProperties:{id:{serializedName:"id",type:{name:"String"}}}}},_G={serializedName:"TeamsChannelData",type:{name:"Composite",className:"TeamsChannelData",modelProperties:{channel:{serializedName:"channel",type:{name:"Composite",className:"ChannelInfo"}},eventType:{serializedName:"eventType",type:{name:"String"}},team:{serializedName:"team",type:{name:"Composite",className:"TeamInfo"}},notification:{serializedName:"notification",type:{name:"Composite",className:"NotificationInfo"}},tenant:{serializedName:"tenant",type:{name:"Composite",className:"TenantInfo"}},settings:{serializedName:"settings",type:{name:"Composite",className:"TeamsChannelDataSettings"}}}}},IG={serializedName:"TeamsChannelDataSettings",type:{name:"Composite",className:"TeamsChannelDataSettings",modelProperties:{selectedChannel:{serializedName:"selectedChannel",type:{name:"Composite",className:"ChannelInfo"}}}}},cM={serializedName:"ChannelAccount",type:{name:"Composite",className:"ChannelAccount",modelProperties:{id:{serializedName:"id",type:{name:"String"}},name:{serializedName:"name",type:{name:"String"}}}}},fT={serializedName:"TeamsChannelAccount",type:{name:"Composite",className:"TeamsChannelAccount",modelProperties:ae(q({},cM.type.modelProperties),{givenName:{serializedName:"givenName",type:{name:"String"}},surname:{serializedName:"surname",type:{name:"String"}},email:{serializedName:"email",type:{name:"String"}},userPrincipalName:{serializedName:"userPrincipalName",type:{name:"String"}},tenantId:{serializedName:"tenantId",type:{name:"String"}},userRole:{serializedName:"userRole",type:{name:"String"}}})}},pT={serializedName:"meeting",type:{name:"Composite",className:"Meeting",modelProperties:{role:{serializedName:"role",type:{name:"String"}},inMeeting:{serializedName:"inMeeting",type:{name:"Boolean"}}}}},ef={serializedName:"TeamsMeetingParticipant",type:{name:"Composite",className:"TeamsMeetingParticipant",modelProperties:{user:{serializedName:"user",type:{name:"Composite",className:"TeamsChannelAccount"}},meeting:{serializedName:"meeting",type:{name:"Composite",className:"Meeting"}},conversation:{serializedName:"conversation",type:{name:"Composite",className:"MessageActionsPayloadConversation"}}}}},tf={serializedName:"TeamsMeetingInfo",type:{name:"Composite",className:"TeamsMeetingInfo",modelProperties:{details:{serializedName:"details",type:{name:"Composite",className:"TeamsMeetingDetails"}},conversation:{serializedName:"conversation",type:{name:"Composite",className:"MessageActionsPayloadConversation"}},organizer:{serializedName:"organizer",type:{name:"Composite",className:"TeamsChannelAccount"}}}}},hT={serializedName:"TeamsMeetingDetails",type:{name:"Composite",className:"TeamsMeetingDetails",modelProperties:{id:{serializedName:"id",type:{name:"String"}},msGraphResourceId:{serializedName:"msGraphResourceId",type:{name:"String"}},scheduledStartTime:{serializedName:"scheduledStartTime",type:{name:"DateTime"}},scheduledEndTime:{serializedName:"scheduledEndTime",type:{name:"DateTime"}},joinUrl:{serializedName:"joinUrl",type:{name:"String"}},title:{serializedName:"title",type:{name:"String"}},type:{serializedName:"type",type:{name:"String"}}}}},rf={serializedName:"MeetingNotification",type:{name:"Composite",className:"MeetingNotification",modelProperties:{type:{serializedName:"type",type:{name:"String"}},value:{serializedName:"value",type:{name:"any"}},channelData:{serializedName:"channelData",type:{name:"Composite",className:"MeetingNotificationChannelData"}}}}},mT={serializedName:"MeetingNotificationChannelData",type:{name:"Composite",className:"MeetingNotificationChannelData",modelProperties:{onBehalfOf:{serializedName:"onBehalfOf",type:{name:"Sequence",element:{type:{name:"Composite",className:"OnBehalfOf"}}}}}}},yT={serializedName:"OnBehalfOf",type:{name:"Composite",className:"OnBehalfOf",modelProperties:{itemid:{serializedName:"itemid",type:{name:"Number"}},mentionType:{serializedName:"mentionType",type:{name:"String"}},mri:{serializedName:"mri",type:{name:"String"}},displayName:{serializedName:"displayName",type:{name:"String"}}}}},gT={serializedName:"MeetingNotificationRecipientFailureInfo",type:{name:"Composite",className:"MeetingNotificationRecipientFailureInfo",modelProperties:{recipientMri:{serializedName:"recipientMri",type:{name:"String"}},failureReason:{serializedName:"failureReason",type:{name:"String"}},errorCode:{serializedName:"errorCode",type:{name:"String"}}}}},ml={serializedName:"MeetingNotificationResponse",type:{name:"Composite",className:"MeetingNotificationResponse",modelProperties:{recipientsFailureInfo:{serializedName:"recipientsFailureInfo",type:{name:"Sequence",element:{type:{name:"Composite",className:"MeetingNotificationRecipientFailureInfo"}}}}}}},NG={serializedName:"CardAction",type:{name:"Composite",className:"CardAction",modelProperties:{type:{serializedName:"type",type:{name:"String"}},title:{serializedName:"title",type:{name:"String"}},image:{serializedName:"image",type:{name:"String"}},value:{serializedName:"value",type:{name:"Object"}}}}},OG={serializedName:"CardImage",type:{name:"Composite",className:"CardImage",modelProperties:{url:{serializedName:"url",type:{name:"String"}},alt:{serializedName:"alt",type:{name:"String"}},tap:{serializedName:"tap",type:{name:"Composite",className:"CardAction"}}}}},xG={serializedName:"O365ConnectorCardFact",type:{name:"Composite",className:"O365ConnectorCardFact",modelProperties:{name:{serializedName:"name",type:{name:"String"}},value:{serializedName:"value",type:{name:"String"}}}}},kG={serializedName:"O365ConnectorCardImage",type:{name:"Composite",className:"O365ConnectorCardImage",modelProperties:{image:{serializedName:"image",type:{name:"String"}},title:{serializedName:"title",type:{name:"String"}}}}},nf={serializedName:"O365ConnectorCardActionBase",type:{name:"Composite",className:"O365ConnectorCardActionBase",modelProperties:{type:{serializedName:"@type",type:{name:"String"}},name:{serializedName:"name",type:{name:"String"}},id:{serializedName:"@id",type:{name:"String"}}}}},PG={serializedName:"O365ConnectorCardSection",type:{name:"Composite",className:"O365ConnectorCardSection",modelProperties:{title:{serializedName:"title",type:{name:"String"}},text:{serializedName:"text",type:{name:"String"}},activityTitle:{serializedName:"activityTitle",type:{name:"String"}},activitySubtitle:{serializedName:"activitySubtitle",type:{name:"String"}},activityText:{serializedName:"activityText",type:{name:"String"}},activityImage:{serializedName:"activityImage",type:{name:"String"}},activityImageType:{serializedName:"activityImageType",type:{name:"String"}},markdown:{serializedName:"markdown",type:{name:"Boolean"}},facts:{serializedName:"facts",type:{name:"Sequence",element:{type:{name:"Composite",className:"O365ConnectorCardFact"}}}},images:{serializedName:"images",type:{name:"Sequence",element:{type:{name:"Composite",className:"O365ConnectorCardImage"}}}},potentialAction:{serializedName:"potentialAction",type:{name:"Sequence",element:{type:{name:"Composite",className:"O365ConnectorCardActionBase"}}}}}}},MG={serializedName:"O365ConnectorCard",type:{name:"Composite",className:"O365ConnectorCard",modelProperties:{title:{serializedName:"title",type:{name:"String"}},text:{serializedName:"text",type:{name:"String"}},summary:{serializedName:"summary",type:{name:"String"}},themeColor:{serializedName:"themeColor",type:{name:"String"}},sections:{serializedName:"sections",type:{name:"Sequence",element:{type:{name:"Composite",className:"O365ConnectorCardSection"}}}},potentialAction:{serializedName:"potentialAction",type:{name:"Sequence",element:{type:{name:"Composite",className:"O365ConnectorCardActionBase"}}}}}}},UG={serializedName:"O365ConnectorCardViewAction",type:{name:"Composite",className:"O365ConnectorCardViewAction",modelProperties:ae(q({},nf.type.modelProperties),{target:{serializedName:"target",type:{name:"Sequence",element:{type:{name:"String"}}}}})}},BG={serializedName:"O365ConnectorCardOpenUriTarget",type:{name:"Composite",className:"O365ConnectorCardOpenUriTarget",modelProperties:{os:{serializedName:"os",type:{name:"String"}},uri:{serializedName:"uri",type:{name:"String"}}}}},DG={serializedName:"O365ConnectorCardOpenUri",type:{name:"Composite",className:"O365ConnectorCardOpenUri",modelProperties:ae(q({},nf.type.modelProperties),{targets:{serializedName:"targets",type:{name:"Sequence",element:{type:{name:"Composite",className:"O365ConnectorCardOpenUriTarget"}}}}})}},LG={serializedName:"O365ConnectorCardHttpPOST",type:{name:"Composite",className:"O365ConnectorCardHttpPOST",modelProperties:ae(q({},nf.type.modelProperties),{body:{serializedName:"body",type:{name:"String"}}})}},gy={serializedName:"O365ConnectorCardInputBase",type:{name:"Composite",className:"O365ConnectorCardInputBase",modelProperties:{type:{serializedName:"@type",type:{name:"String"}},id:{serializedName:"id",type:{name:"String"}},isRequired:{serializedName:"isRequired",type:{name:"Boolean"}},title:{serializedName:"title",type:{name:"String"}},value:{serializedName:"value",type:{name:"String"}}}}},FG={serializedName:"O365ConnectorCardActionCard",type:{name:"Composite",className:"O365ConnectorCardActionCard",modelProperties:ae(q({},nf.type.modelProperties),{inputs:{serializedName:"inputs",type:{name:"Sequence",element:{type:{name:"Composite",className:"O365ConnectorCardInputBase"}}}},actions:{serializedName:"actions",type:{name:"Sequence",element:{type:{name:"Composite",className:"O365ConnectorCardActionBase"}}}}})}},zG={serializedName:"O365ConnectorCardTextInput",type:{name:"Composite",className:"O365ConnectorCardTextInput",modelProperties:ae(q({},gy.type.modelProperties),{isMultiline:{serializedName:"isMultiline",type:{name:"Boolean"}},maxLength:{serializedName:"maxLength",type:{name:"Number"}}})}},qG={serializedName:"O365ConnectorCardDateInput",type:{name:"Composite",className:"O365ConnectorCardDateInput",modelProperties:ae(q({},gy.type.modelProperties),{includeTime:{serializedName:"includeTime",type:{name:"Boolean"}}})}},jG={serializedName:"O365ConnectorCardMultichoiceInputChoice",type:{name:"Composite",className:"O365ConnectorCardMultichoiceInputChoice",modelProperties:{display:{serializedName:"display",type:{name:"String"}},value:{serializedName:"value",type:{name:"String"}}}}},HG={serializedName:"O365ConnectorCardMultichoiceInput",type:{name:"Composite",className:"O365ConnectorCardMultichoiceInput",modelProperties:ae(q({},gy.type.modelProperties),{choices:{serializedName:"choices",type:{name:"Sequence",element:{type:{name:"Composite",className:"O365ConnectorCardMultichoiceInputChoice"}}}},style:{serializedName:"style",type:{name:"String"}},isMultiSelect:{serializedName:"isMultiSelect",type:{name:"Boolean"}}})}},$G={serializedName:"O365ConnectorCardActionQuery",type:{name:"Composite",className:"O365ConnectorCardActionQuery",modelProperties:{body:{serializedName:"body",type:{name:"String"}},actionId:{serializedName:"actionId",type:{name:"String"}}}}},VG={serializedName:"SigninStateVerificationQuery",type:{name:"Composite",className:"SigninStateVerificationQuery",modelProperties:{state:{serializedName:"state",type:{name:"String"}}}}},GG={serializedName:"MessagingExtensionQueryOptions",type:{name:"Composite",className:"MessagingExtensionQueryOptions",modelProperties:{skip:{serializedName:"skip",type:{name:"Number"}},count:{serializedName:"count",type:{name:"Number"}}}}},WG={serializedName:"MessagingExtensionParameter",type:{name:"Composite",className:"MessagingExtensionParameter",modelProperties:{name:{serializedName:"name",type:{name:"String"}},value:{serializedName:"value",type:{name:"Object"}}}}},KG={serializedName:"MessagingExtensionQuery",type:{name:"Composite",className:"MessagingExtensionQuery",modelProperties:{commandId:{serializedName:"commandId",type:{name:"String"}},parameters:{serializedName:"parameters",type:{name:"Sequence",element:{type:{name:"Composite",className:"MessagingExtensionParameter"}}}},queryOptions:{serializedName:"queryOptions",type:{name:"Composite",className:"MessagingExtensionQueryOptions"}},state:{serializedName:"state",type:{name:"String"}}}}},vT={serializedName:"Activity",type:{name:"Composite",className:"Activity",modelProperties:{dummyProperty:{serializedName:"dummyProperty",type:{name:"String"}},text:{serializedName:"text",type:{name:"String"}}}}},YG={serializedName:"MessageActionsPayloadUser",type:{name:"Composite",className:"MessageActionsPayloadUser",modelProperties:{userIdentityType:{serializedName:"userIdentityType",type:{name:"String"}},id:{serializedName:"id",type:{name:"String"}},displayName:{serializedName:"displayName",type:{name:"String"}}}}},JG={serializedName:"MessageActionsPayloadApp",type:{name:"Composite",className:"MessageActionsPayloadApp",modelProperties:{applicationIdentityType:{serializedName:"applicationIdentityType",type:{name:"String"}},id:{serializedName:"id",type:{name:"String"}},displayName:{serializedName:"displayName",type:{name:"String"}}}}},ET={serializedName:"MessageActionsPayloadConversation",type:{name:"Composite",className:"MessageActionsPayloadConversation",modelProperties:{conversationIdentityType:{serializedName:"conversationIdentityType",type:{name:"String"}},id:{serializedName:"id",type:{name:"String"}},displayName:{serializedName:"displayName",type:{name:"String"}}}}},ZG={serializedName:"MessageActionsPayloadFrom",type:{name:"Composite",className:"MessageActionsPayloadFrom",modelProperties:{user:{serializedName:"user",type:{name:"Composite",className:"MessageActionsPayloadUser"}},application:{serializedName:"application",type:{name:"Composite",className:"MessageActionsPayloadApp"}},conversation:{serializedName:"conversation",type:{name:"Composite",className:"MessageActionsPayloadConversation"}}}}},QG={serializedName:"MessageActionsPayload_body",type:{name:"Composite",className:"MessageActionsPayloadBody",modelProperties:{contentType:{serializedName:"contentType",type:{name:"String"}},content:{serializedName:"content",type:{name:"String"}},textContent:{serializedName:"textContent",type:{name:"String"}}}}},XG={serializedName:"MessageActionsPayloadAttachment",type:{name:"Composite",className:"MessageActionsPayloadAttachment",modelProperties:{id:{serializedName:"id",type:{name:"String"}},contentType:{serializedName:"contentType",type:{name:"String"}},contentUrl:{serializedName:"contentUrl",type:{name:"String"}},content:{serializedName:"content",type:{name:"Object"}},name:{serializedName:"name",type:{name:"String"}},thumbnailUrl:{serializedName:"thumbnailUrl",type:{name:"String"}}}}},eW={serializedName:"MessageActionsPayloadMention",type:{name:"Composite",className:"MessageActionsPayloadMention",modelProperties:{id:{serializedName:"id",type:{name:"Number"}},mentionText:{serializedName:"mentionText",type:{name:"String"}},mentioned:{serializedName:"mentioned",type:{name:"Composite",className:"MessageActionsPayloadFrom"}}}}},tW={serializedName:"MessageActionsPayloadReaction",type:{name:"Composite",className:"MessageActionsPayloadReaction",modelProperties:{reactionType:{serializedName:"reactionType",type:{name:"String"}},createdDateTime:{serializedName:"createdDateTime",type:{name:"String"}},user:{serializedName:"user",type:{name:"Composite",className:"MessageActionsPayloadFrom"}}}}},rW={serializedName:"MessageActionsPayload",type:{name:"Composite",className:"MessageActionsPayload",modelProperties:{id:{serializedName:"id",type:{name:"String"}},replyToId:{serializedName:"replyToId",type:{name:"String"}},messageType:{serializedName:"messageType",type:{name:"String"}},createdDateTime:{serializedName:"createdDateTime",type:{name:"String"}},lastModifiedDateTime:{serializedName:"lastModifiedDateTime",type:{name:"String"}},deleted:{serializedName:"deleted",type:{name:"Boolean"}},subject:{serializedName:"subject",type:{name:"String"}},summary:{serializedName:"summary",type:{name:"String"}},importance:{serializedName:"importance",type:{name:"String"}},locale:{serializedName:"locale",type:{name:"String"}},from:{serializedName:"from",type:{name:"Composite",className:"MessageActionsPayloadFrom"}},body:{serializedName:"body",type:{name:"Composite",className:"MessageActionsPayloadBody"}},attachmentLayout:{serializedName:"attachmentLayout",type:{name:"String"}},attachments:{serializedName:"attachments",type:{name:"Sequence",element:{type:{name:"Composite",className:"MessageActionsPayloadAttachment"}}}},mentions:{serializedName:"mentions",type:{name:"Sequence",element:{type:{name:"Composite",className:"MessageActionsPayloadMention"}}}},reactions:{serializedName:"reactions",type:{name:"Sequence",element:{type:{name:"Composite",className:"MessageActionsPayloadReaction"}}}},linkToMessage:{serializedName:"linkToMessage",type:{name:"String"}}}}},lM={serializedName:"TaskModuleRequest",type:{name:"Composite",className:"TaskModuleRequest",modelProperties:{data:{serializedName:"data",type:{name:"Object"}},context:{serializedName:"context",type:{name:"Composite",className:"TaskModuleRequestContext"}}}}},nW={serializedName:"MessagingExtensionAction",type:{name:"Composite",className:"MessagingExtensionAction",modelProperties:ae(q({},lM.type.modelProperties),{commandId:{serializedName:"commandId",type:{name:"String"}},commandContext:{serializedName:"commandContext",type:{name:"String"}},botMessagePreviewAction:{serializedName:"botMessagePreviewAction",type:{name:"String"}},botActivityPreview:{serializedName:"botActivityPreview",type:{name:"Sequence",element:{type:{name:"Composite",className:"Activity"}}}},messagePayload:{serializedName:"messagePayload",type:{name:"Composite",className:"MessageActionsPayload"}}})}},CT={serializedName:"TaskModuleResponseBase",type:{name:"Composite",className:"TaskModuleResponseBase",modelProperties:{type:{serializedName:"type",type:{name:"String"}}}}},vy={serializedName:"Attachment",type:{name:"Composite",className:"Attachment",modelProperties:{contentType:{serializedName:"contentType",type:{name:"String"}},contentUrl:{serializedName:"contentUrl",type:{name:"String"}},content:{serializedName:"content",type:{name:"Object"}},name:{serializedName:"name",type:{name:"String"}},thumbnailUrl:{serializedName:"thumbnailUrl",type:{name:"String"}}}}},iW={serializedName:"MessagingExtensionAttachment",type:{name:"Composite",className:"MessagingExtensionAttachment",modelProperties:ae(q({},vy.type.modelProperties),{preview:{serializedName:"preview",type:{name:"Composite",className:"Attachment"}}})}},oW={serializedName:"MessagingExtensionSuggestedAction",type:{name:"Composite",className:"MessagingExtensionSuggestedAction",modelProperties:{actions:{serializedName:"actions",type:{name:"Sequence",element:{type:{name:"Composite",className:"CardAction"}}}}}}},aW={serializedName:"MessagingExtensionResult",type:{name:"Composite",className:"MessagingExtensionResult",modelProperties:{attachmentLayout:{serializedName:"attachmentLayout",type:{name:"String"}},type:{serializedName:"type",type:{name:"String"}},attachments:{serializedName:"attachments",type:{name:"Sequence",element:{type:{name:"Composite",className:"MessagingExtensionAttachment"}}}},suggestedActions:{serializedName:"suggestedActions",type:{name:"Composite",className:"MessagingExtensionSuggestedAction"}},text:{serializedName:"text",type:{name:"String"}},activityPreview:{serializedName:"activityPreview",type:{name:"Composite",className:"Activity"}}}}},sW={serializedName:"cacheInfo",type:{name:"Composite",className:"cacheInfo",modelProperties:{cacheType:{serializedName:"cacheType",type:{name:"String"}},cacheDuration:{serializedName:"cacheDuration",type:{name:"Number"}}}}},cW={serializedName:"MessagingExtensionActionResponse",type:{name:"Composite",className:"MessagingExtensionActionResponse",modelProperties:{task:{serializedName:"task",type:{name:"Composite",className:"TaskModuleResponseBase"}},composeExtension:{serializedName:"composeExtension",type:{name:"Composite",className:"MessagingExtensionResult"}},cacheInfo:{serializedName:"cacheInfo",type:{name:"Composite",className:"cacheInfo"}}}}},lW={serializedName:"MessagingExtensionResponse",type:{name:"Composite",className:"MessagingExtensionResponse",modelProperties:{composeExtension:{serializedName:"composeExtension",type:{name:"Composite",className:"MessagingExtensionResult"}},cacheInfo:{serializedName:"cacheInfo",type:{name:"Composite",className:"cacheInfo"}}}}},uW={serializedName:"FileConsentCard",type:{name:"Composite",className:"FileConsentCard",modelProperties:{description:{serializedName:"description",type:{name:"String"}},sizeInBytes:{serializedName:"sizeInBytes",type:{name:"Number"}},acceptContext:{serializedName:"acceptContext",type:{name:"Object"}},declineContext:{serializedName:"declineContext",type:{name:"Object"}}}}},dW={serializedName:"FileDownloadInfo",type:{name:"Composite",className:"FileDownloadInfo",modelProperties:{downloadUrl:{serializedName:"downloadUrl",type:{name:"String"}},uniqueId:{serializedName:"uniqueId",type:{name:"String"}},fileType:{serializedName:"fileType",type:{name:"String"}},etag:{serializedName:"etag",type:{name:"Object"}}}}},fW={serializedName:"FileInfoCard",type:{name:"Composite",className:"FileInfoCard",modelProperties:{uniqueId:{serializedName:"uniqueId",type:{name:"String"}},fileType:{serializedName:"fileType",type:{name:"String"}},etag:{serializedName:"etag",type:{name:"Object"}}}}},pW={serializedName:"FileUploadInfo",type:{name:"Composite",className:"FileUploadInfo",modelProperties:{name:{serializedName:"name",type:{name:"String"}},uploadUrl:{serializedName:"uploadUrl",type:{name:"String"}},contentUrl:{serializedName:"contentUrl",type:{name:"String"}},uniqueId:{serializedName:"uniqueId",type:{name:"String"}},fileType:{serializedName:"fileType",type:{name:"String"}}}}},hW={serializedName:"FileConsentCardResponse",type:{name:"Composite",className:"FileConsentCardResponse",modelProperties:{action:{serializedName:"action",type:{name:"String"}},context:{serializedName:"context",type:{name:"Object"}},uploadInfo:{serializedName:"uploadInfo",type:{name:"Composite",className:"FileUploadInfo"}}}}},ST={serializedName:"TaskModuleTaskInfo",type:{name:"Composite",className:"TaskModuleTaskInfo",modelProperties:{title:{serializedName:"title",type:{name:"String"}},height:{serializedName:"height",type:{name:"Object"}},width:{serializedName:"width",type:{name:"Object"}},url:{serializedName:"url",type:{name:"String"}},card:{serializedName:"card",type:{name:"Composite",className:"Attachment"}},fallbackUrl:{serializedName:"fallbackUrl",type:{name:"String"}},completionBotId:{serializedName:"completionBotId",type:{name:"String"}}}}},TT={serializedName:"TaskModuleContinueResponse",type:{name:"Composite",className:"TaskModuleContinueResponse",modelProperties:ae(q({},CT.type.modelProperties),{value:{serializedName:"value",type:{name:"Composite",className:"TaskModuleTaskInfo"}}})}},mW={serializedName:"TaskModuleMessageResponse",type:{name:"Composite",className:"TaskModuleMessageResponse",modelProperties:ae(q({},CT.type.modelProperties),{value:{serializedName:"value",type:{name:"String"}}})}},yW={serializedName:"TaskModuleResponse",type:{name:"Composite",className:"TaskModuleResponse",modelProperties:{task:{serializedName:"task",type:{name:"Composite",className:"TaskModuleResponseBase"}},cacheInfo:{serializedName:"cacheInfo",type:{name:"Composite",className:"cacheInfo"}}}}},gW={serializedName:"TaskModuleRequest_context",type:{name:"Composite",className:"TaskModuleRequestContext",modelProperties:{theme:{serializedName:"theme",type:{name:"String"}}}}},vW={serializedName:"AppBasedLinkQuery",type:{name:"Composite",className:"AppBasedLinkQuery",modelProperties:{url:{serializedName:"url",type:{name:"String"}},state:{serializedName:"state",type:{name:"String"}}}}},Wo={serializedName:"BatchOperationRequest",type:{name:"Composite",className:"BatchOperationRequest",modelProperties:{activity:{serializedName:"activity",type:{name:"Composite",className:"Activity",modelProperties:{text:{serializedName:"text",type:{name:"String"}},type:{serializedName:"type",type:{name:"String"}}}}},tenantId:{serializedName:"tenantId",type:{name:"String"}},teamId:{serializedName:"teamId",type:{name:"String"}},members:{serializedName:"members",type:{name:"Sequence",element:{type:{name:"Composite",className:"TeamsMember",modelProperties:{id:{serializedName:"id",type:{name:"String"}}}}}}}}}},Ko={serializedName:"BatchOperationResponse",type:{name:"Composite",className:"BatchOperationResponse",modelProperties:{operationId:{serializedName:"operationId",type:{name:"String"}}}}},of={serializedName:"GetTeamsOperationStateResponse",type:{name:"Composite",className:"GetTeamsOperationStateResponse",modelProperties:{state:{serializedName:"state",type:{name:"String"}},stateMap:{serializedName:"stateMap",type:{name:"Dictionary",value:{type:{name:"Number"}}}},retryAfter:{serializedName:"retryAfter",type:{name:"DateTime"}},totalEntriesCount:{serializedName:"totalEntriesCount",type:{name:"Number"}}}}},af={serializedName:"BatchFailedEntriesResponse",type:{name:"Composite",className:"BatchFailedEntriesResponse",modelProperties:{continuationToken:{serializedName:"continuationToken",type:{name:"String"}},failedEntryResponses:{serializedName:"failedEntryResponses",type:{name:"Sequence",element:{type:{name:"Composite",className:"BatchFailedEntry",modelProperties:{id:{serializedName:"Id",type:{name:"String"}},error:{serializedName:"error",type:{name:"String"}}}}}}}}}},wT={serializedName:"TeamsMember",type:{name:"Composite",className:"TeamsMember",modelProperties:{id:{serializedName:"id",type:{name:"String"}}}}};y();p();h();m();y();p();h();m();var AT={};Ut(AT,{Activity:()=>vT,Attachment:()=>vy,BatchOperationRequest:()=>Wo,BatchOperationResponse:()=>Ko,ChannelInfo:()=>dT,ConversationList:()=>Qd,ErrorModel:()=>gc,ErrorResponse:()=>Tt,GetTeamsFailedEntriesResponse:()=>af,GetTeamsOperationStateResponse:()=>of,InnerHttpError:()=>yc,Meeting:()=>pT,MeetingNotification:()=>rf,MeetingNotificationChannelData:()=>mT,MeetingNotificationRecipientFailureInfo:()=>gT,MeetingNotificationResponse:()=>ml,MessageActionsPayloadConversation:()=>ET,OnBehalfOf:()=>yT,TaskModuleContinueResponse:()=>TT,TaskModuleTaskInfo:()=>ST,TeamDetails:()=>Xd,TeamsChannelAccount:()=>fT,TeamsMeetingDetails:()=>hT,TeamsMeetingInfo:()=>tf,TeamsMeetingParticipant:()=>ef,TeamsMember:()=>wT});y();p();h();m();y();p();h();m();var bT={parameterPath:"teamId",mapper:{required:!0,serializedName:"teamId",type:{name:"String"}}},Ey={parameterPath:"meetingId",mapper:{required:!0,serializedName:"meetingId",type:{name:"String"}}},dM={parameterPath:"participantId",mapper:{required:!0,serializedName:"participantId",type:{name:"String"}}},fM={parameterPath:["options","tenantId"],mapper:{serializedName:"tenantId",type:{name:"String"}}},Cy={parameterPath:"operationId",mapper:{serializedName:"operationId",type:{name:"String"}}};var Sy=class{constructor(e){this.retryCount=10;this.client=e;}fetchChannelList(e,r,n){return this.client.sendOperationRequest({teamId:e,options:r},SW,n)}fetchTeamDetails(e,r,n){return this.client.sendOperationRequest({teamId:e,options:r},TW,n)}fetchMeetingParticipant(e,r,n,i){return this.client.sendOperationRequest({meetingId:e,participantId:r,options:n},wW,i)}fetchMeetingInfo(e,r,n){return this.client.sendOperationRequest({meetingId:e,options:r},AW,n)}sendMeetingNotification(e,r,n,i){return this.client.sendOperationRequest({meetingId:e,notification:r,options:n},bW,i)}sendMessageToListOfUsers(e,r,n,i,o){let a={activity:e,members:n,tenantId:r};return Yo(()=>this.client.sendOperationRequest({content:a,options:i},RW,o),this.retryCount)}sendMessageToAllUsersInTenant(e,r,n,i){let o={activity:e,tenantId:r};return Yo(()=>this.client.sendOperationRequest({content:o,options:n},_W,i),this.retryCount)}sendMessageToAllUsersInTeam(e,r,n,i,o){let a={activity:e,tenantId:r,teamId:n};return Yo(()=>this.client.sendOperationRequest({content:a,options:i},IW,o),this.retryCount)}sendMessageToListOfChannels(e,r,n,i,o){let a={activity:e,tenantId:r,members:n};return Yo(()=>this.client.sendOperationRequest({content:a,options:i},NW,o),this.retryCount)}getOperationState(e,r,n){return Yo(()=>this.client.sendOperationRequest({operationId:e,options:r},OW,n),this.retryCount)}getOperationFailedEntries(e,r,n){return Yo(()=>this.client.sendOperationRequest({operationId:e,options:r},xW,n),this.retryCount)}cancelOperation(e,r){return Yo(()=>this.client.sendOperationRequest({operationId:e,options:r},kW),this.retryCount)}},Pn=azureCoreHttpCompat.createSerializer(AT),SW={httpMethod:"GET",path:"v3/teams/{teamId}/conversations",urlParameters:[bT],responses:{200:{bodyMapper:Qd},default:{}},serializer:Pn},TW={httpMethod:"GET",path:"v3/teams/{teamId}",urlParameters:[bT],responses:{200:{bodyMapper:Xd},default:{}},serializer:Pn},wW={httpMethod:"GET",path:"v1/meetings/{meetingId}/participants/{participantId}",urlParameters:[Ey,dM],queryParameters:[fM],responses:{200:{bodyMapper:ef},default:{}},serializer:Pn},AW={httpMethod:"GET",path:"v1/meetings/{meetingId}",urlParameters:[Ey],responses:{200:{bodyMapper:tf},default:{}},serializer:Pn},bW={httpMethod:"POST",path:"v1/meetings/{meetingId}/notification",urlParameters:[Ey],requestBody:{parameterPath:"notification",mapper:ae(q({},rf),{required:!0})},responses:{202:{bodyMapper:ml},207:{bodyMapper:ml},default:{bodyMapper:Tt}},serializer:Pn},RW={httpMethod:"POST",path:"v3/batch/conversation/users",requestBody:{parameterPath:"content",mapper:ae(q({},Wo),{required:!0})},responses:{201:{bodyMapper:Ko},default:{bodyMapper:Tt}},serializer:Pn},_W={httpMethod:"POST",path:"v3/batch/conversation/tenant",requestBody:{parameterPath:"content",mapper:ae(q({},Wo),{required:!0})},responses:{201:{bodyMapper:Ko},default:{bodyMapper:Tt}},serializer:Pn},IW={httpMethod:"POST",path:"v3/batch/conversation/team",requestBody:{parameterPath:"content",mapper:ae(q({},Wo),{required:!0})},responses:{201:{bodyMapper:Ko},default:{bodyMapper:Tt}},serializer:Pn},NW={httpMethod:"POST",path:"v3/batch/conversation/channels",requestBody:{parameterPath:"content",mapper:ae(q({},Wo),{required:!0})},responses:{201:{bodyMapper:Ko},default:{bodyMapper:Tt}},serializer:Pn},OW={httpMethod:"GET",path:"v3/batch/conversation/{operationId}",urlParameters:[Cy],responses:{200:{bodyMapper:of},default:{bodyMapper:Tt}},serializer:Pn},xW={httpMethod:"GET",path:"v3/batch/conversation/failedentries/{operationId}",urlParameters:[Cy],responses:{200:{bodyMapper:af},default:{bodyMapper:Tt}},serializer:Pn},kW={httpMethod:"DELETE",path:"v3/batch/conversation/{operationId}",urlParameters:[Cy],responses:{200:{},default:{bodyMapper:Tt}},serializer:Pn};y();p();h();m();var Ty=class extends azureCoreHttpCompat.ServiceClientContext{constructor(e,r){super(e,ae(q({},r),{baseUri:(r==null?void 0:r.baseUri)||"https://api.botframework.com"}));}};var pM=class extends Ty{constructor(e,r){super(e,r),this.teams=new Sy(this);}};y();p();h();m();var hM=class t{constructor(e){this.lastReadMessageId=e;}static isMessageRead(e,r){if(e&&e.trim().length>0&&r&&r.trim().length>0){let n=Number(e),i=Number(r);if(n&&i)return n<=i}return !1}isMessageRead(e){return t.isMessageRead(e,this.lastReadMessageId)}};y();p();h();m();function Yo(t,e,r=500){return L(this,null,function*(){let n=r,i=1,o,a=[];e=Math.max(e,1);do try{return yield t(i)}catch(s){a.push(s),o=s.statusCode,s.statusCode==429&&(yield new Promise(u=>setTimeout(u,n)),n*=i,i++);}while(i<=e&&o===429);throw {errors:a,message:"Failed to perform the required operation."}})}y();p();h();m();y();p();h();m();y();p();h();m();var gM=Ar(yM());var RT=class{static emulateOAuthCards(e,r,n){return L(this,null,function*(){let i=yield e.getToken(),o=r+(r.endsWith("/")?"":"/")+`api/usertoken/emulateOAuthCards?emulate=${(!!n).toString()}`,a=yield (0, gM.default)(o,{method:"POST",headers:{Authorization:`Bearer ${i}`}});if(a.ok)return !0;throw new Error(`EmulateOAuthCards failed with status code: ${a.status}`)})}};var export_ConnectorClientOptions=zn.ConnectorClientOptions;/*! Bundled license information:

ieee754/index.js:
  (*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> *)

buffer/index.js:
  (*!
   * The buffer module from node.js, for the browser.
   *
   * @author   Feross Aboukhadijeh <https://feross.org>
   * @license  MIT
   *)

safe-buffer/index.js:
  (*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> *)

@jspm/core/nodelibs/browser/assert.js:
  (*!
   * The buffer module from node.js, for the browser.
   *
   * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
   * @license  MIT
   *)

tslib/tslib.es6.js:
  (*! *****************************************************************************
  Copyright (c) Microsoft Corporation.
  
  Permission to use, copy, modify, and/or distribute this software for any
  purpose with or without fee is hereby granted.
  
  THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
  REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
  AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
  INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
  LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
  OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
  PERFORMANCE OF THIS SOFTWARE.
  ***************************************************************************** *)

@azure/msal-node/dist/cache/serializer/Serializer.mjs:
  (*! @azure/msal-node v2.13.1 2024-08-29 *)

@azure/msal-common/dist/utils/Constants.mjs:
  (*! @azure/msal-common v14.14.2 2024-08-28 *)

@azure/msal-common/dist/error/AuthErrorCodes.mjs:
  (*! @azure/msal-common v14.14.2 2024-08-28 *)

@azure/msal-common/dist/error/AuthError.mjs:
  (*! @azure/msal-common v14.14.2 2024-08-28 *)

@azure/msal-common/dist/error/ClientAuthErrorCodes.mjs:
  (*! @azure/msal-common v14.14.2 2024-08-28 *)

@azure/msal-common/dist/error/ClientAuthError.mjs:
  (*! @azure/msal-common v14.14.2 2024-08-28 *)

@azure/msal-common/dist/account/AuthToken.mjs:
  (*! @azure/msal-common v14.14.2 2024-08-28 *)

@azure/msal-common/dist/authority/AuthorityType.mjs:
  (*! @azure/msal-common v14.14.2 2024-08-28 *)

@azure/msal-common/dist/authority/OpenIdConfigResponse.mjs:
  (*! @azure/msal-common v14.14.2 2024-08-28 *)

@azure/msal-common/dist/error/ClientConfigurationErrorCodes.mjs:
  (*! @azure/msal-common v14.14.2 2024-08-28 *)

@azure/msal-common/dist/error/ClientConfigurationError.mjs:
  (*! @azure/msal-common v14.14.2 2024-08-28 *)

@azure/msal-common/dist/utils/StringUtils.mjs:
  (*! @azure/msal-common v14.14.2 2024-08-28 *)

@azure/msal-common/dist/utils/UrlUtils.mjs:
  (*! @azure/msal-common v14.14.2 2024-08-28 *)

@azure/msal-common/dist/url/UrlString.mjs:
  (*! @azure/msal-common v14.14.2 2024-08-28 *)

@azure/msal-common/dist/authority/AuthorityMetadata.mjs:
  (*! @azure/msal-common v14.14.2 2024-08-28 *)

@azure/msal-common/dist/authority/ProtocolMode.mjs:
  (*! @azure/msal-common v14.14.2 2024-08-28 *)

@azure/msal-common/dist/authority/AuthorityOptions.mjs:
  (*! @azure/msal-common v14.14.2 2024-08-28 *)

@azure/msal-common/dist/authority/CloudInstanceDiscoveryResponse.mjs:
  (*! @azure/msal-common v14.14.2 2024-08-28 *)

@azure/msal-common/dist/authority/CloudInstanceDiscoveryErrorResponse.mjs:
  (*! @azure/msal-common v14.14.2 2024-08-28 *)

@azure/msal-common/dist/telemetry/performance/PerformanceEvent.mjs:
  (*! @azure/msal-common v14.14.2 2024-08-28 *)

@azure/msal-common/dist/utils/FunctionWrappers.mjs:
  (*! @azure/msal-common v14.14.2 2024-08-28 *)

@azure/msal-common/dist/authority/RegionDiscovery.mjs:
  (*! @azure/msal-common v14.14.2 2024-08-28 *)

@azure/msal-common/dist/utils/TimeUtils.mjs:
  (*! @azure/msal-common v14.14.2 2024-08-28 *)

@azure/msal-common/dist/cache/utils/CacheHelpers.mjs:
  (*! @azure/msal-common v14.14.2 2024-08-28 *)

@azure/msal-common/dist/authority/Authority.mjs:
  (*! @azure/msal-common v14.14.2 2024-08-28 *)

@azure/msal-common/dist/authority/AuthorityFactory.mjs:
  (*! @azure/msal-common v14.14.2 2024-08-28 *)

@azure/msal-common/dist/utils/ClientAssertionUtils.mjs:
  (*! @azure/msal-common v14.14.2 2024-08-28 *)

@azure/msal-common/dist/constants/AADServerParamKeys.mjs:
  (*! @azure/msal-common v14.14.2 2024-08-28 *)

@azure/msal-common/dist/crypto/ICrypto.mjs:
  (*! @azure/msal-common v14.14.2 2024-08-28 *)

@azure/msal-common/dist/logger/Logger.mjs:
  (*! @azure/msal-common v14.14.2 2024-08-28 *)

@azure/msal-common/dist/packageMetadata.mjs:
  (*! @azure/msal-common v14.14.2 2024-08-28 *)

@azure/msal-common/dist/request/ScopeSet.mjs:
  (*! @azure/msal-common v14.14.2 2024-08-28 *)

@azure/msal-common/dist/account/ClientInfo.mjs:
  (*! @azure/msal-common v14.14.2 2024-08-28 *)

@azure/msal-common/dist/account/AccountInfo.mjs:
  (*! @azure/msal-common v14.14.2 2024-08-28 *)

@azure/msal-common/dist/account/TokenClaims.mjs:
  (*! @azure/msal-common v14.14.2 2024-08-28 *)

@azure/msal-common/dist/cache/entities/AccountEntity.mjs:
  (*! @azure/msal-common v14.14.2 2024-08-28 *)

@azure/msal-common/dist/error/CacheErrorCodes.mjs:
  (*! @azure/msal-common v14.14.2 2024-08-28 *)

@azure/msal-common/dist/error/CacheError.mjs:
  (*! @azure/msal-common v14.14.2 2024-08-28 *)

@azure/msal-common/dist/cache/CacheManager.mjs:
  (*! @azure/msal-common v14.14.2 2024-08-28 *)

@azure/msal-common/dist/config/ClientConfiguration.mjs:
  (*! @azure/msal-common v14.14.2 2024-08-28 *)

@azure/msal-common/dist/error/ServerError.mjs:
  (*! @azure/msal-common v14.14.2 2024-08-28 *)

@azure/msal-common/dist/network/ThrottlingUtils.mjs:
  (*! @azure/msal-common v14.14.2 2024-08-28 *)

@azure/msal-common/dist/network/NetworkManager.mjs:
  (*! @azure/msal-common v14.14.2 2024-08-28 *)

@azure/msal-common/dist/account/CcsCredential.mjs:
  (*! @azure/msal-common v14.14.2 2024-08-28 *)

@azure/msal-common/dist/request/RequestValidator.mjs:
  (*! @azure/msal-common v14.14.2 2024-08-28 *)

@azure/msal-common/dist/request/RequestParameterBuilder.mjs:
  (*! @azure/msal-common v14.14.2 2024-08-28 *)

@azure/msal-common/dist/client/BaseClient.mjs:
  (*! @azure/msal-common v14.14.2 2024-08-28 *)

@azure/msal-common/dist/error/InteractionRequiredAuthErrorCodes.mjs:
  (*! @azure/msal-common v14.14.2 2024-08-28 *)

@azure/msal-common/dist/error/InteractionRequiredAuthError.mjs:
  (*! @azure/msal-common v14.14.2 2024-08-28 *)

@azure/msal-common/dist/utils/ProtocolUtils.mjs:
  (*! @azure/msal-common v14.14.2 2024-08-28 *)

@azure/msal-common/dist/crypto/PopTokenGenerator.mjs:
  (*! @azure/msal-common v14.14.2 2024-08-28 *)

@azure/msal-common/dist/cache/persistence/TokenCacheContext.mjs:
  (*! @azure/msal-common v14.14.2 2024-08-28 *)

@azure/msal-common/dist/response/ResponseHandler.mjs:
  (*! @azure/msal-common v14.14.2 2024-08-28 *)

@azure/msal-common/dist/client/AuthorizationCodeClient.mjs:
  (*! @azure/msal-common v14.14.2 2024-08-28 *)

@azure/msal-common/dist/client/RefreshTokenClient.mjs:
  (*! @azure/msal-common v14.14.2 2024-08-28 *)

@azure/msal-common/dist/client/SilentFlowClient.mjs:
  (*! @azure/msal-common v14.14.2 2024-08-28 *)

@azure/msal-common/dist/telemetry/server/ServerTelemetryManager.mjs:
  (*! @azure/msal-common v14.14.2 2024-08-28 *)

@azure/msal-common/dist/index.mjs:
  (*! @azure/msal-common v14.14.2 2024-08-28 *)

@azure/msal-node/dist/cache/serializer/Deserializer.mjs:
  (*! @azure/msal-node v2.13.1 2024-08-29 *)

@azure/msal-node/dist/internals.mjs:
  (*! @azure/msal-node v2.13.1 2024-08-29 *)

@azure/msal-node/dist/utils/Constants.mjs:
  (*! @azure/msal-node v2.13.1 2024-08-29 *)

@azure/msal-node/dist/utils/NetworkUtils.mjs:
  (*! @azure/msal-node v2.13.1 2024-08-29 *)

@azure/msal-node/dist/network/HttpClient.mjs:
  (*! @azure/msal-node v2.13.1 2024-08-29 *)

@azure/msal-node/dist/error/ManagedIdentityErrorCodes.mjs:
  (*! @azure/msal-node v2.13.1 2024-08-29 *)

@azure/msal-node/dist/error/ManagedIdentityError.mjs:
  (*! @azure/msal-node v2.13.1 2024-08-29 *)

@azure/msal-node/dist/config/ManagedIdentityId.mjs:
  (*! @azure/msal-node v2.13.1 2024-08-29 *)

@azure/msal-node/dist/retry/LinearRetryPolicy.mjs:
  (*! @azure/msal-node v2.13.1 2024-08-29 *)

@azure/msal-node/dist/network/HttpClientWithRetries.mjs:
  (*! @azure/msal-node v2.13.1 2024-08-29 *)

@azure/msal-node/dist/error/NodeAuthError.mjs:
  (*! @azure/msal-node v2.13.1 2024-08-29 *)

@azure/msal-node/dist/config/Configuration.mjs:
  (*! @azure/msal-node v2.13.1 2024-08-29 *)

@azure/msal-node/dist/crypto/GuidGenerator.mjs:
  (*! @azure/msal-node v2.13.1 2024-08-29 *)

@azure/msal-node/dist/utils/EncodingUtils.mjs:
  (*! @azure/msal-node v2.13.1 2024-08-29 *)

@azure/msal-node/dist/crypto/HashUtils.mjs:
  (*! @azure/msal-node v2.13.1 2024-08-29 *)

@azure/msal-node/dist/crypto/PkceGenerator.mjs:
  (*! @azure/msal-node v2.13.1 2024-08-29 *)

@azure/msal-node/dist/crypto/CryptoProvider.mjs:
  (*! @azure/msal-node v2.13.1 2024-08-29 *)

@azure/msal-node/dist/cache/NodeStorage.mjs:
  (*! @azure/msal-node v2.13.1 2024-08-29 *)

@azure/msal-node/dist/cache/TokenCache.mjs:
  (*! @azure/msal-node v2.13.1 2024-08-29 *)

@azure/msal-node/dist/client/ClientAssertion.mjs:
  (*! @azure/msal-node v2.13.1 2024-08-29 *)

@azure/msal-node/dist/packageMetadata.mjs:
  (*! @azure/msal-node v2.13.1 2024-08-29 *)

@azure/msal-node/dist/client/UsernamePasswordClient.mjs:
  (*! @azure/msal-node v2.13.1 2024-08-29 *)

@azure/msal-node/dist/client/ClientApplication.mjs:
  (*! @azure/msal-node v2.13.1 2024-08-29 *)

@azure/msal-node/dist/network/LoopbackClient.mjs:
  (*! @azure/msal-node v2.13.1 2024-08-29 *)

@azure/msal-node/dist/client/DeviceCodeClient.mjs:
  (*! @azure/msal-node v2.13.1 2024-08-29 *)

@azure/msal-node/dist/client/PublicClientApplication.mjs:
  (*! @azure/msal-node v2.13.1 2024-08-29 *)

@azure/msal-node/dist/client/ClientCredentialClient.mjs:
  (*! @azure/msal-node v2.13.1 2024-08-29 *)

@azure/msal-node/dist/client/OnBehalfOfClient.mjs:
  (*! @azure/msal-node v2.13.1 2024-08-29 *)

@azure/msal-node/dist/client/ConfidentialClientApplication.mjs:
  (*! @azure/msal-node v2.13.1 2024-08-29 *)

@azure/msal-node/dist/client/ManagedIdentitySources/BaseManagedIdentitySource.mjs:
  (*! @azure/msal-node v2.13.1 2024-08-29 *)

@azure/msal-node/dist/config/ManagedIdentityRequestParameters.mjs:
  (*! @azure/msal-node v2.13.1 2024-08-29 *)

@azure/msal-node/dist/client/ManagedIdentitySources/AppService.mjs:
  (*! @azure/msal-node v2.13.1 2024-08-29 *)

@jspm/core/nodelibs/browser/chunk-44e51b61.js:
  (*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> *)

@jspm/core/nodelibs/browser/buffer.js:
  (*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> *)

@azure/msal-node/dist/client/ManagedIdentitySources/AzureArc.mjs:
  (*! @azure/msal-node v2.13.1 2024-08-29 *)

@azure/msal-node/dist/client/ManagedIdentitySources/CloudShell.mjs:
  (*! @azure/msal-node v2.13.1 2024-08-29 *)

@azure/msal-node/dist/client/ManagedIdentitySources/Imds.mjs:
  (*! @azure/msal-node v2.13.1 2024-08-29 *)

@azure/msal-node/dist/client/ManagedIdentitySources/ServiceFabric.mjs:
  (*! @azure/msal-node v2.13.1 2024-08-29 *)

@azure/msal-node/dist/client/ManagedIdentityClient.mjs:
  (*! @azure/msal-node v2.13.1 2024-08-29 *)

@azure/msal-node/dist/client/ManagedIdentityApplication.mjs:
  (*! @azure/msal-node v2.13.1 2024-08-29 *)

@azure/msal-node/dist/cache/distributed/DistributedCachePlugin.mjs:
  (*! @azure/msal-node v2.13.1 2024-08-29 *)

@azure/msal-node/dist/index.mjs:
  (*! @azure/msal-node v2.13.1 2024-08-29 *)

tslib/tslib.es6.js:
  (*! *****************************************************************************
  Copyright (c) Microsoft Corporation.
  
  Permission to use, copy, modify, and/or distribute this software for any
  purpose with or without fee is hereby granted.
  
  THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
  REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
  AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
  INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
  LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
  OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
  PERFORMANCE OF THIS SOFTWARE.
  ***************************************************************************** *)
*/

Object.defineProperty(exports, "SignInUrlResponse", {
  enumerable: true,
  get: function () { return qce.SignInUrlResponse; }
});
Object.defineProperty(exports, "TokenExchangeRequest", {
  enumerable: true,
  get: function () { return qce.TokenExchangeRequest; }
});
Object.defineProperty(exports, "TokenStatus", {
  enumerable: true,
  get: function () { return qce.TokenStatus; }
});
Object.defineProperty(exports, "ServiceClientCredentials", {
  enumerable: true,
  get: function () { return azureCoreHttpCompat.ServiceClientCredentials; }
});
exports.AppCredentials = An;
exports.AuthenticationConfiguration = br;
exports.AuthenticationError = we;
exports.BetweenBotAndAseChannelTokenValidationParameters = sE;
exports.BotFrameworkAuthentication = Kp;
exports.BotFrameworkAuthenticationFactory = gx;
exports.CertificateAppCredentials = ny;
exports.CertificateServiceClientCredentialsFactory = FP;
exports.ClaimsIdentity = ci;
exports.ConnectorClient = gu;
exports.ConnectorClientOptions = export_ConnectorClientOptions;
exports.ConnectorFactory = oh;
exports.ConversationConstants = mE;
exports.EmulatorApiClient = RT;
exports.EndorsementsValidator = Kl;
exports.FederatedAppCredentials = iy;
exports.FederatedServiceClientCredentialsFactory = qP;
exports.JwtTokenProviderFactory = oM;
exports.ManagedIdentityAppCredentials = hy;
exports.ManagedIdentityAuthenticator = py;
exports.ManagedIdentityServiceClientCredentialsFactory = aM;
exports.MicrosoftAppCredentials = Go;
exports.MicrosoftGovernmentAppCredentials = yy;
exports.MsalAppCredentials = Wr;
exports.MsalServiceClientCredentialsFactory = uT;
exports.PasswordServiceClientCredentialFactory = sM;
exports.ReadReceiptInfo = hM;
exports.ServiceClientCredentialsFactory = Vo;
exports.SimpleCredentialProvider = Wp;
exports.Teams = Sy;
exports.TeamsConnectorClient = pM;
exports.TeamsConnectorClientContext = Ty;
exports.TeamsConnectorMappers = uM;
exports.TeamsConnectorModels = wG;
exports.ToBotFromBotOrEmulatorTokenValidationParameters = Fn;
exports.TokenApiClient = Wu;
exports.TokenApiModels = ox;
exports.TokenCredentials = pu;
exports.UserTokenClient = Ku;
exports.allowedCallersClaimsValidator = Gse;
exports.retryAction = Yo;
//# sourceMappingURL=browser.js.map
//# sourceMappingURL=browser.js.map